"use strict";(self.webpackChunkwww=self.webpackChunkwww||[]).push([[5944],{35944:(a,s,t)=>{t.r(s),t.d(s,{print:()=>n});var e=t(30381),p=t.n(e);function n(){var a=arguments.length>0?arguments[0]:void 0;if(void 0===a)return[];var s=function(){return new Intl.NumberFormat("de",{style:"decimal",minimumIntegerDigits:1,minimumFractionDigits:2,maximumFractionDigits:3}).format(arguments[0])};return[{align:"ct",logo:"./resources/logop.png"},function(){return{font:"a",style:"b",align:"ct",data:""}},function(){return{font:"a",style:"b",align:"ct",data:"7 ALLEE DU MIDI"}},function(){return{font:"a",style:"b",align:"ct",data:"54270 ESSEY LES NANCY"}},function(){return{font:"a",style:"b",align:"ct",data:"Tel : 03 83 93 33 07"}},function(){return{font:"a",style:"b",align:"ct",data:"nancy@prodorplus.fr"}},function(){return{font:"a",style:"b",align:"ct",data:"www.prodorplus.fr"}},function(){var s=[];return"Fatura"==a.special.type&&(s.push({font:"a",align:"ct",data:"------------------------------------------------"}),s.push({font:"a",align:"ct",data:"FACTURE"}),s.push({font:"a",align:"ct",data:"------------------------------------------------"}),s.push({font:"b",style:"b",align:"ct",data:" ".space(64)}),s.push({font:"b",style:"b",align:"lt",data:"Nom:.........................................................."}),s.push({font:"b",style:"b",align:"lt",data:"Adresse:......................................................"}),s.push({font:"b",style:"b",align:"lt",data:".............................................................."}),s.push({font:"b",style:"b",align:"lt",data:".............................................................."}),s.push({font:"b",style:"b",align:"ct",data:" ".space(64)})),s.length>0?s:void 0},function(){return{font:"b",align:"lt",data:(p()(new Date).locale("fr").format("dddd")+" "+p()(new Date).format("DD.MM.YYYY")).space(59)+p()(new Date).format("LTS").space(5)}},function(){return{font:"b",align:"lt",data:("Caissier: "+a.pos[0].CUSER).space(34,"e")+("Caisse: "+a.special.safe).space(30,"s")}},function(){return{align:"ct",barcode:a.pos[0].GUID.substring(19,36),options:{width:1,height:40,position:"OFF"}}},function(){return{font:"a",style:"b",align:"ct",data:"****** Numero de Ticket De Caisse ******"}},function(){return{font:"b",align:"lt",data:" ".space(64)}},function(){if("Fatura"==a.special.type||a.special.reprint)return{font:"b",style:"b",align:"ct",data:"DUPLICATA"}},function(){var s=[];return a.pospay.where({TYPE:0}).length>0&&1==a.pos[0].TYPE?(s.push({font:"b",style:"b",size:[1,1],align:"ct",data:"REMBOURSEMENT"}),s.push({font:"b",style:"b",align:"ct",data:" ".space(64)})):a.pospay.where({TYPE:4}).length>0&&(s.push({font:"b",style:"b",size:[1,1],align:"ct",data:"BON D'AVOIR"}),s.push({font:"b",style:"b",align:"ct",data:" ".space(64)})),s.length>0?s:void 0},function(){return{font:"b",style:"bu",align:"lt",data:"T "+"Libelle".space(37)+" "+"Qte".space(8)+" "+"P/u".space(7)+" "+"Prix".space(7)}},function(){var t=[];if("Repas"==a.special.type){var e=a.possale.sum("AMOUNT",2)/a.special.repas;t.push({font:"b",align:"lt",data:"  "+"Repas complet(s)".space(34)+" "+a.special.repas.space(8,"s")+" "+e.toString().space(7,"s")+" "+(s(a.possale.sum("AMOUNT",2))+"EUR").space(10,"s")})}else for(var p=0;p<a.possale.length;p++){var n;n=Number.isInteger(parseFloat(a.possale[p].QUANTITY))?parseInt(a.possale[p].QUANTITY/a.possale[p].UNIT_FACTOR)+" "+a.possale[p].UNIT_SHORT:parseFloat(parseFloat(a.possale[p].QUANTITY/a.possale[p].UNIT_FACTOR).toFixed(3))+" "+a.possale[p].UNIT_SHORT,t.push({font:"b",style:"00000000-0000-0000-0000-000000000000"==a.possale[p].GUID?"b":void 0,align:"00000000-0000-0000-0000-000000000000"==a.possale[p].GUID?"rt":"lt",data:a.possale[p].VAT_TYPE+" "+("00000000-0000-0000-0000-000000000000"==a.possale[p].GUID?a.possale[p].ITEM_SNAME.space(30,"s"):(a.possale[p].TICKET_REST?"*"+a.possale[p].ITEM_SNAME:a.possale[p].ITEM_SNAME).toString().space(34))+" "+("00000000-0000-0000-0000-000000000000"==a.possale[p].GUID?"":n).space(8,"s")+" "+("00000000-0000-0000-0000-000000000000"==a.possale[p].GUID?"":parseFloat(a.possale[p].PRICE*a.possale[p].UNIT_FACTOR).toFixed(2)).space(7,"s")+" "+(parseFloat(a.possale[p].AMOUNT).toFixed(2)+"EUR").space(10,"s")})}return t.length>0?t:void 0},{font:"b",style:"bu",align:"lt",data:" ".space(64)},function(){var t=[],e=1==a.pos[0].TYPE?"-":"";return a.special.customerUsePoint>0&&(t.push({font:"a",align:"lt",data:"Sous-Total ".space(33)+(e+s(a.possale.sum("AMOUNT",2))+"EUR").space(15,"s")}),t.push({font:"a",align:"lt",data:"Remise Fidelite ".space(33)+((-1*parseFloat(parseFloat(a.special.customerUsePoint)/100)).toFixed(2).toString()+" EUR").space(15,"s")})),a.possale.sum("DISCOUNT",2)>0&&(0==a.special.customerUsePoint&&t.push({font:"a",align:"lt",data:"Sous-Total ".space(33)+(e+s(a.possale.sum("AMOUNT",2))+"EUR").space(15,"s")}),t.push({font:"a",align:"lt",data:"Remise ".space(33)+(s(-1*a.possale.sum("DISCOUNT",2))+"EUR").space(15,"s")})),t.length>0?t:void 0},function(){var t=1==a.pos[0].TYPE?"-":"";return{font:"b",size:[1,1],style:"b",align:"lt",data:"Total TTC".space(17)+(t+s(parseFloat(a.possale.sum("TOTAL")).toFixed(2))+"EUR").space(15,"s")}},function(){for(var t=[],e=1==a.pos[0].TYPE?"-":"",p=0;p<a.pospay.length;p++){var n="";0==a.pospay[p].PAY_TYPE?n="Espece":1==a.pospay[p].PAY_TYPE?n="CB":2==a.pospay[p].PAY_TYPE?n="Cheque":3==a.pospay[p].PAY_TYPE?n="CHEQue":4==a.pospay[p].PAY_TYPE?n="BON D'AVOIR":5==a.pospay[p].PAY_TYPE?n="AVOIR":6==a.pospay[p].PAY_TYPE?n="VIRMENT":7==a.pospay[p].PAY_TYPE&&(n="PRLV"),t.push({font:"a",align:"lt",data:n.space(33)+(e+s(a.pospay.where({PAY_TYPE:a.pospay[p].PAY_TYPE}).sum("AMOUNT",2))+"EUR").space(15,"s")})}return t.length>0?t:void 0},function(){var t=[];return a.pospay.where({PAY_TYPE:0}).length>0?(t.push({font:"a",align:"lt",data:"Recu".space(33)+(s(parseFloat(a.pospay.sum("AMOUNT",2)).toFixed(2))+"EUR").space(15,"s")}),t.push({font:"a",align:"lt",data:"Rendu".space(33)+(s(a.pospay.sum("CHANGE",2))+"EUR").space(15,"s")})):a.pospay.where({PAY_TYPE:3}).length>0?(t.push({font:"a",align:"lt",data:"Surplus Tic. Rest.".space(33)+(s(a.pospay.sum("TICKET_PLUS",2))+"EUR").space(15,"s")}),t.push({font:"a",align:"lt",data:"Rendu".space(33)+"0,00EUR".space(15,"s")})):a.pospay.where({PAY_TYPE:4}).length>0&&(t.push({font:"a",align:"lt",data:"Recu".space(33)+(s(parseFloat(a.pospay.where({PAY_TYPE:4}).sum("AMOUNT",2)+a.pospay.sum("CHANGE",2)).toFixed(2))+"EUR").space(15,"s")}),t.push({font:"a",align:"lt",data:"Rendu".space(33)+(s(a.pospay.sum("CHANGE",2))+"EUR").space(15,"s")})),t.length>0?t:void 0},{font:"b",style:"bu",align:"lt",data:" ".space(64)},function(){var s=[];s.push({font:"b",style:"bu",align:"lt",data:" ".space(5)+" "+"Taux".space(10)+" "+"HT".space(10)+" "+"TVA".space(10)+" "+"TTC".space(10)});for(var t=a.possale.where({GUID:{"<>":"00000000-0000-0000-0000-000000000000"}}).groupBy("VAT_RATE"),e=0;e<t.length;e++)s.push({font:"b",align:"lt",data:t[e].VAT_TYPE.space(5)+" "+(t[e].VAT_RATE+"%").space(10)+" "+a.possale.where({VAT_TYPE:t[e].VAT_TYPE}).sum("FAMOUNT",2).space(10)+" "+a.possale.where({VAT_TYPE:t[e].VAT_TYPE}).sum("VAT",2).space(10)+" "+a.possale.where({VAT_TYPE:t[e].VAT_TYPE}).sum("TOTAL",2).space(10)});return s.length>0?s:void 0},{font:"b",style:"bu",align:"lt",data:" ".space(64)},function(){if(a.possale.where({TICKET_REST:!0}).length>0)return{font:"b",style:"b",align:"lt",data:"TOTAL ART ELIGIBLE".space(56)+" "+a.possale.where({TICKET_REST:!0}).sum("TOTAL",2).space(7,"s")}},{font:"b",style:"bu",align:"lt",data:" ".space(64)},function(){return{font:"b",align:"lt",data:(a.possale.where({GUID:{"<>":"00000000-0000-0000-0000-000000000000"}}).length.toString()+" Aricle(s)").space(14)}},function(){var t=[];return""!=a.pos[0].CUSTOMER_CODE&&(t.push({align:"ct",barcode:a.pos[0].CUSTOMER_CODE,options:{width:1,height:30}}),t.push({font:"b",style:"b",align:"lt",data:"****************************************************************".space(64)}),t.push({font:"b",align:"lt",data:("CARTE DE FIDELITE / "+a.pos[0].CUSTOMER_CODE).space(64)}),t.push({font:"b",align:"lt",data:"ANCIEN CUMUL ".space(56)+(a.special.customerPoint+" Pts").space(8,"s")}),t.push({font:"b",align:"lt",data:"POINT ACQUIS SUR CE TICKET ".space(56)+(parseInt(a.pos[0].TOTAL)+" Pts").space(8,"s")}),a.special.customerUsePoint>0&&t.push({font:"b",align:"lt",data:"UTILISE POINT ".space(56)+(-1*parseInt(a.special.customerUsePoint)+" Pts").space(8,"s")}),t.push({font:"b",align:"lt",data:"NOUVEAU CUMUL ".space(56)+(parseInt(a.special.customerGrowPoint)+parseInt(a.pos[0].TOTAL)+" Pts").space(8,"s")}),t.push({font:"b",align:"lt",data:"EQUIVALENT REMISE ".space(56)+(s(parseFloat((parseInt(a.special.customerGrowPoint)+parseInt(a.pos[0].TOTAL))/100).toFixed(2)).toString()+"EUR").space(8,"s")}),t.push({font:"b",style:"b",align:"lt",data:"****************************************************************".space(64)})),t.length>0?t:void 0},function(){var t=[];return""!=a.pos[0].REBATE_CHEQPAY&&a.pospay.where({PAY_TYPE:4}).length>0&&1==a.pos[0].TYPE?(t.push({font:"b",style:"b",align:"ct",size:[1,0],data:"OluÅŸan Bon d'avoir : "+s(parseFloat(a.pos[0].REBATE_CHEQPAY.substring(8,12)/100).toFixed(2))+"EUR"}),t.push({align:"ct",barcode:a.pos[0].REBATE_CHEQPAY,options:{width:1,height:90}}),t.push({font:"b",style:"b",align:"lt",data:" ".space(64)}),t.push({font:"b",style:"b",align:"ct",data:"Avoir valable 3 mois apres edition..."})):""!=a.pos[0].REBATE_CHEQPAY&&a.pospay.where({PAY_TYPE:4}).length>0&&0==a.pos[0].TYPE&&a.pospay.where({CHANGE:{">":0}}).length>0?(t.push({font:"b",style:"b",align:"ct",size:[1,0],data:"Kalan Bon d'avoir : "+s(parseFloat(a.pos[0].REBATE_CHEQPAY.substring(8,12)/100).toFixed(2))+"EUR"}),t.push({align:"ct",barcode:a.pos[0].REBATE_CHEQPAY,options:{width:1,height:90}}),t.push({font:"b",style:"b",align:"lt",data:" ".space(64)}),t.push({font:"b",style:"b",align:"ct",data:"Avoir valable 3 mois apres edition..."})):t.push({font:"b",style:"b",align:"ct",data:"Merci de votre fidelite a tres bientot ..."}),t.length>0?t:void 0}]}}}]);