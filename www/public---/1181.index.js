"use strict";(self.webpackChunkwww=self.webpackChunkwww||[]).push([[1181],{93579:(t,e,i)=>{i.r(e),i.d(e,{default:()=>C});var n=i(15861),s=i(15671),o=i(43144),r=i(97326),a=i(60136),l=i(82963),d=i(61120),p=i(64687),u=i.n(p),h=i(67294),c=i(95403),f=i(18405),v=i(25552),y=i.n(v),g=(i(99077),i(32175),i(417),i(4942)),E=i(17276);function m(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function w(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?m(Object(i),!0).forEach((function(e){(0,g.Z)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}i(30381);var O=function(){function t(){(0,s.Z)(this,t),this.core=E.vE.instance,this.ds=new E.gx,this.empty={GUID:"00000000-0000-0000-0000-000000000000",CUSER:null==this.core.auth.data?"":this.core.auth.data.CODE,CODE:"",NAME:"",PWD:"",ROLE:"",STATUS:0},this._initDs()}return(0,o.Z)(t,[{key:"_initDs",value:function(){var t=new E.$A("ROLE");t.selectCmd={query:"SELECT * FROM ROLE WHERE ((GUID = @GUID) OR (@GUID = '00000000-0000-0000-0000-000000000000'))",param:["GUID:string|50"]},t.insertCmd={query:"EXEC [dbo].[PRD_ROLE_INSERT] @GUID = @PGUID, @CODE = @PCODE, @NAME = @PNAME ",param:["PGUID:string|50","PCODE:string|25","PNAME:string|50"],dataprm:["GUID","CODE","NAME"]},t.updateCmd={query:"EXEC [dbo].[PRD_ROLE_UPDATE] @GUID = @PGUID, @CODE = @PCODE, @NAME = @PNAME ",param:["PGUID:string|50","PCODE:string|25","PNAME:string|50"],dataprm:["GUID","CODE","NAME"]},t.deleteCmd={query:"EXEC [dbo].[PRD_ROLE_DELETE] @GUID = @PGUID, @CODE = @PCODE, @NAME = @PNAME ",param:["PGUID:string|50","PCODE:string|25","PNAME:string|50"],dataprm:["GUID","CODE","NAME"]},this.ds.add(t)}},{key:"dt",value:function(){return arguments.length>0?this.ds.get(arguments[0]):this.ds.get(0)}},{key:"addEmpty",value:function(){if(void 0!==this.dt("ROLE")){var t={};(t=w({},arguments.length>0?arguments[0]:this.empty)).GUID=E.$A.uuidv4(),this.dt("ROLE").push(t)}}},{key:"clearAll",value:function(){for(var t=0;t<this.ds.length;t++)this.dt(t).clear()}},{key:"load",value:function(){var t=arguments,e=this;return new Promise(function(){var i=(0,n.Z)(u().mark((function i(n){var s;return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s={GUID:"00000000-0000-0000-0000-000000000000"},t.length>0&&(s.GUID=void 0===t[0].GUID?"00000000-0000-0000-0000-000000000000":t[0].GUID),e.ds.get("ROLE").selectCmd.value=Object.values(s),i.next=5,e.ds.get("ROLE").refresh();case 5:n(e.ds.get("ROLE"));case 6:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}())}},{key:"save",value:function(){var t=this;return new Promise(function(){var e=(0,n.Z)(u().mark((function e(i){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.ds.delete(),e.t0=i,e.next=4,t.ds.update();case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),t}();var C=function(t){(0,a.Z)(E,t);var e,i,p,g=(i=E,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=(0,d.Z)(i);if(p){var n=(0,d.Z)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,l.Z)(this,t)});function E(t){var e;return(0,s.Z)(this,E),(e=g.call(this,t)).core=c.Z.instance.core,e.roleObj=new O,e._cellRoleRender=e._cellRoleRender.bind((0,r.Z)(e)),e}return(0,o.Z)(E,[{key:"_cellRoleRender",value:function(t){}},{key:"init",value:(e=(0,n.Z)(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.roleObj.load({});case 2:return t.next=4,this.grdRoleList.dataRefresh({source:this.roleObj.dt("ROLE")});case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"componentDidMount",value:function(){this.init()}},{key:"render",value:function(){return h.createElement("div",{className:"row p-2"},h.createElement("div",{className:"col-12"},h.createElement(f.ZP,{id:"grdRoleList",parent:this,onSelectionChanged:this.onSelectionChanged,showBorders:!0,allowColumnResizing:!0,selection:{mode:"single"},width:"100%",height:"100%",data:this.data,filterRow:{visible:!0},headerFilter:{visible:!0},param:this.param.filter({ELEMENT:"grdRoleList",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"grdRoleList",USERS:this.user.CODE})},h.createElement(f.LO,{mode:"popup",allowUpdating:!0,allowAdding:!0,allowDeleting:!0},h.createElement(f.GI,{title:this.t("RoleEdit"),showTitle:!0,width:700,height:525}),h.createElement(y(),null,h.createElement(v.Item,{itemType:"group",colCount:2},h.createElement(v.Item,{dataField:"CODE"}),h.createElement(v.Item,{dataField:"NAME"})))),h.createElement(f.sg,{dataField:"CODE",caption:this.t("grdRoleList.clmCode")}),h.createElement(f.sg,{dataField:"NAME",caption:this.t("grdRoleList.clmName")}))))}}]),E}(h.Component)},99846:(t,e,i)=>{i.d(e,{ZP:()=>f});var n=i(15671),s=i(43144),o=i(97326),r=i(60136),a=i(82963),l=i(61120),d=i(19755),p=i.n(d),u=i(67294),h=(i(73935),i(62045)),c=i(20819);i(17276),i(30381);var f=function(t){(0,r.Z)(c,t);var e,i,d=(e=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=(0,l.Z)(e);if(i){var s=(0,l.Z)(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return(0,a.Z)(this,t)});function c(t){var e;return(0,n.Z)(this,c),(e=d.call(this,t)).dev=null,e.state.value=void 0===t.value?"":t.value,e.state.title=void 0===t.title?"":t.title,e.state.mode=void 0===t.mode?"text":t.mode,e.state.placeholder=void 0===t.placeholder?"":t.placeholder,e.state.displayValue=void 0===t.displayValue?"":t.displayValue,e.state.titleAlign=void 0===t.titleAlign?"left":t.titleAlign,e.state.showClearButton=void 0!==t.showClearButton&&t.showClearButton,e.state.readOnly=void 0!==t.readOnly&&t.readOnly,e._onInitialized=e._onInitialized.bind((0,o.Z)(e)),e._onValueChanged=e._onValueChanged.bind((0,o.Z)(e)),e._onEnterKey=e._onEnterKey.bind((0,o.Z)(e)),e._onFocusIn=e._onFocusIn.bind((0,o.Z)(e)),e._onFocusOut=e._onFocusOut.bind((0,o.Z)(e)),e._onChange=e._onChange.bind((0,o.Z)(e)),e._onKeyDown=e._onKeyDown.bind((0,o.Z)(e)),e._onKeyUp=e._onKeyUp.bind((0,o.Z)(e)),e}return(0,s.Z)(c,[{key:"_onInitialized",value:function(t){this.dev=t.component}},{key:"_onValueChanged",value:function(t){this.props.upper?this.value=t.value.toString().toUpperCase():this.value=t.value,void 0!==this.props.onValueChanged&&this.props.onValueChanged(t)}},{key:"_onValueChanging",value:function(t){void 0!==this.props.onValueChanging&&this.props.onValueChanging(t)}},{key:"_onEnterKey",value:function(t){void 0!==this.props.onEnterKey&&this.props.onEnterKey(t)}},{key:"_onFocusIn",value:function(t){void 0!==this.props.selectAll&&1!=this.props.selectAll||this.dev.element().getElementsByTagName("input")[0].select(),void 0!==this.props.onFocusIn&&this.props.onFocusIn(t)}},{key:"_onFocusOut",value:function(){void 0!==this.props.onFocusOut&&this.props.onFocusOut()}},{key:"_onChange",value:function(t){this.value=t.value,void 0!==this.props.onChange&&this.props.onChange(t)}},{key:"_onKeyDown",value:function(t){void 0!==this.props.onKeyDown&&this.props.onKeyDown(t)}},{key:"_onKeyUp",value:function(t){void 0!==this.props.onKeyUp&&this.props.onKeyUp(t)}},{key:"_buttonView",value:function(){if(void 0!==this.props.button){var t=[],e=void 0;void 0!==this.props.displayValue&&(e={style:"z-index:2"});for(var i=0;i<this.props.button.length;i++)t.push(u.createElement(h.Button,{key:i,name:"btn_"+this.props.button[i].id,location:"after",options:{disabled:!1,icon:this.props.button[i].icon,stylingMode:"text",onClick:this.props.button[i].onClick,elementAttr:e}}));return t}}},{key:"_displayView",value:function(){if(void 0!==this.props.displayValue)return u.createElement("div",{id:"dsp"+this.props.id,className:"dsp-textbox ",style:{zIndex:1,borderRadius:"4px",height:"100%",padding:"5px",margin:"2px",width:"100%",whiteSpace:"nowrap",overflow:"hidden"}},this.state.displayValue)}},{key:"_txtView",value:function(){return u.createElement(h.TextBox,{id:this.props.id,mode:this.state.mode,showClearButton:this.state.showClearButton,height:"fit-content",maxLength:this.props.maxLength,placeholder:this.state.placeholder,style:this.props.style,elementAttr:this.props.elementAttr,valueChangeEvent:"keyup",onValueChanged:this._onValueChanged,onEnterKey:this._onEnterKey,onFocusIn:this._onFocusIn,onFocusOut:this._onFocusOut,onChange:this._onChange,onKeyDown:this._onKeyDown,onKeyUp:this._onKeyUp,onInitialized:this._onInitialized,value:void 0===this.state.value?"":this.state.value.toString(),readOnly:this.state.readOnly,format:this.props.format,disabled:void 0===this.props.editable?this.state.editable:this.props.editable},this.props.children,this._buttonView(),this._displayView(),this.validationView())}},{key:"componentDidMount",value:function(){void 0!==this.props.displayValue&&p()("#"+this.props.id+" > .dx-texteditor-container > .dx-texteditor-input-container").append(p()("#"+this.props.id+" > #dsp"+this.props.id))}},{key:"displayValue",get:function(){return this.state.displayValue},set:function(t){var e=this;if(void 0!==this.props.dt&&void 0!==this.props.dt.data&&this.props.dt.data.length>0&&void 0!==this.props.dt.field)if(void 0===this.props.dt.filter)void 0!==this.props.dt.row&&void 0!==this.props.dt.data.find((function(t){return t===e.props.dt.row}))?void 0!==this.props.dt.display&&(this.props.dt.data.find((function(t){return t===e.props.dt.row}))[this.props.dt.display]=t):void 0!==this.props.dt.display&&(this.props.dt.data[this.props.dt.data.length-1][this.props.dt.display]=t);else{var i=this.props.dt.data.where(this.props.dt.filter);i.length>0&&(void 0!==this.props.dt.row&&void 0!==i.find((function(t){return t===e.props.dt.row}))?void 0!==this.props.dt.display&&(i.find((function(t){return t===e.props.dt.row}))[this.props.dt.display]=t):void 0!==this.props.dt.display&&(i[i.length-1][this.props.dt.display]=t))}this.setState({displayValue:t})}},{key:"value",get:function(){return this.state.value},set:function(t){var e=this;if(void 0!==t){if(void 0!==this.props.dt&&void 0!==this.props.dt.data&&this.props.dt.data.length>0&&void 0!==this.props.dt.field)if(void 0===this.props.dt.filter)void 0!==this.props.dt.row&&void 0!==this.props.dt.data.find((function(t){return t===e.props.dt.row}))?this.props.dt.data.find((function(t){return t===e.props.dt.row}))[this.props.dt.field]=t:this.props.dt.data[this.props.dt.data.length-1][this.props.dt.field]=t;else{var i=this.props.dt.data.where(this.props.dt.filter);i.length>0&&(void 0!==this.props.dt.row&&void 0!==i.find((function(t){return t===e.props.dt.row}))?i.find((function(t){return t===e.props.dt.row}))[this.props.dt.field]=t:i[i.length-1][this.props.dt.field]=t)}this.setState({value:t.toString()}),this.dev.option("value",t.toString()),this._onValueChanging(t.toString())}}},{key:"readOnly",get:function(){return this.state.readOnly},set:function(t){this.setState({readOnly:t})}},{key:"focus",value:function(){this.dev.focus()}},{key:"render",value:function(){return 0==this.state.visible?u.createElement("div",null):void 0!==this.props.simple&&this.props.simple?this._txtView():""==this.state.title?u.createElement("div",{className:"dx-field"},this._txtView()):void 0===this.state.titleAlign?u.createElement("div",{className:"dx-field"},u.createElement("div",{className:"dx-field-label",style:{textAlign:"right"}},this.state.title),this._txtView()):"top"==this.state.titleAlign?u.createElement("div",{className:"dx-field"},u.createElement("div",null,this.state.title),this._txtView()):"bottom"==this.state.titleAlign?u.createElement("div",{className:"dx-field"},this._txtView(),u.createElement("div",null,this.state.option.title)):"left"==this.state.titleAlign?u.createElement("div",{className:"dx-field"},u.createElement("div",{className:"dx-field-label",style:{textAlign:"right"}},this.state.title),this._txtView()):"right"==this.state.titleAlign?u.createElement("div",{className:"dx-field"},this._txtView(),u.createElement("div",{className:"dx-field-label",style:{float:"right",paddingLeft:"15px"}},this.state.title)):void 0}}]),c}(c.ZP)}}]);