/*! For license information please see 9321.index.js.LICENSE.txt */
"use strict";(self.webpackChunkwww=self.webpackChunkwww||[]).push([[9321],{16399:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var a=n(15861),i=n(15671),o=n(43144),r=n(60136),s=n(82963),l=n(61120),c=n(64687),u=n.n(c),d=n(67294),p=n(73364),f=n(57812),b=(n(30381),n(42866)),h=n.n(b),m=n(53221),v=n.n(m),g=n(25552),E=n.n(g),C=(n(91686),n(30886),n(99846)),x=(n(5083),n(99077),n(55585),n(417)),y=(n(32175),n(18405)),S=n(73682),O=(n(90428),n(57941),n(60547));n(17276);var w=function(e){(0,r.Z)(_,e);var t,n,c,b,m,w,D=(m=_,w=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,l.Z)(m);if(w){var n=(0,l.Z)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,s.Z)(this,e)});function _(e){var t;return(0,i.Z)(this,_),(t=D.call(this,e)).core=p.Z.instance.core,t.prmObj=t.param.filter({TYPE:1,USERS:t.user.CODE}),t.deviceObj=new f.VV,t.prevCode="",t.tabIndex=e.data.tabkey,t}return(0,o.Z)(_,[{key:"componentDidMount",value:(b=(0,a.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.util.waitUntil(0);case 2:this.init();case 3:case"end":return e.stop()}}),e,this)}))),function(){return b.apply(this,arguments)})},{key:"init",value:(c=(0,a.Z)(u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.deviceObj.clearAll(),this.deviceObj.addEmpty(),this.deviceObj.ds.on("onAddRow",(function(e,n){"new"==n.stat&&(""!=t.prevCode?(t.btnNew.setState({disabled:!0}),t.btnBack.setState({disabled:!1})):(t.btnNew.setState({disabled:!1}),t.btnBack.setState({disabled:!0})),t.btnSave.setState({disabled:!1}),t.btnDelete.setState({disabled:!1}),t.btnCopy.setState({disabled:!1}))})),this.deviceObj.ds.on("onEdit",(function(e,n){"edit"==n.rowData.stat&&(t.btnBack.setState({disabled:!1}),t.btnNew.setState({disabled:!0}),t.btnSave.setState({disabled:!1}),t.btnDelete.setState({disabled:!1}),t.btnCopy.setState({disabled:!1}),n.rowData.CUSER=t.user.CODE)})),this.deviceObj.ds.on("onRefresh",(function(e){t.prevCode=t.deviceObj.dt("POS_DEVICE").length>0?t.deviceObj.dt("POS_DEVICE")[0].CODE:"",t.btnBack.setState({disabled:!0}),t.btnNew.setState({disabled:!1}),t.btnSave.setState({disabled:!0}),t.btnDelete.setState({disabled:!1}),t.btnCopy.setState({disabled:!1})})),this.deviceObj.ds.on("onDelete",(function(e){t.btnBack.setState({disabled:!1}),t.btnNew.setState({disabled:!0}),t.btnSave.setState({disabled:!1}),t.btnDelete.setState({disabled:!1}),t.btnCopy.setState({disabled:!1})}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"getDevice",value:(n=(0,a.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.deviceObj.clearAll(),e.next=3,this.deviceObj.load({CODE:t});case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"checkDevice",value:(t=(0,a.Z)(u().mark((function e(t){var n=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,a.Z)(u().mark((function e(a){var i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t){e.next=16;break}return i={query:"SELECT * FROM [POS_DEVICE_VW_01] WHERE CODE = @CODE",param:["CODE:string|50"],value:[t]},e.next=4,n.core.sql.execute(i);case 4:if(!(e.sent.result.recordset.length>0)){e.next=13;break}return o={id:"msgCode",showTitle:!0,title:n.t("msgCode.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:n.t("msgCode.btn01"),location:"before"},{id:"btn02",caption:n.t("msgCode.btn02"),location:"after"}],content:d.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},n.t("msgCode.msg"))},e.next=9,(0,O.W)(o);case 9:"btn01"==e.sent?(n.getDevice(t),a(2)):a(3),e.next=14;break;case 13:a(1);case 14:e.next=17;break;case 16:a(0);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){var e,t=this;return d.createElement("div",null,d.createElement(h(),null,d.createElement("div",{className:"row px-2 pt-2"},d.createElement("div",{className:"col-12"},d.createElement(v(),null,d.createElement(g.Item,{location:"after",locateInMenu:"auto"},d.createElement(S.Z,{id:"btnBack",parent:this,icon:"revert",type:"default",onClick:function(){""!=t.prevCode&&t.getDevice(t.prevCode)}})),d.createElement(g.Item,{location:"after",locateInMenu:"auto"},d.createElement(S.Z,{id:"btnNew",parent:this,icon:"file",type:"default",onClick:function(){t.init()}})),d.createElement(g.Item,{location:"after",locateInMenu:"auto"},d.createElement(S.Z,{id:"btnSave",parent:this,icon:"floppy",type:"default",validationGroup:"frmDevice"+this.tabIndex,onClick:function(){var e=(0,a.Z)(u().mark((function e(n){var a,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("valid"!=n.validationGroup.validate().status){e.next=21;break}return a={id:"msgSave",showTitle:!0,title:t.t("msgSave.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:t.t("msgSave.btn01"),location:"before"},{id:"btn02",caption:t.t("msgSave.btn02"),location:"after"}],content:d.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},t.t("msgSave.msg"))},e.next=4,(0,O.W)(a);case 4:if("btn01"!=e.sent){e.next=19;break}return i={id:"msgSaveResult",showTitle:!0,title:t.t("msgSave.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:t.t("msgSave.btn01"),location:"after"}]},e.next=9,t.deviceObj.save();case 9:if(e.t0=e.sent,0!=e.t0){e.next=16;break}return i.content=d.createElement("div",{style:{textAlign:"center",fontSize:"20px",color:"green"}},t.t("msgSaveResult.msgSuccess")),e.next=14,(0,O.W)(i);case 14:e.next=19;break;case 16:return i.content=d.createElement("div",{style:{textAlign:"center",fontSize:"20px",color:"red"}},t.t("msgSaveResult.msgFailed")),e.next=19,(0,O.W)(i);case 19:e.next=24;break;case 21:return o={id:"msgSaveValid",showTitle:!0,title:t.t("msgSaveValid.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:t.t("msgSaveValid.btn01"),location:"after"}],content:d.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},t.t("msgSaveValid.msg"))},e.next=24,(0,O.W)(o);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),d.createElement(g.Item,{location:"after",locateInMenu:"auto"},d.createElement(S.Z,{id:"btnDelete",parent:this,icon:"trash",type:"default",onClick:(0,a.Z)(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:"msgDelete",showTitle:!0,title:t.t("msgDelete.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:t.t("msgDelete.btn01"),location:"before"},{id:"btn02",caption:t.t("msgDelete.btn02"),location:"after"}],content:d.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},t.t("msgDelete.msg"))},e.next=3,(0,O.W)(n);case 3:if("btn01"!=e.sent){e.next=9;break}return t.deviceObj.dt("POS_DEVICE").removeAt(0),e.next=8,t.deviceObj.dt("POS_DEVICE").delete();case 8:t.init();case 9:case"end":return e.stop()}}),e)})))})),d.createElement(g.Item,{location:"after",locateInMenu:"auto"},d.createElement(S.Z,{id:"btnCopy",parent:this,icon:"copy",type:"default",onClick:function(){}})),d.createElement(g.Item,{location:"after",locateInMenu:"auto",widget:"dxButton",options:{type:"default",icon:"clear",onClick:(e=(0,a.Z)(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:"msgClose",showTitle:!0,title:t.lang.t("msgWarning"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:t.lang.t("btnYes"),location:"before"},{id:"btn02",caption:t.lang.t("btnNo"),location:"after"}],content:d.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},t.lang.t("msgClose"))},e.next=3,(0,O.W)(n);case 3:"btn01"==e.sent&&p.Z.instance.panel.closePage();case 5:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})}})))),d.createElement("div",{className:"row px-2 pt-2"},d.createElement("div",{className:"col-12"},d.createElement(E(),{colCount:3,id:"frmDevice"+this.tabIndex},d.createElement(g.Item,null,d.createElement(g.Label,{text:this.t("txtCode"),alignment:"right"}),d.createElement(C.ZP,{id:"txtCode",parent:this,simple:!0,dt:{data:this.deviceObj.dt("POS_DEVICE"),field:"CODE"},upper:this.sysParam.filter({ID:"onlyBigChar",USERS:this.user.CODE}).getValue().value,button:[{id:"01",icon:"more",onClick:function(){t.pg_txtCode.show(),t.pg_txtCode.onClick=function(e){e.length>0&&t.getDevice(e[0].CODE)}}},{id:"02",icon:"arrowdown",onClick:function(){t.txtCode.value=Math.floor(Date.now()/1e3)}}],onChange:(0,a.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.checkDevice(t.txtCode.value);case 2:3==e.sent&&(t.txtCode.value="");case 4:case"end":return e.stop()}}),e)}))).bind(this),param:this.param.filter({ELEMENT:"txtCode",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"txtCode",USERS:this.user.CODE})},d.createElement(C.cX,{validationGroup:"frmDevice"+this.tabIndex},d.createElement(C.n2,{message:this.t("validCode")}))),d.createElement(x.Z,{id:"pg_txtCode",parent:this,container:"#root",visible:!1,position:{of:"#root"},showTitle:!0,showBorders:!0,width:"90%",height:"90%",title:this.t("pg_txtCode.title"),data:{source:{select:{query:"SELECT CODE,NAME FROM POS_DEVICE_VW_01"},sql:this.core.sql}},button:{id:"01",icon:"more",onClick:function(){}}},d.createElement(y.sg,{dataField:"CODE",caption:this.t("pg_txtCode.clmCode"),width:300}),d.createElement(y.sg,{dataField:"NAME",caption:this.t("pg_txtCode.clmName"),width:300,defaultSortOrder:"asc"}))),d.createElement(g.Item,null,d.createElement(g.Label,{text:this.t("txtName"),alignment:"right"}),d.createElement(C.ZP,{id:"txtTitle",parent:this,simple:!0,dt:{data:this.deviceObj.dt("POS_DEVICE"),field:"NAME"},upper:this.sysParam.filter({ID:"onlyBigChar",USERS:this.user.CODE}).getValue().value,onChange:(0,a.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))).bind(this),param:this.param.filter({ELEMENT:"txtName",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"txtName",USERS:this.user.CODE})})),d.createElement(g.EmptyItem,null),d.createElement(g.Item,null,d.createElement(g.Label,{text:this.t("txtLcdPort"),alignment:"right"}),d.createElement(C.ZP,{id:"txtLcdPort",parent:this,simple:!0,dt:{data:this.deviceObj.dt("POS_DEVICE"),field:"LCD_PORT"},upper:this.sysParam.filter({ID:"onlyBigChar",USERS:this.user.CODE}).getValue().value,onChange:(0,a.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))).bind(this),param:this.param.filter({ELEMENT:"txtLcdPort",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"txtLcdPort",USERS:this.user.CODE})})),d.createElement(g.Item,null,d.createElement(g.Label,{text:this.t("txtScalePort"),alignment:"right"}),d.createElement(C.ZP,{id:"txtScalePort",parent:this,simple:!0,dt:{data:this.deviceObj.dt("POS_DEVICE"),field:"SCALE_PORT"},upper:this.sysParam.filter({ID:"onlyBigChar",USERS:this.user.CODE}).getValue().value,onChange:(0,a.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))).bind(this)})),d.createElement(g.EmptyItem,null),d.createElement(g.Item,null,d.createElement(g.Label,{text:this.t("txtPayCardPort"),alignment:"right"}),d.createElement(C.ZP,{id:"txtPayCardPort",parent:this,simple:!0,dt:{data:this.deviceObj.dt("POS_DEVICE"),field:"PAY_CARD_PORT"},upper:this.sysParam.filter({ID:"onlyBigChar",USERS:this.user.CODE}).getValue().value,onChange:(0,a.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))).bind(this)})),d.createElement(g.Item,null,d.createElement(g.Label,{text:this.t("txtPrintDesing"),alignment:"right"}),d.createElement(C.ZP,{id:"txtPrintDesing",parent:this,simple:!0,dt:{data:this.deviceObj.dt("POS_DEVICE"),field:"PRINT_DESING"},onChange:(0,a.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))).bind(this)})),d.createElement(g.EmptyItem,null))))))}}]),_}(d.PureComponent)},60250:function(e,t,n){var a,i=this&&this.__extends||(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},a(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CheckBox=void 0;var o=n(16699),r=n(45697),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._WidgetClass=o.default,t.subscribableOptions=["value"],t.independentEvents=["onContentReady","onDisposing","onInitialized"],t._defaults={defaultValue:"value"},t}return i(t,e),Object.defineProperty(t.prototype,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),t}(n(76907).Component);t.CheckBox=s,s.propTypes={accessKey:r.string,activeStateEnabled:r.bool,disabled:r.bool,focusStateEnabled:r.bool,height:r.oneOfType([r.func,r.number,r.string]),hint:r.string,hoverStateEnabled:r.bool,isValid:r.bool,name:r.string,onContentReady:r.func,onDisposing:r.func,onInitialized:r.func,onOptionChanged:r.func,onValueChanged:r.func,readOnly:r.bool,rtlEnabled:r.bool,tabIndex:r.number,text:r.string,validationErrors:r.array,validationMessageMode:r.oneOf(["always","auto"]),validationStatus:r.oneOf(["valid","invalid","pending"]),value:r.bool,visible:r.bool,width:r.oneOfType([r.func,r.number,r.string])},t.default=s},130:function(e,t,n){var a,i=this&&this.__extends||(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},a(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.FileUploader=void 0;var o=n(61339),r=n(45697),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._WidgetClass=o.default,t.subscribableOptions=["value"],t.independentEvents=["onBeforeSend","onContentReady","onDisposing","onDropZoneEnter","onDropZoneLeave","onFilesUploaded","onInitialized","onProgress","onUploadAborted","onUploaded","onUploadError","onUploadStarted"],t._defaults={defaultValue:"value"},t}return i(t,e),Object.defineProperty(t.prototype,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),t}(n(76907).Component);t.FileUploader=s,s.propTypes={abortUpload:r.func,accept:r.string,accessKey:r.string,activeStateEnabled:r.bool,allowCanceling:r.bool,allowedFileExtensions:r.array,chunkSize:r.number,disabled:r.bool,focusStateEnabled:r.bool,height:r.oneOfType([r.func,r.number,r.string]),hint:r.string,hoverStateEnabled:r.bool,invalidFileExtensionMessage:r.string,invalidMaxFileSizeMessage:r.string,invalidMinFileSizeMessage:r.string,isValid:r.bool,labelText:r.string,maxFileSize:r.number,minFileSize:r.number,multiple:r.bool,name:r.string,onBeforeSend:r.func,onContentReady:r.func,onDisposing:r.func,onDropZoneEnter:r.func,onDropZoneLeave:r.func,onFilesUploaded:r.func,onInitialized:r.func,onOptionChanged:r.func,onProgress:r.func,onUploadAborted:r.func,onUploaded:r.func,onUploadError:r.func,onUploadStarted:r.func,onValueChanged:r.func,progress:r.number,readOnly:r.bool,readyToUploadMessage:r.string,rtlEnabled:r.bool,selectButtonText:r.string,showFileList:r.bool,tabIndex:r.number,uploadAbortedMessage:r.string,uploadButtonText:r.string,uploadChunk:r.func,uploadedMessage:r.string,uploadFailedMessage:r.string,uploadFile:r.func,uploadMethod:r.oneOf(["POST","PUT"]),uploadMode:r.oneOf(["instantly","useButtons","useForm"]),uploadUrl:r.string,validationErrors:r.array,validationStatus:r.oneOf(["valid","invalid","pending"]),value:r.array,visible:r.bool,width:r.oneOfType([r.func,r.number,r.string])},t.default=s},58235:function(e,t,n){var a,i=this&&this.__extends||(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},a(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressBar=void 0;var o=n(31615),r=n(45697),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._WidgetClass=o.default,t.subscribableOptions=["value"],t.independentEvents=["onComplete","onContentReady","onDisposing","onInitialized"],t._defaults={defaultValue:"value"},t}return i(t,e),Object.defineProperty(t.prototype,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),t}(n(76907).Component);t.ProgressBar=s,s.propTypes={disabled:r.bool,height:r.oneOfType([r.func,r.number,r.string]),hint:r.string,hoverStateEnabled:r.bool,isValid:r.bool,max:r.number,min:r.number,onComplete:r.func,onContentReady:r.func,onDisposing:r.func,onInitialized:r.func,onOptionChanged:r.func,onValueChanged:r.func,readOnly:r.bool,rtlEnabled:r.bool,showStatus:r.bool,statusFormat:r.oneOfType([r.func,r.string]),validationErrors:r.array,validationMessageMode:r.oneOf(["always","auto"]),validationStatus:r.oneOf(["valid","invalid","pending"]),value:r.number,visible:r.bool,width:r.oneOfType([r.func,r.number,r.string])},t.default=s}}]);