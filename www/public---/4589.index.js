/*! For license information please see 4589.index.js.LICENSE.txt */
"use strict";(self.webpackChunkwww=self.webpackChunkwww||[]).push([[4589],{87441:(t,e,n)=>{n.r(e),n.d(e,{default:()=>A});var o=n(71002),r=n(4942),a=n(15861),i=n(15671),s=n(43144),c=n(97326),d=n(60136),l=n(82963),u=n(61120),m=n(64687),p=n.n(m),b=n(67294),E=n(73364),h=n(4598),f=(n(30381),n(42866)),O=n.n(f),g=n(53221),x=n.n(g),T=n(25552),D=n.n(T),I=(n(91686),n(30886)),v=n(99846),w=(n(5083),n(99077)),C=n(55585),_=n(417),y=n(32175),R=n(18405),k=n(73682),N=n(90428),S=(n(57941),n(60547));function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n(17276),n(51166);var A=function(t){(0,d.Z)(F,t);var e,n,r,m,f,g,P,A,U,M=(A=F,U=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=(0,u.Z)(A);if(U){var n=(0,u.Z)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,l.Z)(this,t)});function F(t){var e;return(0,i.Z)(this,F),(e=M.call(this,t)).core=E.Z.instance.core,e.prmObj=e.param.filter({TYPE:1,USERS:e.user.CODE}),e.acsobj=e.access.filter({TYPE:1,USERS:e.user.CODE}),e.docObj=new h.Ch,e.tabIndex=t.data.tabkey,e.quantityControl=!1,e._cellRoleRender=e._cellRoleRender.bind((0,c.Z)(e)),e.frmTrnsfItems=void 0,e.docLocked=!1,e.combineControl=!0,e.combineNew=!1,e}return(0,s.Z)(F,[{key:"componentDidMount",value:(P=(0,a.Z)(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.core.util.waitUntil(0);case 2:this.init();case 3:case"end":return t.stop()}}),t,this)}))),function(){return P.apply(this,arguments)})},{key:"init",value:(g=(0,a.Z)(p().mark((function t(){var e,n=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.docObj.clearAll(),this.docObj.ds.on("onAddRow",(function(t,e){"new"==e.stat&&(n.btnNew.setState({disabled:!1}),n.btnBack.setState({disabled:!1}),n.btnNew.setState({disabled:!1}),n.btnBack.setState({disabled:!0}),n.btnSave.setState({disabled:!1}),n.btnDelete.setState({disabled:!1}),n.btnPrint.setState({disabled:!1}))})),this.docObj.ds.on("onEdit",(function(t,e){"edit"==e.rowData.stat&&(n.btnBack.setState({disabled:!1}),n.btnNew.setState({disabled:!0}),n.btnSave.setState({disabled:!1}),n.btnDelete.setState({disabled:!1}),n.btnPrint.setState({disabled:!1}),e.rowData.CUSER=n.user.CODE)})),this.docObj.ds.on("onRefresh",(function(t){n.btnBack.setState({disabled:!0}),n.btnNew.setState({disabled:!1}),n.btnSave.setState({disabled:!0}),n.btnDelete.setState({disabled:!1}),n.btnPrint.setState({disabled:!1})})),this.docObj.ds.on("onDelete",(function(t){n.btnBack.setState({disabled:!1}),n.btnNew.setState({disabled:!1}),n.btnSave.setState({disabled:!1}),n.btnDelete.setState({disabled:!1}),n.btnPrint.setState({disabled:!1})})),this.quantityControl=this.prmObj.filter({ID:"negativeQuantity",USERS:this.user.CODE}).getValue().value,this.txtRef.setState({value:this.user.CODE}),(e=j({},this.docObj.empty)).REF=this.user.CODE,e.TYPE=2,e.DOC_TYPE=2,e.REBATE=0,this.docObj.addEmpty(e),this.txtRef.readOnly=!0,this.txtRefno.readOnly=!0,this.docLocked=!1,this.frmTrnsfItems.option("disabled",!1),t.next=19,this.grdTrnsfItems.dataRefresh({source:this.docObj.docItems.dt("DOC_ITEMS")});case 19:this.txtRef.props.onChange();case 20:case"end":return t.stop()}}),t,this)}))),function(){return g.apply(this,arguments)})},{key:"getDoc",value:(f=(0,a.Z)(p().mark((function t(e,n,o){var r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.docObj.clearAll(),t.next=3,this.docObj.load({GUID:e,REF:n,REF_NO:o,TYPE:2,DOC_TYPE:2});case 3:if(this.txtRef.readOnly=!0,this.txtRefno.readOnly=!0,0==this.docObj.dt()[0].LOCKED){t.next=13;break}return this.docLocked=!0,r={id:"msgGetLocked",showTitle:!0,title:this.t("msgGetLocked.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:this.t("msgGetLocked.btn01"),location:"after"}],content:b.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},this.t("msgGetLocked.msg"))},t.next=10,(0,S.W)(r);case 10:this.frmTrnsfItems.option("disabled",!0),t.next=15;break;case 13:this.docLocked=!1,this.frmTrnsfItems.option("disabled",!1);case 15:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return f.apply(this,arguments)})},{key:"checkRow",value:(m=(0,a.Z)(p().mark((function t(){var e;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.docObj.docItems.dt().length;e++)this.docObj.docItems.dt()[e].INPUT=this.docObj.dt()[0].INPUT,this.docObj.docItems.dt()[e].OUTPUT=this.docObj.dt()[0].OUTPUT,this.docObj.docItems.dt()[e].DOC_DATE=this.docObj.dt()[0].DOC_DATE;case 1:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)})},{key:"checkDoc",value:(r=(0,a.Z)(p().mark((function t(e,n,o){var r=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=(0,a.Z)(p().mark((function t(a){var i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===n){t.next=15;break}return t.next=3,(new h.Ch).load({GUID:e,REF:n,REF_NO:o});case 3:if(!(t.sent.length>0)){t.next=12;break}return i={id:"msgCode",showTitle:!0,title:"Dikkat",showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:"EvraÄŸa Git",location:"before"}],content:b.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},"Evrak Bulundu")},t.next=8,(0,S.W)(i);case 8:"btn01"==t.sent?(r.getDoc(e,n,o),a(2)):a(3),t.next=13;break;case 12:a(1);case 13:t.next=16;break;case 15:a(0);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)}))),function(t,e,n){return r.apply(this,arguments)})},{key:"_calculateTotal",value:(n=(0,a.Z)(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})},{key:"_cellRoleRender",value:function(t){var e=this;if("ITEM_CODE"==t.column.dataField)return b.createElement(v.ZP,{id:"txtGrdItemsCode"+t.rowIndex,parent:this,simple:!0,upper:this.sysParam.filter({ID:"onlyBigChar",USERS:this.user.CODE}).getValue().value,value:t.value,onKeyDown:function(){var n=(0,a.Z)(p().mark((function n(o){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("F10"!=o.event.key&&"ArrowRight"!=o.event.key){n.next=4;break}return n.next=3,e.pg_txtItemsCode.setVal(t.value);case 3:e.pg_txtItemsCode.onClick=function(){var n=(0,a.Z)(p().mark((function n(o){var r,a;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.combineControl=!0,e.combineNew=!1,1!=o.length){n.next=7;break}return n.next=5,e.addItem(o[0],t.rowIndex);case 5:n.next=35;break;case 7:if(!(o.length>1)){n.next=35;break}r=0;case 9:if(!(r<o.length)){n.next=35;break}if(0!=r){n.next=15;break}return n.next=13,e.addItem(o[r],t.rowIndex);case 13:n.next=32;break;case 15:return(a=j({},e.docObj.docItems.empty)).DOC_GUID=e.docObj.dt()[0].GUID,a.TYPE=e.docObj.dt()[0].TYPE,a.DOC_TYPE=e.docObj.dt()[0].DOC_TYPE,a.REBATE=e.docObj.dt()[0].REBATE,a.LINE_NO=e.docObj.docItems.dt().length,a.REF=e.docObj.dt()[0].REF,a.REF_NO=e.docObj.dt()[0].REF_NO,a.OUTPUT=e.docObj.dt()[0].OUTPUT,a.INPUT=e.docObj.dt()[0].INPUT,a.DOC_DATE=e.docObj.dt()[0].DOC_DATE,a.SHIPMENT_DATE=e.docObj.dt()[0].SHIPMENT_DATE,e.txtRef.readOnly=!0,e.txtRefno.readOnly=!0,e.docObj.docItems.addEmpty(a),n.next=32,e.addItem(o[r],e.docObj.docItems.dt().length-1);case 32:r++,n.next=9;break;case 35:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),onValueChanged:function(e){t.value=e.value},onChange:function(){var n=(0,a.Z)(p().mark((function n(o){var r,a,i;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==o.event.isTrusted){n.next=15;break}return r={query:"SELECT ITEMS_VW_01.GUID,CODE,NAME,VAT,COST_PRICE FROM ITEMS_VW_01 INNER JOIN ITEM_BARCODE_VW_01 ON ITEMS_VW_01.GUID = ITEM_BARCODE_VW_01.ITEM_GUID WHERE CODE = @CODE OR ITEM_BARCODE_VW_01.BARCODE = @CODE",param:["CODE:string|50"],value:[o.component._changedValue]},n.next=4,e.core.sql.execute(r);case 4:if(!((a=n.sent).result.recordset.length>0)){n.next=12;break}return e.combineControl=!0,e.combineNew=!1,n.next=10,e.addItem(a.result.recordset[0],t.rowIndex);case 10:n.next=15;break;case 12:return i={id:"msgItemNotFound",showTitle:!0,title:e.t("msgItemNotFound.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:e.t("msgItemNotFound.btn01"),location:"after"}],content:b.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},e.t("msgItemNotFound.msg"))},n.next=15,(0,S.W)(i);case 15:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}().bind(this),button:[{id:"01",icon:"more",onClick:function(){e.pg_txtItemsCode.show(),e.pg_txtItemsCode.onClick=function(){var n=(0,a.Z)(p().mark((function n(o){var r,a;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.combineControl=!0,e.combineNew=!1,1!=o.length){n.next=7;break}return n.next=5,e.addItem(o[0],t.rowIndex);case 5:n.next=35;break;case 7:if(!(o.length>1)){n.next=35;break}r=0;case 9:if(!(r<o.length)){n.next=35;break}if(0!=r){n.next=15;break}return n.next=13,e.addItem(o[r],t.rowIndex);case 13:n.next=32;break;case 15:return(a=j({},e.docObj.docItems.empty)).DOC_GUID=e.docObj.dt()[0].GUID,a.TYPE=e.docObj.dt()[0].TYPE,a.DOC_TYPE=e.docObj.dt()[0].DOC_TYPE,a.REBATE=e.docObj.dt()[0].REBATE,a.LINE_NO=e.docObj.docItems.dt().length,a.REF=e.docObj.dt()[0].REF,a.REF_NO=e.docObj.dt()[0].REF_NO,a.OUTPUT=e.docObj.dt()[0].OUTPUT,a.INPUT=e.docObj.dt()[0].INPUT,a.DOC_DATE=e.docObj.dt()[0].DOC_DATE,a.SHIPMENT_DATE=e.docObj.dt()[0].SHIPMENT_DATE,e.txtRef.readOnly=!0,e.txtRefno.readOnly=!0,e.docObj.docItems.addEmpty(a),n.next=32,e.addItem(o[r],e.docObj.docItems.dt().length-1);case 32:r++,n.next=9;break;case 35:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}}]})}},{key:"addItem",value:(e=(0,a.Z)(p().mark((function t(e,n){var r,i,s,c,d,l,u=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===this.quantityControl||1!=this.quantityControl){t.next=16;break}return r={query:"SELECT [dbo].[FN_DEPOT_QUANTITY](@GUID,@DEPOT,GETDATE()) AS QUANTITY ",param:["GUID:string|50","DEPOT:string|50"],value:[e.GUID,this.docObj.dt()[0].OUTPUT]},t.next=4,this.core.sql.execute(r);case 4:if(!((i=t.sent).result.recordset.length>0)){t.next=16;break}if(!(i.result.recordset[0].QUANTITY<1)){t.next=15;break}return s={id:"msgNotQuantity",showTitle:!0,title:this.t("msgNotQuantity.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:this.t("msgNotQuantity.btn01"),location:"after"}],content:b.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},this.t("msgNotQuantity.msg")+i.result.recordset[0].QUANTITY)},t.next=10,(0,S.W)(s);case 10:return t.next=12,this.grdTrnsfItems.devGrid.deleteRow(n);case 12:return t.abrupt("return");case 15:this.docObj.docItems.dt()[n].DEPOT_QUANTITY=i.result.recordset[0].QUANTITY;case 16:c=p().mark((function t(o){var r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u.docObj.docItems.dt()[o].ITEM_CODE!=e.CODE){t.next=15;break}if(1!=u.combineControl){t.next=9;break}return r="",t.next=5,u.msgCombineItem.show().then(function(){var t=(0,a.Z)(p().mark((function t(e){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("btn01"!=e){t.next=8;break}return u.docObj.docItems.dt()[o].QUANTITY=u.docObj.docItems.dt()[o].QUANTITY+1,u._calculateTotal(),t.next=5,u.grdTrnsfItems.devGrid.deleteRow(n);case 5:return 1==u.checkCombine.value&&(u.combineControl=!1),r=e,t.abrupt("return");case 8:if("btn02"!=e){t.next=11;break}return 1==u.checkCombine.value&&(u.combineControl=!1,u.combineNew=!0),t.abrupt("return");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:if("btn01"!=r){t.next=7;break}return t.abrupt("return",{v:void 0});case 7:t.next=15;break;case 9:if(0!=u.combineNew){t.next=15;break}return u.docObj.docItems.dt()[o].QUANTITY=u.docObj.docItems.dt()[o].QUANTITY+1,u._calculateTotal(),t.next=14,u.grdTrnsfItems.devGrid.deleteRow(n);case 14:return t.abrupt("return",{v:void 0});case 15:case"end":return t.stop()}}),t)})),d=0;case 18:if(!(d<this.docObj.docItems.dt().length)){t.next=26;break}return t.delegateYield(c(d),"t0",20);case 20:if(l=t.t0,"object"!==(0,o.Z)(l)){t.next=23;break}return t.abrupt("return",l.v);case 23:d++,t.next=18;break;case 26:this.docObj.docItems.dt()[n].ITEM_CODE=e.CODE,this.docObj.docItems.dt()[n].ITEM=e.GUID,this.docObj.docItems.dt()[n].VAT_RATE=0,this.docObj.docItems.dt()[n].ITEM_NAME=e.NAME,this.docObj.docItems.dt()[n].COST_PRICE=0,this.docObj.docItems.dt()[n].DISCOUNT=0,this.docObj.docItems.dt()[n].DISCOUNT_RATE=0;case 33:case"end":return t.stop()}}),t,this)}))),function(t,n){return e.apply(this,arguments)})},{key:"render",value:function(){var t,e=this;return b.createElement("div",null,b.createElement(O(),null,b.createElement("div",{className:"row px-2 pt-2"},b.createElement("div",{className:"col-12"},b.createElement(x(),null,b.createElement(T.Item,{location:"after",locateInMenu:"auto"},b.createElement(k.Z,{id:"btnBack",parent:this,icon:"revert",type:"default",onClick:function(){e.getDoc(e.docObj.dt()[0].GUID,e.docObj.dt()[0].REF,e.docObj.dt()[0].REF_NO)}})),b.createElement(T.Item,{location:"after",locateInMenu:"auto"},b.createElement(k.Z,{id:"btnNew",parent:this,icon:"file",type:"default",onClick:function(){e.init()}})),b.createElement(T.Item,{location:"after",locateInMenu:"auto"},b.createElement(k.Z,{id:"btnSave",parent:this,icon:"floppy",type:"default",validationGroup:"frmTrnsfr"+this.tabIndex,onClick:function(){var t=(0,a.Z)(p().mark((function t(n){var o,r,a,i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=e.docLocked){t.next=5;break}return o={id:"msgDocLocked",showTitle:!0,title:e.t("msgDocLocked.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:e.t("msgDocLocked.btn01"),location:"after"}],content:b.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},e.t("msgDocLocked.msg"))},t.next=4,(0,S.W)(o);case 4:return t.abrupt("return");case 5:if(""!=e.docObj.docItems.dt()[e.docObj.docItems.dt().length-1].ITEM_CODE){t.next=8;break}return t.next=8,e.grdTrnsfItems.devGrid.deleteRow(e.docObj.docItems.dt().length-1);case 8:if("valid"!=n.validationGroup.validate().status){t.next=32;break}return r={id:"msgSave",showTitle:!0,title:e.t("msgSave.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:e.t("msgSave.btn01"),location:"before"},{id:"btn02",caption:e.t("msgSave.btn02"),location:"after"}],content:b.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},e.t("msgSave.msg"))},t.next=12,(0,S.W)(r);case 12:if("btn01"!=t.sent){t.next=30;break}return a={id:"msgSaveResult",showTitle:!0,title:e.t("msgSave.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:e.t("msgSave.btn01"),location:"after"}]},t.next=17,e.docObj.save();case 17:if(t.t0=t.sent,0!=t.t0){t.next=27;break}return a.content=b.createElement("div",{style:{textAlign:"center",fontSize:"20px",color:"green"}},e.t("msgSaveResult.msgSuccess")),t.next=22,(0,S.W)(a);case 22:e.btnSave.setState({disabled:!0}),e.btnNew.setState({disabled:!1}),e.init(),t.next=30;break;case 27:return a.content=b.createElement("div",{style:{textAlign:"center",fontSize:"20px",color:"red"}},e.t("msgSaveResult.msgFailed")),t.next=30,(0,S.W)(a);case 30:t.next=35;break;case 32:return i={id:"msgSaveValid",showTitle:!0,title:e.t("msgSaveValid.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:e.t("msgSaveValid.btn01"),location:"after"}],content:b.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},e.t("msgSaveValid.msg"))},t.next=35,(0,S.W)(i);case 35:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),b.createElement(T.Item,{location:"after",locateInMenu:"auto"},b.createElement(k.Z,{id:"btnDelete",parent:this,icon:"trash",type:"default",onClick:(0,a.Z)(p().mark((function t(){var n,o;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=e.docLocked){t.next=5;break}return n={id:"msgDocLocked",showTitle:!0,title:e.t("msgDocLocked.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:e.t("msgDocLocked.btn01"),location:"after"}],content:b.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},e.t("msgDocLocked.msg"))},t.next=4,(0,S.W)(n);case 4:return t.abrupt("return");case 5:return o={id:"msgDelete",showTitle:!0,title:e.t("msgDelete.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:e.t("msgDelete.btn01"),location:"before"},{id:"btn02",caption:e.t("msgDelete.btn02"),location:"after"}],content:b.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},e.t("msgDelete.msg"))},t.next=8,(0,S.W)(o);case 8:if("btn01"!=t.sent){t.next=14;break}return e.docObj.dt("DOC").removeAt(0),t.next=13,e.docObj.dt("DOC").delete();case 13:e.init();case 14:case"end":return t.stop()}}),t)})))})),b.createElement(T.Item,{location:"after",locateInMenu:"auto"},b.createElement(k.Z,{id:"btnLock",parent:this,icon:"key",type:"default",onClick:(0,a.Z)(p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.docObj.dt()[0].LOCKED){t.next=20;break}if(e.docLocked=!0,e.docObj.dt()[0].LOCKED=1,""!=e.docObj.docItems.dt()[e.docObj.docItems.dt().length-1].ITEM_CODE){t.next=6;break}return t.next=6,e.grdTrnsfItems.devGrid.deleteRow(e.docObj.docItems.dt().length-1);case 6:return t.next=8,e.docObj.save();case 8:if(t.t0=t.sent,0!=t.t0){t.next=15;break}return n={id:"msgLocked",showTitle:!0,title:e.t("msgLocked.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:e.t("msgLocked.btn01"),location:"after"}],content:b.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},e.t("msgLocked.msg"))},t.next=13,(0,S.W)(n);case 13:t.next=18;break;case 15:return tmpConfObj1.content=b.createElement("div",{style:{textAlign:"center",fontSize:"20px",color:"red"}},e.t("msgSaveResult.msgFailed")),t.next=18,(0,S.W)(tmpConfObj1);case 18:t.next=21;break;case 20:1==e.docObj.dt()[0].LOCKED&&e.popPassword.show();case 21:case"end":return t.stop()}}),t)})))})),b.createElement(T.Item,{location:"after",locateInMenu:"auto"},b.createElement(k.Z,{id:"btnPrint",parent:this,icon:"print",type:"default",onClick:function(){e.popDesign.show()}})),b.createElement(T.Item,{location:"after",locateInMenu:"auto",widget:"dxButton",options:{type:"default",icon:"clear",onClick:(t=(0,a.Z)(p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={id:"msgClose",showTitle:!0,title:e.lang.t("msgWarning"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:e.lang.t("btnYes"),location:"before"},{id:"btn02",caption:e.lang.t("btnNo"),location:"after"}],content:b.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},e.lang.t("msgClose"))},t.next=3,(0,S.W)(n);case 3:"btn01"==t.sent&&E.Z.instance.panel.closePage();case 5:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})}})))),b.createElement("div",{className:"row px-2 pt-2"},b.createElement("div",{className:"col-12"},b.createElement(D(),{colCount:3,id:"frmTrnsfr"},b.createElement(T.Item,null,b.createElement(T.Label,{text:this.t("txtRefRefno"),alignment:"right"}),b.createElement("div",{className:"row"},b.createElement("div",{className:"col-4 pe-0"},b.createElement(v.ZP,{id:"txtRef",parent:this,simple:!0,dt:{data:this.docObj.dt("DOC"),field:"REF"},upper:this.sysParam.filter({ID:"onlyBigChar",USERS:this.user.CODE}).getValue().value,readOnly:!0,maxLength:32,onChange:function(){var t=(0,a.Z)(p().mark((function t(n){var o,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={query:"SELECT ISNULL(MAX(REF_NO) + 1,1) AS REF_NO FROM DOC WHERE TYPE = 2 AND DOC_TYPE = 2 AND REF = @REF ",param:["REF:string|25"],value:[e.txtRef.value]},t.next=3,e.core.sql.execute(o);case 3:(r=t.sent).result.recordset.length>0&&(e.txtRefno.value=r.result.recordset[0].REF_NO);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}().bind(this),param:this.param.filter({ELEMENT:"txtRef",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"txtRef",USERS:this.user.CODE})},b.createElement(v.cX,{validationGroup:"frmTrnsfr"+this.tabIndex},b.createElement(v.n2,{message:this.t("validRef")})))),b.createElement("div",{className:"col-5 ps-0"},b.createElement(v.ZP,{id:"txtRefno",parent:this,simple:!0,dt:{data:this.docObj.dt("DOC"),field:"REF_NO"},upper:this.sysParam.filter({ID:"onlyBigChar",USERS:this.user.CODE}).getValue().value,readOnly:!0,button:[{id:"01",icon:"more",onClick:function(){e.pg_Docs.show(),e.pg_Docs.onClick=function(t){t.length>0&&e.getDoc(t[0].GUID,t[0].REF,t[0].REF_NO)}}},{id:"02",icon:"arrowdown",onClick:function(){e.txtRefno.value=Math.floor(Date.now()/1e3)}}],onChange:(0,a.Z)(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.checkDoc("00000000-0000-0000-0000-000000000000",e.txtRef.value,e.txtRefno.value);case 2:3==t.sent&&(e.txtRefno.value="");case 4:case"end":return t.stop()}}),t)}))).bind(this),param:this.param.filter({ELEMENT:"txtRefno",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"txtRefno",USERS:this.user.CODE})},b.createElement(v.cX,{validationGroup:"frmTrnsfr"+this.tabIndex},b.createElement(v.n2,{message:this.t("validRefNo")}))))),b.createElement(_.Z,{id:"pg_Docs",parent:this,container:"#root",visible:!1,position:{of:"#root"},showTitle:!0,showBorders:!0,width:"90%",height:"90%",title:this.t("pg_Docs.title"),data:{source:{select:{query:"SELECT GUID,REF,REF_NO,INPUT_CODE,INPUT_NAME,OUTPUT_NAME,DOC_DATE_CONVERT FROM DOC_VW_01 WHERE TYPE = 2 AND DOC_TYPE = 2 AND REBATE = 0"},sql:this.core.sql}},button:[{id:"01",icon:"more",onClick:function(){}}]},b.createElement(R.sg,{dataField:"REF",caption:this.t("pg_Docs.clmRef"),width:150,defaultSortOrder:"asc"}),b.createElement(R.sg,{dataField:"REF_NO",caption:this.t("pg_Docs.clmRefNo"),width:300,defaultSortOrder:"asc"}),b.createElement(R.sg,{dataField:"INPUT_NAME",caption:this.t("pg_Docs.clmInputName"),width:300,defaultSortOrder:"asc"}),b.createElement(R.sg,{dataField:"OUTPUT_NAME",caption:this.t("pg_Docs.clmOutputName"),width:300,defaultSortOrder:"asc"}),b.createElement(R.sg,{dataField:"DOC_DATE_CONVERT",caption:this.t("pg_Docs.clmDocDate"),width:300,defaultSortOrder:"asc"}))),b.createElement(T.Item,null,b.createElement(T.Label,{text:this.t("dtDocDate"),alignment:"right"}),b.createElement(N.ZP,{simple:!0,parent:this,id:"dtDocDate",dt:{data:this.docObj.dt("DOC"),field:"DOC_DATE"},onValueChanged:(0,a.Z)(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.checkRow();case 1:case"end":return t.stop()}}),t)}))).bind(this)},b.createElement(v.cX,{validationGroup:"frmTrnsfr"+this.tabIndex},b.createElement(v.n2,{message:this.t("validDocDate")})))),b.createElement(T.EmptyItem,null),b.createElement(T.Item,null,b.createElement(T.Label,{text:this.t("cmbOutDepot"),alignment:"right"}),b.createElement(w.ZP,{simple:!0,parent:this,id:"cmbOutDepot",dt:{data:this.docObj.dt("DOC"),field:"OUTPUT"},displayExpr:"NAME",valueExpr:"GUID",value:"",searchEnabled:!0,onValueChanged:function(){var t=(0,a.Z)(p().mark((function t(n){var o;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.value!=e.cmbInDepot.value){t.next=6;break}return o={id:"msgDblDepot",showTitle:!0,title:e.t("msgDblDepot.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:e.t("msgDblDepot.btn01"),location:"after"}],content:b.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},e.t("msgDblDepot.msg"))},t.next=4,(0,S.W)(o);case 4:return e.cmbOutDepot.setState({value:""}),t.abrupt("return");case 6:e.checkRow();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}().bind(this),data:{source:{select:{query:"SELECT * FROM DEPOT_VW_01 "},sql:this.core.sql}},param:this.param.filter({ELEMENT:"cmbOutDepot",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"cmbOutDepot",USERS:this.user.CODE})},b.createElement(v.cX,{validationGroup:"frmTrnsfr"+this.tabIndex},b.createElement(v.n2,{message:this.t("validDepot")})))),b.createElement(T.Item,null,b.createElement(T.Label,{text:this.t("cmbInDepot"),alignment:"right"}),b.createElement(w.ZP,{simple:!0,parent:this,id:"cmbInDepot",dt:{data:this.docObj.dt("DOC"),field:"INPUT"},displayExpr:"NAME",valueExpr:"GUID",value:"",searchEnabled:!0,onValueChanged:function(){var t=(0,a.Z)(p().mark((function t(n){var o;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.cmbOutDepot.value!=n.value){t.next=6;break}return o={id:"msgDblDepot",showTitle:!0,title:e.t("msgDblDepot.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:e.t("msgDblDepot.btn01"),location:"after"}],content:b.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},e.t("msgDblDepot.msg"))},t.next=4,(0,S.W)(o);case 4:return e.cmbInDepot.setState({value:""}),t.abrupt("return");case 6:e.checkRow();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}().bind(this),data:{source:{select:{query:"SELECT * FROM DEPOT_VW_01 "},sql:this.core.sql}},param:this.param.filter({ELEMENT:"cmbInDepot",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"cmbInDepot",USERS:this.user.CODE})},b.createElement(v.cX,{validationGroup:"frmTrnsfr"+this.tabIndex},b.createElement(v.n2,{message:this.t("validDepot")})))),b.createElement(T.EmptyItem,null),b.createElement(T.Item,null,b.createElement(T.Label,{text:this.t("txtBarcode"),alignment:"right"}),b.createElement(v.ZP,{id:"txtBarcode",parent:this,simple:!0,upper:this.sysParam.filter({ID:"onlyBigChar",USERS:this.user.CODE}).getValue().value,onEnterKey:function(){var t=(0,a.Z)(p().mark((function t(n){var o,r,a,i,s;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=e.cmbOutDepot.value&&""!=e.cmbInDepot.value){t.next=6;break}return o={id:"msgDocValid",showTitle:!0,title:e.t("msgDocValid.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:e.t("msgDocValid.btn01"),location:"after"}],content:b.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},e.t("msgDocValid.msg"))},t.next=4,(0,S.W)(o);case 4:return e.txtBarcode.setState({value:""}),t.abrupt("return");case 6:return r={query:"SELECT ITEMS_VW_01.GUID,CODE,NAME,VAT,COST_PRICE FROM ITEMS_VW_01 INNER JOIN ITEM_BARCODE_VW_01 ON ITEMS_VW_01.GUID = ITEM_BARCODE_VW_01.ITEM_GUID WHERE CODE = @CODE OR ITEM_BARCODE_VW_01.BARCODE = @CODE ORDER BY ITEM_BARCODE_VW_01.CDATE DESC",param:["CODE:string|50"],value:[e.txtBarcode.value]},t.next=9,e.core.sql.execute(r);case 9:if(a=t.sent,e.txtBarcode.setState({value:""}),!(a.result.recordset.length>0)){t.next=19;break}return e.combineControl=!0,e.combineNew=!1,void 0!==e.docObj.docItems.dt()[e.docObj.docItems.dt().length-1]&&""==e.docObj.docItems.dt()[e.docObj.docItems.dt().length-1].CODE||((i=j({},e.docObj.docItems.empty)).DOC_GUID=e.docObj.dt()[0].GUID,i.TYPE=e.docObj.dt()[0].TYPE,i.DOC_TYPE=e.docObj.dt()[0].DOC_TYPE,i.REBATE=e.docObj.dt()[0].REBATE,i.LINE_NO=e.docObj.docItems.dt().length,i.REF=e.docObj.dt()[0].REF,i.REF_NO=e.docObj.dt()[0].REF_NO,i.OUTPUT=e.docObj.dt()[0].OUTPUT,i.INPUT=e.docObj.dt()[0].INPUT,i.DOC_DATE=e.docObj.dt()[0].DOC_DATE,i.SHIPMENT_DATE=e.docObj.dt()[0].SHIPMENT_DATE,e.txtRef.readOnly=!0,e.txtRefno.readOnly=!0,e.docObj.docItems.addEmpty(i)),t.next=17,e.addItem(a.result.recordset[0],e.docObj.docItems.dt().length-1);case 17:t.next=22;break;case 19:return s={id:"msgItemNotFound",showTitle:!0,title:e.t("msgItemNotFound.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:e.t("msgItemNotFound.btn01"),location:"after"}],content:b.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},e.t("msgItemNotFound.msg"))},t.next=22,(0,S.W)(s);case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}().bind(this),param:this.param.filter({ELEMENT:"txtBarcode",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"txtBarcode",USERS:this.user.CODE})}))))),b.createElement("div",{className:"row px-2 pt-2"},b.createElement("div",{className:"col-12"},b.createElement(D(),{colCount:1,onInitialized:function(t){e.frmTrnsfItems=t.component}},b.createElement(T.Item,{location:"after"},b.createElement(I.Button,{icon:"add",validationGroup:"frmTrnsfr"+this.tabIndex,onClick:function(){var t=(0,a.Z)(p().mark((function t(n){var o,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("valid"!=n.validationGroup.validate().status){t.next=25;break}if(void 0===e.docObj.docItems.dt()[0]){t.next=6;break}if(""!=e.docObj.docItems.dt()[e.docObj.docItems.dt().length-1].ITEM_CODE){t.next=6;break}return e.pg_txtItemsCode.show(),e.pg_txtItemsCode.onClick=function(){var t=(0,a.Z)(p().mark((function t(n){var o,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.combineControl=!0,e.combineNew=!1,1!=n.length){t.next=7;break}return t.next=5,e.addItem(n[0],e.docObj.docItems.dt().length-1);case 5:t.next=35;break;case 7:if(!(n.length>1)){t.next=35;break}o=0;case 9:if(!(o<n.length)){t.next=35;break}if(0!=o){t.next=15;break}return t.next=13,e.addItem(n[o],e.docObj.docItems.dt().length-1);case 13:t.next=32;break;case 15:return(r=j({},e.docObj.docItems.empty)).DOC_GUID=e.docObj.dt()[0].GUID,r.TYPE=e.docObj.dt()[0].TYPE,r.DOC_TYPE=e.docObj.dt()[0].DOC_TYPE,r.REBATE=e.docObj.dt()[0].REBATE,r.LINE_NO=e.docObj.docItems.dt().length,r.REF=e.docObj.dt()[0].REF,r.REF_NO=e.docObj.dt()[0].REF_NO,r.OUTPUT=e.docObj.dt()[0].OUTPUT,r.INPUT=e.docObj.dt()[0].INPUT,r.DOC_DATE=e.docObj.dt()[0].DOC_DATE,r.SHIPMENT_DATE=e.docObj.dt()[0].SHIPMENT_DATE,e.txtRef.readOnly=!0,e.txtRefno.readOnly=!0,e.docObj.docItems.addEmpty(r),t.next=32,e.addItem(n[o],e.docObj.docItems.dt().length-1);case 32:o++,t.next=9;break;case 35:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.abrupt("return");case 6:(o=j({},e.docObj.docItems.empty)).DOC_GUID=e.docObj.dt()[0].GUID,o.TYPE=e.docObj.dt()[0].TYPE,o.DOC_TYPE=e.docObj.dt()[0].DOC_TYPE,o.REBATE=e.docObj.dt()[0].REBATE,o.LINE_NO=e.docObj.docItems.dt().length,o.REF=e.docObj.dt()[0].REF,o.REF_NO=e.docObj.dt()[0].REF_NO,o.OUTPUT=e.docObj.dt()[0].OUTPUT,o.INPUT=e.docObj.dt()[0].INPUT,o.DOC_DATE=e.docObj.dt()[0].DOC_DATE,o.SHIPMENT_DATE=e.docObj.dt()[0].SHIPMENT_DATE,e.txtRef.readOnly=!0,e.txtRefno.readOnly=!0,e.docObj.docItems.addEmpty(o),e.pg_txtItemsCode.show(),e.pg_txtItemsCode.onClick=function(){var t=(0,a.Z)(p().mark((function t(n){var o,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.combineControl=!0,e.combineNew=!1,1!=n.length){t.next=7;break}return t.next=5,e.addItem(n[0],e.docObj.docItems.dt().length-1);case 5:t.next=35;break;case 7:if(!(n.length>1)){t.next=35;break}o=0;case 9:if(!(o<n.length)){t.next=35;break}if(0!=o){t.next=15;break}return t.next=13,e.addItem(n[o],e.docObj.docItems.dt().length-1);case 13:t.next=32;break;case 15:return(r=j({},e.docObj.docItems.empty)).DOC_GUID=e.docObj.dt()[0].GUID,r.TYPE=e.docObj.dt()[0].TYPE,r.DOC_TYPE=e.docObj.dt()[0].DOC_TYPE,r.REBATE=e.docObj.dt()[0].REBATE,r.LINE_NO=e.docObj.docItems.dt().length,r.REF=e.docObj.dt()[0].REF,r.REF_NO=e.docObj.dt()[0].REF_NO,r.OUTPUT=e.docObj.dt()[0].OUTPUT,r.INPUT=e.docObj.dt()[0].INPUT,r.DOC_DATE=e.docObj.dt()[0].DOC_DATE,r.SHIPMENT_DATE=e.docObj.dt()[0].SHIPMENT_DATE,e.txtRef.readOnly=!0,e.txtRefno.readOnly=!0,e.docObj.docItems.addEmpty(r),t.next=32,e.addItem(n[o],e.docObj.docItems.dt().length-1);case 32:o++,t.next=9;break;case 35:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.next=28;break;case 25:return r={id:"msgDocValid",showTitle:!0,title:e.t("msgDocValid.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:e.t("msgDocValid.btn01"),location:"after"}],content:b.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},e.t("msgDocValid.msg"))},t.next=28,(0,S.W)(r);case 28:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),b.createElement(T.Item,null,b.createElement(R.ZP,{parent:this,id:"grdTrnsfItems",showBorders:!0,columnsAutoWidth:!0,allowColumnReordering:!0,allowColumnResizing:!0,height:"400",width:"100%",dbApply:!1,onRowUpdating:function(){var t=(0,a.Z)(p().mark((function t(n){var o,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=e.quantityControl){t.next=7;break}if(o=n.component.getRowIndexByKey(n.key),!(void 0!==n.newData.QUANTITY&&n.key.DEPOT_QUANTITY<n.newData.QUANTITY)){t.next=7;break}return r={id:"msgNotQuantity",showTitle:!0,title:e.t("msgNotQuantity.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:e.t("msgNotQuantity.btn01"),location:"after"}],content:b.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},e.t("msgNotQuantity.msg")+n.oldData.DEPOT_QUANTITY)},t.next=6,(0,S.W)(r);case 6:e.docObj.docItems.dt()[o].QUANTITY=n.oldData.DEPOT_QUANTITY;case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onRowRemoved:function(t){},loadPanel:{enabled:!0}},b.createElement(R.m_,{editOnKeyPress:!0,enterKeyAction:"moveFocus",enterKeyDirection:"column"}),b.createElement(R.PY,{mode:"standard"}),b.createElement(R.LO,{mode:"cell",allowUpdating:!0,allowDeleting:!0,confirmDelete:!1}),b.createElement(R.D7,{fileName:this.lang.t("menu.stk_02_002"),enabled:!0,allowExportSelectedData:!0}),b.createElement(R.sg,{dataField:"CDATE_FORMAT",caption:this.t("grdTrnsfItems.clmCreateDate"),width:150,allowEditing:!1}),b.createElement(R.sg,{dataField:"ITEM_CODE",caption:this.t("grdTrnsfItems.clmItemCode"),width:150,editCellRender:this._cellRoleRender}),b.createElement(R.sg,{dataField:"ITEM_NAME",caption:this.t("grdTrnsfItems.clmItemName"),width:350}),b.createElement(R.sg,{dataField:"QUANTITY",caption:this.t("grdTrnsfItems.clmQuantity"),dataType:"number",width:150}),b.createElement(R.sg,{dataField:"DESCRIPTION",caption:this.t("grdTrnsfItems.clmDescription")})))))),b.createElement(_.Z,{id:"pg_txtItemsCode",parent:this,container:"#root",visible:!1,position:{of:"#root"},showTitle:!0,showBorders:!0,width:"90%",height:"90%",title:this.t("pg_txtItemsCode.title"),search:!0,data:{source:{select:{query:"SELECT GUID,CODE,NAME,VAT FROM ITEMS_VW_01 WHERE UPPER(CODE) LIKE UPPER(@VAL) OR UPPER(NAME) LIKE UPPER(@VAL)",param:["VAL:string|50"]},sql:this.core.sql}}},b.createElement(R.sg,{dataField:"CODE",caption:this.t("pg_txtItemsCode.clmCode"),width:150}),b.createElement(R.sg,{dataField:"NAME",caption:this.t("pg_txtItemsCode.clmName"),width:300,defaultSortOrder:"asc"})),b.createElement(S.Z,{id:"msgCombineItem",container:"#root",parent:this,position:{of:"#root"},showTitle:!0,title:this.t("msgCombineItem.title"),showCloseButton:!1,width:"500px",height:"250px",button:[{id:"btn01",caption:this.t("msgCombineItem.btn01"),location:"before"},{id:"btn02",caption:this.t("msgCombineItem.btn02"),location:"after"}]},b.createElement("div",{className:"row"},b.createElement("div",{className:"col-12 py-2"},b.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},this.t("msgCombineItem.msg"))),b.createElement("div",{className:"col-12 py-2"},b.createElement(D(),null,b.createElement(T.Item,null,b.createElement(T.Label,{text:this.lang.t("checkAll"),alignment:"right"}),b.createElement(C.ZP,{id:"checkCombine",parent:this,simple:!0,value:!1}))))),b.createElement("div",{className:"row"})),b.createElement("div",null,b.createElement(y.ZP,{parent:this,id:"popDesign",visible:!1,showCloseButton:!0,showTitle:!0,title:this.t("popDesign.title"),container:"#root",width:"500",height:"250",position:{of:"#root"}},b.createElement(D(),{colCount:1,height:"fit-content"},b.createElement(T.Item,null,b.createElement(T.Label,{text:this.t("popDesign.design"),alignment:"right"}),b.createElement(w.ZP,{simple:!0,parent:this,id:"cmbDesignList",notRefresh:!0,displayExpr:"DESIGN_NAME",valueExpr:"TAG",value:"",searchEnabled:!0,onValueChanged:(0,a.Z)(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))).bind(this),data:{source:{select:{query:"SELECT TAG,DESIGN_NAME FROM [dbo].[LABEL_DESIGN] WHERE PAGE = '04'"},sql:this.core.sql}},param:this.param.filter({ELEMENT:"cmbDesignList",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"cmbDesignList",USERS:this.user.CODE})},b.createElement(v.cX,{validationGroup:"frmPurcOrderPrint"+this.tabIndex},b.createElement(v.n2,{message:this.t("validDesign")})))),b.createElement(T.Item,null,b.createElement(T.Label,{text:this.t("popDesign.lang"),alignment:"right"}),b.createElement(w.ZP,{simple:!0,parent:this,id:"cmbDesignLang",notRefresh:!0,displayExpr:"VALUE",valueExpr:"ID",value:"",searchEnabled:!0,onValueChanged:(0,a.Z)(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))).bind(this),data:{source:[{ID:"FR",VALUE:"FR"},{ID:"TR",VALUE:"TR"}]}})),b.createElement(T.Item,null,b.createElement("div",{className:"row"},b.createElement("div",{className:"col-6"},b.createElement(k.Z,{text:this.lang.t("btnPrint"),type:"normal",stylingMode:"contained",width:"100%",onClick:(0,a.Z)(p().mark((function t(){var n,o;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={query:"SELECT *,ISNULL((SELECT TOP 1 PATH FROM LABEL_DESIGN WHERE TAG = @DESIGN),'') AS PATH FROM  [dbo].[FN_DOC_ITEMS_FOR_PRINT](@DOC_GUID) ORDER BY LINE_NO ",param:["DOC_GUID:string|50","DESIGN:string|25"],value:[e.docObj.dt()[0].GUID,e.cmbDesignList.value]},t.next=3,e.core.sql.execute(n);case 3:o=t.sent,e.core.socket.emit("devprint","{TYPE:'REVIEW',PATH:'"+o.result.recordset[0].PATH.replaceAll("\\","/")+"',DATA:"+JSON.stringify(o.result.recordset)+"}",(function(t){"ERR"!=t.split("|")[0]&&window.open("","_blank","width=900,height=1000,left=500").document.write("<iframe src='data:application/pdf;base64,"+t.split("|")[1]+"' type='application/pdf' default-src='self' width='100%' height='100%'></iframe>")})),e.popDesign.hide();case 6:case"end":return t.stop()}}),t)})))})),b.createElement("div",{className:"col-6"},b.createElement(k.Z,{text:this.lang.t("btnCancel"),type:"normal",stylingMode:"contained",width:"100%",onClick:function(){e.popDesign.hide()}}))))))),b.createElement("div",null,b.createElement(y.ZP,{parent:this,id:"popPassword",visible:!1,showCloseButton:!0,showTitle:!0,title:this.t("popPassword.title"),container:"#root",width:"500",height:"200",position:{of:"#root"}},b.createElement(D(),{colCount:1,height:"fit-content"},b.createElement(T.Item,null,b.createElement(T.Label,{text:this.t("popPassword.Password"),alignment:"right"}),b.createElement(v.ZP,{id:"txtPassword",parent:this,simple:!0,maxLength:32})),b.createElement(T.Item,null,b.createElement("div",{className:"row"},b.createElement("div",{className:"col-6"},b.createElement(k.Z,{text:this.t("popPassword.btnApprove"),type:"normal",stylingMode:"contained",width:"100%",onClick:(0,a.Z)(p().mark((function t(){var n,o;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("1234"!=e.txtPassword.value){t.next=10;break}return e.docObj.dt()[0].LOCKED=0,e.frmTrnsfItems.option("disabled",!1),e.docLocked=!1,n={id:"msgPasswordSucces",showTitle:!0,title:e.t("msgPasswordSucces.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:e.t("msgPasswordSucces.btn01"),location:"after"}],content:b.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},e.t("msgPasswordSucces.msg"))},t.next=7,(0,S.W)(n);case 7:e.popPassword.hide(),t.next=13;break;case 10:return o={id:"msgPasswordWrong",showTitle:!0,title:e.t("msgPasswordWrong.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:e.t("msgPasswordWrong.btn01"),location:"after"}],content:b.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},e.t("msgPasswordWrong.msg"))},t.next=13,(0,S.W)(o);case 13:case"end":return t.stop()}}),t)})))})),b.createElement("div",{className:"col-6"},b.createElement(k.Z,{text:this.lang.t("btnCancel"),type:"normal",stylingMode:"contained",width:"100%",onClick:function(){e.popPassword.hide()}})))))))))}}]),F}(b.PureComponent)},60250:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},o(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CheckBox=void 0;var a=n(16699),i=n(45697),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._WidgetClass=a.default,e.subscribableOptions=["value"],e.independentEvents=["onContentReady","onDisposing","onInitialized"],e._defaults={defaultValue:"value"},e}return r(e,t),Object.defineProperty(e.prototype,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e}(n(76907).Component);e.CheckBox=s,s.propTypes={accessKey:i.string,activeStateEnabled:i.bool,disabled:i.bool,focusStateEnabled:i.bool,height:i.oneOfType([i.func,i.number,i.string]),hint:i.string,hoverStateEnabled:i.bool,isValid:i.bool,name:i.string,onContentReady:i.func,onDisposing:i.func,onInitialized:i.func,onOptionChanged:i.func,onValueChanged:i.func,readOnly:i.bool,rtlEnabled:i.bool,tabIndex:i.number,text:i.string,validationErrors:i.array,validationMessageMode:i.oneOf(["always","auto"]),validationStatus:i.oneOf(["valid","invalid","pending"]),value:i.bool,visible:i.bool,width:i.oneOfType([i.func,i.number,i.string])},e.default=s},130:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},o(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.FileUploader=void 0;var a=n(61339),i=n(45697),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._WidgetClass=a.default,e.subscribableOptions=["value"],e.independentEvents=["onBeforeSend","onContentReady","onDisposing","onDropZoneEnter","onDropZoneLeave","onFilesUploaded","onInitialized","onProgress","onUploadAborted","onUploaded","onUploadError","onUploadStarted"],e._defaults={defaultValue:"value"},e}return r(e,t),Object.defineProperty(e.prototype,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e}(n(76907).Component);e.FileUploader=s,s.propTypes={abortUpload:i.func,accept:i.string,accessKey:i.string,activeStateEnabled:i.bool,allowCanceling:i.bool,allowedFileExtensions:i.array,chunkSize:i.number,disabled:i.bool,focusStateEnabled:i.bool,height:i.oneOfType([i.func,i.number,i.string]),hint:i.string,hoverStateEnabled:i.bool,invalidFileExtensionMessage:i.string,invalidMaxFileSizeMessage:i.string,invalidMinFileSizeMessage:i.string,isValid:i.bool,labelText:i.string,maxFileSize:i.number,minFileSize:i.number,multiple:i.bool,name:i.string,onBeforeSend:i.func,onContentReady:i.func,onDisposing:i.func,onDropZoneEnter:i.func,onDropZoneLeave:i.func,onFilesUploaded:i.func,onInitialized:i.func,onOptionChanged:i.func,onProgress:i.func,onUploadAborted:i.func,onUploaded:i.func,onUploadError:i.func,onUploadStarted:i.func,onValueChanged:i.func,progress:i.number,readOnly:i.bool,readyToUploadMessage:i.string,rtlEnabled:i.bool,selectButtonText:i.string,showFileList:i.bool,tabIndex:i.number,uploadAbortedMessage:i.string,uploadButtonText:i.string,uploadChunk:i.func,uploadedMessage:i.string,uploadFailedMessage:i.string,uploadFile:i.func,uploadMethod:i.oneOf(["POST","PUT"]),uploadMode:i.oneOf(["instantly","useButtons","useForm"]),uploadUrl:i.string,validationErrors:i.array,validationStatus:i.oneOf(["valid","invalid","pending"]),value:i.array,visible:i.bool,width:i.oneOfType([i.func,i.number,i.string])},e.default=s},58235:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},o(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;var a=n(31615),i=n(45697),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._WidgetClass=a.default,e.subscribableOptions=["value"],e.independentEvents=["onComplete","onContentReady","onDisposing","onInitialized"],e._defaults={defaultValue:"value"},e}return r(e,t),Object.defineProperty(e.prototype,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e}(n(76907).Component);e.ProgressBar=s,s.propTypes={disabled:i.bool,height:i.oneOfType([i.func,i.number,i.string]),hint:i.string,hoverStateEnabled:i.bool,isValid:i.bool,max:i.number,min:i.number,onComplete:i.func,onContentReady:i.func,onDisposing:i.func,onInitialized:i.func,onOptionChanged:i.func,onValueChanged:i.func,readOnly:i.bool,rtlEnabled:i.bool,showStatus:i.bool,statusFormat:i.oneOfType([i.func,i.string]),validationErrors:i.array,validationMessageMode:i.oneOf(["always","auto"]),validationStatus:i.oneOf(["valid","invalid","pending"]),value:i.number,visible:i.bool,width:i.oneOfType([i.func,i.number,i.string])},e.default=s}}]);