"use strict";(self.webpackChunkwww=self.webpackChunkwww||[]).push([[9656],{55585:(e,t,i)=>{i.d(t,{ZP:()=>p});var r=i(15671),a=i(43144),s=i(97326),l=i(60136),n=i(82963),o=i(61120),c=i(67294),u=i(60250),d=i.n(u);var p=function(e){(0,l.Z)(p,e);var t,i,u=(t=p,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,o.Z)(t);if(i){var a=(0,o.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,n.Z)(this,e)});function p(e){var t;return(0,r.Z)(this,p),(t=u.call(this,e)).state.value=void 0!==e.value&&e.value,t._onValueChanged=t._onValueChanged.bind((0,s.Z)(t)),t}return(0,a.Z)(p,[{key:"_onValueChanged",value:function(e){this.value=e.value,void 0!==this.props.onValueChanged&&this.props.onValueChanged(e)}},{key:"value",get:function(){return this.state.value},set:function(e){var t=this;if(void 0!==e){if(void 0!==this.props.dt&&void 0!==this.props.dt.data&&this.props.dt.data.length>0&&void 0!==this.props.dt.field)if(void 0===this.props.dt.filter)void 0!==this.props.dt.row&&void 0!==this.props.dt.data.find((function(e){return e===t.props.dt.row}))?this.props.dt.data.find((function(e){return e===t.props.dt.row}))[this.props.dt.field]=e:this.props.dt.data[this.props.dt.data.length-1][this.props.dt.field]=e;else{var i=this.props.dt.data.where(this.props.dt.filter);i.length>0&&(void 0!==this.props.dt.row&&void 0!==i.find((function(e){return e===t.props.dt.row}))?i.find((function(e){return e===t.props.dt.row}))[this.props.dt.field]=e:i[i.length-1][this.props.dt.field]=e)}this.setState({value:e})}}},{key:"render",value:function(){return c.createElement(d(),{id:this.props.id,defaultValue:this.props.defaultValue,value:this.state.value,text:this.props.text,onValueChanged:this._onValueChanged},this.props.children,this.validationView())}}]),p}(i(20819).ZP)},40185:(e,t,i)=>{i.d(t,{Z:()=>C});var r=i(15861),a=i(15671),s=i(43144),l=i(97326),n=i(60136),o=i(82963),c=i(61120),u=i(64687),d=i.n(u),p=i(67294),h=i(20819),E=i(93730),v=i.n(E);var C=function(e){(0,n.Z)(E,e);var t,i,u,h=(i=E,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,c.Z)(i);if(u){var r=(0,c.Z)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,o.Z)(this,e)});function E(e){var t;return(0,a.Z)(this,E),(t=h.call(this,e)).state.value=void 0===e.value?[]:e.value,t._onValueChanged=t._onValueChanged.bind((0,l.Z)(t)),t}return(0,s.Z)(E,[{key:"_onValueChanged",value:function(e){this.value=e.value,void 0!==this.props.onValueChanged&&this.props.onValueChanged(e)}},{key:"_dropDownView",value:function(){return p.createElement(v(),{value:this.state.value,valueExpr:this.props.valueExpr,displayExpr:this.props.displayExpr,placeholder:this.props.placeholder,showClearButton:this.props.showClearButton,dataSource:void 0===this.state.data?void 0:this.state.data.store,onValueChanged:this._onValueChanged,contentRender:this.props.contentRender})}},{key:"value",get:function(){return this.state.value},set:function(e){this.setState({value:e})}},{key:"componentDidMount",value:(t=(0,r.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.state.data){e.next=3;break}return e.next=3,this.dataRefresh(this.state.data);case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"render",value:function(){return void 0!==this.props.simple&&this.props.simple?this._dropDownView():p.createElement("div",{className:"dx-field"},p.createElement("div",{className:"dx-field-label"},void 0===this.props.title?"":this.props.title),p.createElement("div",{className:"dx-field-value"},this._dropDownView()))}}]),E}(h.ZP)},71518:(e,t,i)=>{i.d(t,{Z:()=>C});var r=i(15861),a=i(15671),s=i(43144),l=i(97326),n=i(60136),o=i(82963),c=i(61120),u=i(64687),d=i.n(u),p=i(67294),h=i(20819),E=i(33522),v=i.n(E);var C=function(e){(0,n.Z)(E,e);var t,i,u,h=(i=E,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,c.Z)(i);if(u){var r=(0,c.Z)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,o.Z)(this,e)});function E(e){var t;return(0,a.Z)(this,E),(t=h.call(this,e)).state.value=void 0===e.value?[]:e.value,t._onOptionChanged=t._onOptionChanged.bind((0,l.Z)(t)),t._onItemDeleting=t._onItemDeleting.bind((0,l.Z)(t)),t._onItemDeleted=t._onItemDeleted.bind((0,l.Z)(t)),t}return(0,s.Z)(E,[{key:"_onOptionChanged",value:function(e){"selectedItemKeys"==e.name&&(this.value=e.value),void 0!==this.props.onOptionChanged&&this.props.onOptionChanged(e)}},{key:"_onItemDeleting",value:function(e){void 0!==this.props.onItemDeleting&&this.props.onItemDeleting(e)}},{key:"_onItemDeleted",value:function(e){void 0!==this.props.onItemDeleted&&this.props.onItemDeleted(e)}},{key:"componentDidMount",value:(t=(0,r.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.state.data){e.next=3;break}return e.next=3,this.dataRefresh(this.state.data);case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"value",get:function(){return this.state.value},set:function(e){this.setState({value:e})}},{key:"render",value:function(){return p.createElement(v(),{dataSource:void 0===this.state.data?void 0:this.state.data.store,allowItemDeleting:this.props.allowItemDeleting,itemDeleteMode:this.props.itemDeleteMode,itemRender:this.props.itemRender,collapsibleGroups:this.props.collapsibleGroups,grouped:this.props.grouped,groupRender:this.props.groupRender,groupTemplate:this.props.groupTemplate,width:this.props.width,height:this.props.height,displayExpr:this.props.displayExpr,keyExpr:this.props.keyExpr,showSelectionControls:this.props.showSelectionControls,selectionMode:this.props.selectionMode,selectAllMode:this.props.selectAllMode,selectedItemKeys:this.state.value,onOptionChanged:this._onOptionChanged,onItemDeleting:this._onItemDeleting,onItemDeleted:this._onItemDeleted})}}]),E}(h.ZP)},51559:(e,t,i)=>{i.d(t,{ZP:()=>v});var r=i(15861),a=i(15671),s=i(43144),l=i(97326),n=i(60136),o=i(82963),c=i(61120),u=i(64687),d=i.n(u),p=i(67294),h=i(11694),E=i.n(h);var v=function(e){(0,n.Z)(v,e);var t,i,u,h=(i=v,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,c.Z)(i);if(u){var r=(0,c.Z)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,o.Z)(this,e)});function v(e){var t;return(0,a.Z)(this,v),(t=h.call(this,e)).dev=null,t.state.value=void 0!==e.value?e.value:"",t.state.placeholder=void 0===e.placeholder?"":e.placeholder,t._onInitialized=t._onInitialized.bind((0,l.Z)(t)),t._onValueChanged=t._onValueChanged.bind((0,l.Z)(t)),t}return(0,s.Z)(v,[{key:"_onInitialized",value:function(e){this.dev=e.component}},{key:"_TagBoxView",value:function(){return p.createElement(E(),{id:this.props.id,items:[],acceptCustomValue:!0,onValueChanged:this._onValueChanged,placeholder:this.state.placeholder,openOnFieldClick:!1,showClearButton:!0,maxFilterQueryLength:1e4,noDataText:""},this.props.children,this.validationView())}},{key:"_onValueChanged",value:function(e){this.value=e.value,void 0!==this.props.onValueChanged&&this.props.onValueChanged(e)}},{key:"value",get:function(){return this.state.value},set:function(e){var t=this;if(void 0!==e){if(void 0!==this.props.dt&&void 0!==this.props.dt.data&&this.props.dt.data.length>0&&void 0!==this.props.dt.field)if(void 0===this.props.dt.filter)void 0!==this.props.dt.row&&void 0!==this.props.dt.data.find((function(e){return e===t.props.dt.row}))?(this.props.dt.data.find((function(e){return e===t.props.dt.row}))[this.props.dt.field]=e,void 0!==this.props.dt.display&&(this.props.dt.data.find((function(e){return e===t.props.dt.row}))[this.props.dt.display]=this.displayValue)):(this.props.dt.data[this.props.dt.data.length-1][this.props.dt.field]=e,void 0!==this.props.dt.display&&(this.props.dt.data[this.props.dt.data.length-1][this.props.dt.display]=this.displayValue));else{var i=this.props.dt.data.where(this.props.dt.filter);i.length>0&&(void 0!==this.props.dt.row&&void 0!==i.find((function(e){return e===t.props.dt.row}))?(i.find((function(e){return e===t.props.dt.row}))[this.props.dt.field]=e,void 0!==this.props.dt.display&&(i.find((function(e){return e===t.props.dt.row}))[this.props.dt.display]=this.displayValue)):(i[i.length-1][this.props.dt.field]=e,void 0!==this.props.dt.display&&(i[i.length-1][this.props.dt.display]=this.displayValue)))}this.setState({value:null==e?"":e})}}},{key:"displayValue",get:function(){return this.dev.option("displayValue")}},{key:"componentDidMount",value:(t=(0,r.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.state.data){e.next=3;break}return e.next=3,this.dataRefresh(this.state.data);case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){return void 0!==this.props.simple&&this.props.simple?this._TagBoxView():p.createElement("div",{className:"dx-field"},p.createElement("div",{className:"dx-field-label"},void 0===this.props.title?"":this.props.title),p.createElement("div",{className:"dx-field-value"},this._TagBoxView()))}}]),v}(i(20819).ZP)},99656:(e,t,i)=>{i.r(t),i.d(t,{default:()=>D});var r=i(15861),a=i(15671),s=i(43144),l=i(97326),n=i(60136),o=i(82963),c=i(61120),u=i(64687),d=i.n(u),p=i(67294),h=i(73364),E=(i(30381),i(53221)),v=i.n(E),C=i(25552),f=i.n(C),m=i(42866),R=i.n(m),A=i(18405),g=i(99846),O=i(99077),M=i(40185),N=i(71518),I=i(73682),T=i(55585),S=i(51559),_=i(60547);var D=function(e){(0,n.Z)(D,e);var t,i,u,m=(i=D,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,c.Z)(i);if(u){var r=(0,c.Z)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,o.Z)(this,e)});function D(e){var t;return(0,a.Z)(this,D),(t=m.call(this,e)).prmObj=t.param.filter({TYPE:1,USERS:t.user.CODE}),t.state={columnListValue:["NAME","CODE","BARCODE","MULTICODE","CUSTOMER_NAME","CUSTOMER_PRICE","ORGINS_NAME","PRICE_SALE","VAT","MAIN_GRP_NAME"]},t.core=h.Z.instance.core,t.columnListData=[{CODE:"NAME",NAME:t.t("grdListe.clmName")},{CODE:"SNAME",NAME:t.t("grdListe.clmSname")},{CODE:"MAIN_GRP_NAME",NAME:t.t("grdListe.clmMainGrp")},{CODE:"UNIT_NAME",NAME:t.t("grdListe.clmUnit")},{CODE:"CODE",NAME:t.t("grdListe.clmCode")},{CODE:"BARCODE",NAME:t.t("grdListe.clmBarcode")},{CODE:"MULTICODE",NAME:t.t("grdListe.clmMulticode")},{CODE:"CUSTOMER_NAME",NAME:t.t("grdListe.clmCustomer")},{CODE:"CUSTOMER_PRICE",NAME:t.t("grdListe.clmCustomerPrice")},{CODE:"ORGINS_NAME",NAME:t.t("grdListe.clmOrgin")},{CODE:"PRICE_SALE",NAME:t.t("grdListe.clmPriceSale")},{CODE:"COST_PRICE",NAME:t.t("grdListe.clmCostPrice")},{CODE:"MARGIN",NAME:t.t("grdListe.clmMargin")},{CODE:"NETMARGIN",NAME:t.t("grdListe.clmNetMargin")},{CODE:"VAT",NAME:t.t("grdListe.clmVat")},{CODE:"MIN_PRICE",NAME:t.t("grdListe.clmMinPrice")},{CODE:"MAX_PRICE",NAME:t.t("grdListe.clmMaxPrice")},{CODE:"STATUS",NAME:t.t("grdListe.clmStatus")}],t.groupList=[],t._btnGetirClick=t._btnGetirClick.bind((0,l.Z)(t)),t._columnListBox=t._columnListBox.bind((0,l.Z)(t)),t}return(0,s.Z)(D,[{key:"componentDidMount",value:function(){setTimeout((0,r.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),1e3)}},{key:"_columnListBox",value:function(e){var t=this;return p.createElement(N.Z,{id:"columnListBox",parent:this,data:{source:this.columnListData},width:"100%",showSelectionControls:!0,selectionMode:"multiple",displayExpr:"NAME",keyExpr:"CODE",value:this.state.columnListValue,onOptionChanged:function(e){if("selectedItemKeys"==e.name){t.groupList=[],void 0!==e.value.find((function(e){return"MULTICODE"==e}))&&t.groupList.push("MULTICODE"),void 0!==e.value.find((function(e){return"BARCODE"==e}))&&t.groupList.push("BARCODE"),void 0!==e.value.find((function(e){return"CODE"==e}))&&t.groupList.push("CODE");for(var i=function(i){void 0===e.value.find((function(e){return e==t.grdListe.devGrid.columnOption(i).name}))?t.grdListe.devGrid.columnOption(i,"visible",!1):t.grdListe.devGrid.columnOption(i,"visible",!0)},r=0;r<t.grdListe.devGrid.columnCount();r++)i(r);t.setState({columnListValue:e.value})}}})}},{key:"_btnGetirClick",value:(t=(0,r.Z)(d().mark((function e(){var t,i,r,a,s,l,n,o,c,u,p,h,E,v,C,f,m,R,A,g,O,M,N=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=1==this.chkAktif.value?1:-1,""!=this.txtUrunAdi.value&&"*"!=this.txtUrunAdi.value.slice(-1)&&(i=this.txtUrunAdi.value+"*",this.txtUrunAdi.setState({value:i})),1!=this.chkMasterBarcode.value){e.next=12;break}if(r={source:{groupBy:this.groupList,select:{query:"SELECT GUID,CDATE,CUSER,CUSER_NAME,LDATE,LUSER,LUSER_NAME,TYPE,SPECIAL,CODE,NAME,SNAME,VAT,COST_PRICE,MIN_PRICE,MAX_PRICE,STATUS,MAIN_GRP,MAIN_GRP_NAME,SUB_GRP,ORGINS,ITEMS_GRP_GUID,ORGINS_NAME,RAYON,SHELF,SECTOR, SALE_JOIN_LINE,TICKET_REST,WEIGHING,MAX(BARCODE) AS BARCODE,MAX(BARCODE_GUID) AS BARCODE_GUID,UNIT_ID,UNIT_NAME,UNIT_FACTOR,MULTICODE,CUSTOMER_GUID,CUSTOMER_CODE,CUSTOMER_NAME,CUSTOMER_PRICE,PRICE_SALE, CASE WHEN PRICE_SALE <> 0 THEN  CONVERT(nvarchar,ROUND((PRICE_SALE / ((VAT / 100) + 1)) - COST_PRICE,2)) + '/ %' + CONVERT(nvarchar,ROUND((((PRICE_SALE / ((VAT / 100) + 1)) - COST_PRICE) / (PRICE_SALE / ((VAT / 100) + 1))) * 100,2))  ELSE '0'   END AS MARGIN,  CASE WHEN PRICE_SALE <> 0 THEN  CONVERT(nvarchar,ROUND(((PRICE_SALE / ((VAT / 100) + 1)) - COST_PRICE) / 1.12,2)) + '/ %' + CONVERT(nvarchar,ROUND(((((PRICE_SALE / ((VAT / 100) + 1)) - COST_PRICE) / 1.12) / (PRICE_SALE / ((VAT / 100) + 1))) * 100,2))  ELSE '0'  END AS NETMARGIN  FROM ITEMS_BARCODE_MULTICODE_VW_01  WHERE {0}((NAME LIKE @NAME +'%') OR (@NAME = '')) AND ((MAIN_GRP = @MAIN_GRP) OR (@MAIN_GRP = '')) AND ((CUSTOMER_CODE = @CUSTOMER_CODE) OR (@CUSTOMER_CODE = '')) AND ((STATUS = @STATUS) OR (@STATUS = -1)) GROUP BY GUID,CDATE,CUSER,CUSER_NAME,LDATE,LUSER,LUSER_NAME,TYPE,SPECIAL,CODE,NAME,SNAME,VAT,COST_PRICE,MIN_PRICE,MAX_PRICE,STATUS,MAIN_GRP,MAIN_GRP_NAME,SUB_GRP,ORGINS,ITEMS_GRP_GUID,ORGINS_NAME,RAYON,SHELF,SECTOR, SALE_JOIN_LINE,TICKET_REST,WEIGHING,UNIT_ID,UNIT_NAME,UNIT_FACTOR,MULTICODE,CUSTOMER_GUID,CUSTOMER_CODE,CUSTOMER_NAME,CUSTOMER_PRICE,PRICE_SALE ",param:["NAME:string|250","MAIN_GRP:string|25","CUSTOMER_CODE:string|25","STATUS:int"],value:[this.txtUrunAdi.value.replaceAll("*","%"),this.cmbUrunGrup.value,this.cmbTedarikci.value,t]},sql:this.core.sql}},0==this.txtBarkod.value.length)r.source.select.query=r.source.select.query.replaceAll("{0}","{1}");else if(1==this.txtBarkod.value.length)r.source.select.query=r.source.select.query.replaceAll("{0}","((CODE LIKE '"+this.txtBarkod.value[0]+"' + '%') OR (BARCODE LIKE '"+this.txtBarkod.value[0]+"' + '%') {1}) AND");else{for(a="",s=0;s<this.txtBarkod.value.length;s++)a=a+",'"+this.txtBarkod.value[s]+"'";r.source.select.query=r.source.select.query.replaceAll("{0}","((CODE IN ("+a.substring(1,a.length)+")) OR (BARCODE IN ("+a.substring(1,a.length)+")) {1}) AND")}if(0==this.txtMulticode.value.length)r.source.select.query=r.source.select.query.replaceAll("{1}","");else if(1==this.txtMulticode.value.length)0==this.txtBarkod.value.length?r.source.select.query=r.source.select.query.replaceAll("{1}"," (MULTICODE = '"+this.txtMulticode.value[0]+"') AND"):r.source.select.query=r.source.select.query.replaceAll("{1}","OR (MULTICODE = '"+this.txtMulticode.value[0]+"')");else{for(l="",n=0;n<this.txtMulticode.value.length;n++)l=l+",'"+this.txtMulticode.value[n]+"'";0==this.txtBarkod.value.length?r.source.select.query=r.source.select.query.replaceAll("{1}"," (MULTICODE IN ("+l.substring(1,l.length)+")) AND"):r.source.select.query=r.source.select.query.replaceAll("{1}","OR (MULTICODE IN ("+l.substring(1,l.length)+")) ")}return e.next=8,this.grdListe.dataRefresh(r);case 8:if(void 0!==(o=this.prmObj.filter({ID:"emptyCode",USERS:this.user.CODE}).getValue())&&1==o.value){for(c=function(e){void 0===N.grdListe.data.datatable.find((function(t){return t.CODE===N.txtBarkod.value[e]||t.BARCODE===N.txtBarkod.value[e]}))&&N.grdListe.data.datatable.push({CODE:N.txtBarkod.value[e]})},u=0;u<this.txtBarkod.value.length;u++)c(u);for(p=function(e){void 0===N.grdListe.data.datatable.find((function(t){return t.MULTICODE===N.txtMulticode.value[e]}))&&N.grdListe.data.datatable.push({MULTICODE:N.txtMulticode.value[e]})},h=0;h<this.txtMulticode.value.length;h++)p(h);this.grdListe.dataRefresh(this.grdListe.data.datatable)}e.next=19;break;case 12:if(E={source:{groupBy:this.groupList,select:{query:"SELECT *,CASE WHEN PRICE_SALE <> 0 THEN CONVERT(nvarchar,ROUND((PRICE_SALE / ((VAT / 100) + 1)) - COST_PRICE,2)) + '/ %' + CONVERT(nvarchar,ROUND((((PRICE_SALE / ((VAT / 100) + 1)) - COST_PRICE) / (PRICE_SALE / ((VAT / 100) + 1))) * 100,2)) ELSE '0'  END AS MARGIN, CASE WHEN PRICE_SALE <> 0 THEN CONVERT(nvarchar,ROUND(((PRICE_SALE / ((VAT / 100) + 1)) - COST_PRICE) / 1.12,2)) + '/ %' + CONVERT(nvarchar,ROUND(((((PRICE_SALE / ((VAT / 100) + 1)) - COST_PRICE) / 1.12) / (PRICE_SALE / ((VAT / 100) + 1))) * 100,2)) ELSE '0' END AS NETMARGIN FROM ITEMS_BARCODE_MULTICODE_VW_01 WHERE {0} ((NAME LIKE @NAME +'%') OR (@NAME = '')) AND ((MAIN_GRP = @MAIN_GRP) OR (@MAIN_GRP = '')) AND ((CUSTOMER_CODE = @CUSTOMER_CODE) OR (@CUSTOMER_CODE = '')) AND ((STATUS = @STATUS) OR (@STATUS = -1))",param:["NAME:string|250","MAIN_GRP:string|25","CUSTOMER_CODE:string|25","STATUS:int"],value:[this.txtUrunAdi.value.replaceAll("*","%"),this.cmbUrunGrup.value,this.cmbTedarikci.value,t]},sql:this.core.sql}},0==this.txtBarkod.value.length)E.source.select.query=E.source.select.query.replaceAll("{0}","{1}");else if(1==this.txtBarkod.value.length)E.source.select.query=E.source.select.query.replaceAll("{0}","((CODE LIKE '"+this.txtBarkod.value[0]+"' + '%') OR (BARCODE LIKE '"+this.txtBarkod.value[0]+"' + '%') {1}) AND");else{for(v="",C=0;C<this.txtBarkod.value.length;C++)v=v+",'"+this.txtBarkod.value[C]+"'";E.source.select.query=E.source.select.query.replaceAll("{0}","((CODE IN ("+v.substring(1,v.length)+")) OR (BARCODE IN ("+v.substring(1,v.length)+")) {1}) AND")}if(0==this.txtMulticode.value.length)E.source.select.query=E.source.select.query.replaceAll("{1}","");else if(1==this.txtMulticode.value.length)0==this.txtBarkod.value.length?E.source.select.query=E.source.select.query.replaceAll("{1}"," (MULTICODE = '"+this.txtMulticode.value[0]+"') AND"):E.source.select.query=E.source.select.query.replaceAll("{1}","OR (MULTICODE = '"+this.txtMulticode.value[0]+"')");else{for(f="",m=0;m<this.txtMulticode.value.length;m++)f=f+",'"+this.txtMulticode.value[m]+"'";0==this.txtBarkod.value.length?E.source.select.query=E.source.select.query.replaceAll("{1}"," (MULTICODE IN ("+f.substring(1,f.length)+")) AND"):E.source.select.query=E.source.select.query.replaceAll("{1}","OR (MULTICODE IN ("+f.substring(1,f.length)+")) ")}return e.next=17,this.grdListe.dataRefresh(E);case 17:if(void 0!==(R=this.prmObj.filter({ID:"emptyCode",USERS:this.user.CODE}).getValue())&&1==R.value){for(A=function(e){void 0===N.grdListe.data.datatable.find((function(t){return t.CODE===N.txtBarkod.value[e]||t.BARCODE===N.txtBarkod.value[e]}))&&N.grdListe.data.datatable.push({CODE:N.txtBarkod.value[e]})},g=0;g<this.txtBarkod.value.length;g++)A(g);for(O=function(e){void 0===N.grdListe.data.datatable.find((function(t){return t.MULTICODE===N.txtMulticode.value[e]}))&&N.grdListe.data.datatable.push({MULTICODE:N.txtMulticode.value[e]})},M=0;M<this.txtMulticode.value.length;M++)O(M);this.grdListe.dataRefresh(this.grdListe.data.datatable)}case 19:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e,t,i=this;return p.createElement("div",null,p.createElement(R(),null,p.createElement("div",{className:"row px-2 pt-2"},p.createElement("div",{className:"col-12"},p.createElement(v(),null,p.createElement(E.Item,{location:"after",locateInMenu:"auto",widget:"dxButton",options:{type:"default",icon:"add",onClick:(t=(0,r.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.Z.instance.menuClick({id:"stk_01_001",text:"Stok Tanımları",path:"items/cards/itemCard.js"});case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}}),p.createElement(E.Item,{location:"after",locateInMenu:"auto",widget:"dxButton",options:{type:"default",icon:"clear",onClick:(e=(0,r.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:"msgClose",showTitle:!0,title:i.lang.t("msgWarning"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:i.lang.t("btnYes"),location:"before"},{id:"btn02",caption:i.lang.t("btnNo"),location:"after"}],content:p.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},i.lang.t("msgClose"))},e.next=3,(0,_.W)(t);case 3:"btn01"==e.sent&&h.Z.instance.panel.closePage();case 5:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})}})))),p.createElement("div",{className:"row px-2 pt-2"},p.createElement("div",{className:"col-12"},p.createElement(f(),{colCount:2,id:"frmKriter"},p.createElement(E.Item,null,p.createElement(C.Label,{text:this.t("txtBarkod"),alignment:"right"}),p.createElement(S.ZP,{id:"txtBarkod",parent:this,simple:!0,value:[],placeholder:this.t("barkodPlaceHolder")})),p.createElement(E.Item,null,p.createElement(C.Label,{text:this.t("cmbCustomer"),alignment:"right"}),p.createElement(O.ZP,{simple:!0,parent:this,id:"cmbTedarikci",showClearButton:!0,notRefresh:!0,searchEnabled:!0,displayExpr:"TITLE",valueExpr:"CODE",data:{source:{select:{query:"SELECT CODE,TITLE FROM CUSTOMER_VW_01 WHERE TYPE IN(1,2) ORDER BY TITLE ASC"},sql:this.core.sql}}})),p.createElement(E.Item,null,p.createElement(C.Label,{text:this.t("txtItemName"),alignment:"right"}),p.createElement(g.ZP,{id:"txtUrunAdi",parent:this,simple:!0,onEnterKey:this._btnGetirClick,placeholder:this.t("ItemNamePlaceHolder"),upper:this.sysParam.filter({ID:"onlyBigChar",USERS:this.user.CODE}).getValue().value})),p.createElement(E.Item,null,p.createElement(C.Label,{text:this.t("cmbMainGrp"),alignment:"right"}),p.createElement(O.ZP,{simple:!0,parent:this,id:"cmbUrunGrup",showClearButton:!0,notRefresh:!0,searchEnabled:!0,displayExpr:"NAME",valueExpr:"CODE",data:{source:{select:{query:"SELECT CODE,NAME FROM ITEM_GROUP ORDER BY NAME ASC"},sql:this.core.sql}}})),p.createElement(E.Item,null,p.createElement(C.Label,{text:this.t("txtMulticode"),alignment:"right"}),p.createElement(S.ZP,{id:"txtMulticode",parent:this,simple:!0,value:[],placeholder:this.t("multicodePlaceHolder")})),p.createElement(E.Item,null,p.createElement(C.Label,{text:this.t("btnCheck"),alignment:"right"}),p.createElement(T.ZP,{id:"chkAktif",parent:this,value:!0}))))),p.createElement("div",{className:"row px-2 pt-2"},p.createElement("div",{className:"col-3"},p.createElement(M.Z,{simple:!0,parent:this,id:"cmbColumn",value:this.state.columnListValue,displayExpr:"NAME",valueExpr:"CODE",data:{source:this.columnListData},contentRender:this._columnListBox})),p.createElement("div",{className:"col-3"},p.createElement(T.ZP,{id:"chkMasterBarcode",parent:this,text:this.t("chkMasterBarcode"),value:!0})),p.createElement("div",{className:"col-3"}),p.createElement("div",{className:"col-3"},p.createElement(I.Z,{text:this.t("btnGet"),type:"success",width:"100%",onClick:this._btnGetirClick}))),p.createElement("div",{className:"row px-2 pt-2"},p.createElement("div",{className:"col-12"},p.createElement(A.ZP,{id:"grdListe",parent:this,selection:{mode:"multiple"},showBorders:!0,filterRow:{visible:!0},headerFilter:{visible:!0},columnAutoWidth:!0,allowColumnReordering:!0,allowColumnResizing:!0,loadPanel:{enabled:!0},onCellPrepared:function(e){"data"===e.rowType&&"MARGIN"===e.column.dataField&&void 0!==e.data.MARGIN.split("%")[1]&&(e.cellElement.style.color=e.data.MARGIN.split("%")[1]<30?"red":"blue"),"data"===e.rowType&&"NETMARGIN"===e.column.dataField&&void 0!==e.data.NETMARGIN.split("%")[1]&&(e.cellElement.style.color=e.data.NETMARGIN.split("%")[1]<30?"red":"blue")},onRowPrepared:function(e){console.log(e),"data"==e.rowType&&0==e.data.STATUS?e.rowElement.style.color="Silver":"data"==e.rowType&&1==e.data.STATUS&&(e.rowElement.style.color="Black")},onRowDblClick:function(){var e=(0,r.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.Z.instance.menuClick({id:"stk_01_001",text:t.data.NAME.substring(0,10),path:"items/cards/itemCard.js",pagePrm:{CODE:t.data.CODE}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p.createElement(A.Po,{defaultPageSize:50}),p.createElement(A.uE,{visible:!0,allowedPageSizes:[5,10,50],showPageSizeSelector:!0}),p.createElement(A.D7,{fileName:this.lang.t("menu.stk_03_001"),enabled:!0,allowExportSelectedData:!0}),p.createElement(A.sg,{dataField:"CODE",caption:this.t("grdListe.clmCode"),visible:!0}),p.createElement(A.sg,{dataField:"NAME",caption:this.t("grdListe.clmName"),visible:!0,defaultSortOrder:"asc"}),p.createElement(A.sg,{dataField:"BARCODE",caption:this.t("grdListe.clmBarcode"),visible:!0}),p.createElement(A.sg,{dataField:"SNAME",caption:this.t("grdListe.clmSname"),visible:!1}),p.createElement(A.sg,{dataField:"MAIN_GRP_NAME",caption:this.t("grdListe.clmMainGrp"),visible:!0}),p.createElement(A.sg,{dataField:"VAT",caption:this.t("grdListe.clmVat"),visible:!0}),p.createElement(A.sg,{dataField:"PRICE_SALE",caption:this.t("grdListe.clmPriceSale"),visible:!0}),p.createElement(A.sg,{dataField:"CUSTOMER_PRICE",caption:this.t("grdListe.clmCustomerPrice"),visible:!0}),p.createElement(A.sg,{dataField:"COST_PRICE",caption:this.t("grdListe.clmCostPrice"),visible:!1}),p.createElement(A.sg,{dataField:"MARGIN",caption:this.t("grdListe.clmMargin"),visible:!1}),p.createElement(A.sg,{dataField:"NETMARGIN",caption:this.t("grdListe.clmNetMargin"),visible:!1}),p.createElement(A.sg,{dataField:"MIN_PRICE",caption:this.t("grdListe.clmMinPrice"),visible:!1}),p.createElement(A.sg,{dataField:"MAX_PRICE",caption:this.t("grdListe.clmMaxPrice"),visible:!1}),p.createElement(A.sg,{dataField:"UNIT_NAME",caption:this.t("grdListe.clmUnit"),visible:!1}),p.createElement(A.sg,{dataField:"ORGINS_NAME",caption:this.t("grdListe.clmOrgin"),visible:!0}),p.createElement(A.sg,{dataField:"MULTICODE",caption:this.t("grdListe.clmMulticode"),visible:!0}),p.createElement(A.sg,{dataField:"CUSTOMER_NAME",caption:this.t("grdListe.clmCustomer"),visible:!0}),p.createElement(A.sg,{dataField:"STATUS",caption:this.t("grdListe.clmStatus"),visible:!1}))))))}}]),D}(p.PureComponent)}}]);