"use strict";(self.webpackChunkwww=self.webpackChunkwww||[]).push([[2430],{92430:(a,t,s)=>{s.r(t),s.d(t,{print:()=>o});var e=s(30381),n=s.n(e);function o(){var a=arguments.length>0?arguments[0]:void 0;if(void 0===a)return[];var t=function(){return new Intl.NumberFormat("de",{style:"decimal",minimumIntegerDigits:1,minimumFractionDigits:2,maximumFractionDigits:3}).format(arguments[0])};return[{align:"ct",logo:"./resources/logop.png"},function(){return{font:"a",style:"b",align:"ct",data:""}},function(){return{font:"a",style:"b",align:"ct",data:"ZAC HECKENWALD"}},function(){return{font:"a",style:"b",align:"ct",data:"57740 LONGEVILLE-LES-ST-AVOLD"}},function(){return{font:"a",style:"b",align:"ct",data:"Tel : 03 87 91 00 32"}},function(){return{font:"a",style:"b",align:"ct",data:"longeville@prodorplus.fr"}},function(){return{font:"a",style:"b",align:"ct",data:"www.prodorplus.fr"}},function(){var t=[];return"Fatura"==a.special.type&&(t.push({font:"a",align:"ct",data:"------------------------------------------------"}),t.push({font:"a",align:"ct",data:"FACTURE"}),t.push({font:"a",align:"ct",data:"------------------------------------------------"}),t.push({font:"b",style:"b",align:"ct",data:" ".space(64)}),t.push({font:"b",style:"b",align:"lt",data:"Nom:.........................................................."}),t.push({font:"b",style:"b",align:"lt",data:"Adresse:......................................................"}),t.push({font:"b",style:"b",align:"lt",data:".............................................................."}),t.push({font:"b",style:"b",align:"lt",data:".............................................................."}),t.push({font:"b",style:"b",align:"ct",data:" ".space(64)})),t.length>0?t:void 0},function(){return{font:"b",align:"lt",data:(n()(new Date).locale("fr").format("dddd")+" "+n()(new Date).format("DD.MM.YYYY")).space(59)+n()(new Date).format("LTS").space(5)}},function(){return{font:"b",align:"lt",data:("Caissier: "+a.pos[0].CUSER).space(34,"e")+("Caisse: "+a.special.safe).space(30,"s")}},function(){return{align:"ct",barcode:a.pos[0].GUID.substring(19,36),options:{width:1,height:40,position:"OFF"}}},function(){return{font:"a",style:"b",align:"ct",data:"****** Numero de Ticket De Caisse ******"}},function(){return{font:"b",align:"lt",data:" ".space(64)}},function(){if("Fatura"==a.special.type||a.special.reprint)return{font:"b",style:"b",align:"ct",data:"DUPLICATA"}},function(){var t=[];return a.pospay.where({TYPE:0}).length>0&&1==a.pos[0].TYPE?(t.push({font:"b",style:"b",size:[1,1],align:"ct",data:"REMBOURSEMENT"}),t.push({font:"b",style:"b",align:"ct",data:" ".space(64)})):a.pospay.where({TYPE:4}).length>0&&(t.push({font:"b",style:"b",size:[1,1],align:"ct",data:"BON D'AVOIR"}),t.push({font:"b",style:"b",align:"ct",data:" ".space(64)})),t.length>0?t:void 0},function(){return{font:"b",style:"bu",align:"lt",data:"T "+"Libelle".space(37)+" "+"Qte".space(8)+" "+"P/u".space(7)+" "+"Prix".space(7)}},function(){var s=[];if("Repas"==a.special.type){var e=a.possale.sum("AMOUNT",2)/a.special.repas;s.push({font:"b",align:"lt",data:"  "+"Repas complet(s)".space(34)+" "+a.special.repas.space(8,"s")+" "+e.toString().space(7,"s")+" "+(t(a.possale.sum("AMOUNT",2))+"EUR").space(10,"s")})}else a.pospromo.groupBy("PROMO_GUID").forEach((function(t){var e=0;a.pospromo.where({PROMO_GUID:t.PROMO_GUID}).forEach((function(t){var n=a.possale.where({GUID:t.POS_SALE_GUID});if(n.length>0){e+=n[0].DISCOUNT;var o;o=Number.isInteger(parseFloat(n[0].QUANTITY))?parseInt(n[0].QUANTITY/n[0].UNIT_FACTOR)+" "+n[0].UNIT_SHORT:parseFloat(parseFloat(n[0].QUANTITY/n[0].UNIT_FACTOR).toFixed(3))+" "+n[0].UNIT_SHORT,s.push({font:"b",style:"00000000-0000-0000-0000-000000000000"==n[0].GUID?"b":void 0,align:"00000000-0000-0000-0000-000000000000"==n[0].GUID?"rt":"lt",data:n[0].VAT_TYPE+" "+("00000000-0000-0000-0000-000000000000"==n[0].GUID?n[0].ITEM_SNAME.space(30,"s"):(n[0].TICKET_REST?"*"+n[0].ITEM_SNAME:n[0].ITEM_SNAME).toString().space(34))+" "+("00000000-0000-0000-0000-000000000000"==n[0].GUID?"":o).space(8,"s")+" "+("00000000-0000-0000-0000-000000000000"==n[0].GUID?"":parseFloat(n[0].PRICE*n[0].UNIT_FACTOR).toFixed(2)).space(7,"s")+" "+(parseFloat(n[0].AMOUNT).toFixed(2)+"EUR").space(10,"s")})}})),s.push({font:"b",style:"b",align:"lt",data:"Remise ".space(40,"s")+("  -"+parseFloat(e).toFixed(2)+"EUR").space(10,"s")})})),a.possale.where({GUID:{NIN:a.pospromo.toColumnArr("POS_SALE_GUID")}}).forEach((function(a){var t;t=Number.isInteger(parseFloat(a.QUANTITY))?parseInt(a.QUANTITY/a.UNIT_FACTOR)+" "+a.UNIT_SHORT:parseFloat(parseFloat(a.QUANTITY/a.UNIT_FACTOR).toFixed(3))+" "+a.UNIT_SHORT,s.push({font:"b",style:"00000000-0000-0000-0000-000000000000"==a.GUID?"b":void 0,align:"00000000-0000-0000-0000-000000000000"==a.GUID?"rt":"lt",data:a.VAT_TYPE+" "+("00000000-0000-0000-0000-000000000000"==a.GUID?a.ITEM_SNAME.space(30,"s"):(a.TICKET_REST?"*"+a.ITEM_SNAME:a.ITEM_SNAME).toString().space(34))+" "+("00000000-0000-0000-0000-000000000000"==a.GUID?"":t).space(8,"s")+" "+("00000000-0000-0000-0000-000000000000"==a.GUID?"":parseFloat(a.PRICE*a.UNIT_FACTOR).toFixed(2)).space(7,"s")+" "+(parseFloat(a.AMOUNT).toFixed(2)+"EUR").space(10,"s")})}));return s.length>0?s:void 0},{font:"b",style:"bu",align:"lt",data:" ".space(64)},function(){var s=[],e=1==a.pos[0].TYPE?"-":"";return a.special.customerUsePoint>0&&(s.push({font:"a",align:"lt",data:"Sous-Total ".space(33)+(e+t(a.possale.sum("AMOUNT",2))+"EUR").space(15,"s")}),s.push({font:"a",align:"lt",data:"Remise Fidelite ".space(33)+((-1*parseFloat(parseFloat(a.special.customerUsePoint)/100)).toFixed(2).toString()+" EUR").space(15,"s")})),a.possale.sum("DISCOUNT",2)>0&&(0==a.special.customerUsePoint&&s.push({font:"a",align:"lt",data:"Sous-Total ".space(33)+(e+t(a.possale.sum("AMOUNT",2))+"EUR").space(15,"s")}),s.push({font:"a",align:"lt",data:"Remise ".space(33)+(t(-1*a.possale.sum("DISCOUNT",2))+"EUR").space(15,"s")})),s.length>0?s:void 0},function(){var s=1==a.pos[0].TYPE?"-":"";return{font:"b",size:[1,1],style:"b",align:"lt",data:"Total TTC".space(17)+(s+t(parseFloat(a.possale.sum("TOTAL")).toFixed(2))+"EUR").space(15,"s")}},function(){for(var s=[],e=1==a.pos[0].TYPE?"-":"",n=0;n<a.pospay.length;n++){var o="";0==a.pospay[n].PAY_TYPE?o="Espece":1==a.pospay[n].PAY_TYPE?o="CB":2==a.pospay[n].PAY_TYPE?o="Cheque":3==a.pospay[n].PAY_TYPE?o="CHEQue":4==a.pospay[n].PAY_TYPE?o="BON D'AVOIR":5==a.pospay[n].PAY_TYPE?o="AVOIR":6==a.pospay[n].PAY_TYPE?o="VIRMENT":7==a.pospay[n].PAY_TYPE&&(o="PRLV"),s.push({font:"a",align:"lt",data:o.space(33)+(e+t(a.pospay.where({PAY_TYPE:a.pospay[n].PAY_TYPE}).sum("AMOUNT",2))+"EUR").space(15,"s")})}return s.length>0?s:void 0},function(){var s=[];return a.pospay.where({PAY_TYPE:0}).length>0?(s.push({font:"a",align:"lt",data:"Recu".space(33)+(t(parseFloat(a.pospay.sum("AMOUNT",2)).toFixed(2))+"EUR").space(15,"s")}),s.push({font:"a",align:"lt",data:"Rendu".space(33)+(t(a.pospay.sum("CHANGE",2))+"EUR").space(15,"s")})):a.pospay.where({PAY_TYPE:3}).length>0?(s.push({font:"a",align:"lt",data:"Surplus Tic. Rest.".space(33)+(t(a.pospay.sum("TICKET_PLUS",2))+"EUR").space(15,"s")}),s.push({font:"a",align:"lt",data:"Rendu".space(33)+"0,00EUR".space(15,"s")})):a.pospay.where({PAY_TYPE:4}).length>0&&(s.push({font:"a",align:"lt",data:"Recu".space(33)+(t(parseFloat(a.pospay.where({PAY_TYPE:4}).sum("AMOUNT",2)+a.pospay.sum("CHANGE",2)).toFixed(2))+"EUR").space(15,"s")}),s.push({font:"a",align:"lt",data:"Rendu".space(33)+(t(a.pospay.sum("CHANGE",2))+"EUR").space(15,"s")})),s.length>0?s:void 0},{font:"b",style:"bu",align:"lt",data:" ".space(64)},function(){var t=[];t.push({font:"b",style:"bu",align:"lt",data:" ".space(5)+" "+"Taux".space(10)+" "+"HT".space(10)+" "+"TVA".space(10)+" "+"TTC".space(10)});for(var s=a.possale.where({GUID:{"<>":"00000000-0000-0000-0000-000000000000"}}).groupBy("VAT_RATE"),e=0;e<s.length;e++)t.push({font:"b",align:"lt",data:s[e].VAT_TYPE.space(5)+" "+(s[e].VAT_RATE+"%").space(10)+" "+a.possale.where({VAT_TYPE:s[e].VAT_TYPE}).sum("FAMOUNT",2).space(10)+" "+a.possale.where({VAT_TYPE:s[e].VAT_TYPE}).sum("VAT",2).space(10)+" "+a.possale.where({VAT_TYPE:s[e].VAT_TYPE}).sum("TOTAL",2).space(10)});return t.length>0?t:void 0},{font:"b",style:"bu",align:"lt",data:" ".space(64)},function(){if(a.possale.where({TICKET_REST:!0}).length>0)return{font:"b",style:"b",align:"lt",data:"TOTAL ART ELIGIBLE".space(56)+" "+a.possale.where({TICKET_REST:!0}).sum("TOTAL",2).space(7,"s")}},{font:"b",style:"bu",align:"lt",data:" ".space(64)},function(){return{font:"b",align:"lt",data:(a.possale.where({GUID:{"<>":"00000000-0000-0000-0000-000000000000"}}).length.toString()+" Aricle(s)").space(14)}},function(){var s=[];return""!=a.pos[0].CUSTOMER_CODE&&(s.push({align:"ct",barcode:a.pos[0].CUSTOMER_CODE,options:{width:1,height:30}}),s.push({font:"b",style:"b",align:"lt",data:"****************************************************************".space(64)}),s.push({font:"b",align:"lt",data:("CARTE DE FIDELITE / "+a.pos[0].CUSTOMER_CODE).space(64)}),s.push({font:"b",align:"lt",data:"ANCIEN CUMUL ".space(56)+(a.special.customerPoint+" Pts").space(8,"s")}),s.push({font:"b",align:"lt",data:"POINT ACQUIS SUR CE TICKET ".space(56)+(parseInt(a.pos[0].TOTAL)+" Pts").space(8,"s")}),a.special.customerUsePoint>0&&s.push({font:"b",align:"lt",data:"UTILISE POINT ".space(56)+(-1*parseInt(a.special.customerUsePoint)+" Pts").space(8,"s")}),s.push({font:"b",align:"lt",data:"NOUVEAU CUMUL ".space(56)+(parseInt(a.special.customerGrowPoint)+parseInt(a.pos[0].TOTAL)+" Pts").space(8,"s")}),s.push({font:"b",align:"lt",data:"EQUIVALENT REMISE ".space(56)+(t(parseFloat((parseInt(a.special.customerGrowPoint)+parseInt(a.pos[0].TOTAL))/100).toFixed(2)).toString()+"EUR").space(8,"s")}),s.push({font:"b",style:"b",align:"lt",data:"****************************************************************".space(64)})),s.length>0?s:void 0},function(){var s=[];return""!=a.pos[0].REBATE_CHEQPAY&&a.pospay.where({PAY_TYPE:4}).length>0&&1==a.pos[0].TYPE?(s.push({font:"b",style:"b",align:"ct",size:[1,0],data:"Bon d'avoir : "+t(parseFloat(a.pos[0].REBATE_CHEQPAY.substring(8,12)/100).toFixed(2))+"EUR"}),s.push({align:"ct",barcode:a.pos[0].REBATE_CHEQPAY,options:{width:1,height:90}}),s.push({font:"b",style:"b",align:"lt",data:" ".space(64)}),s.push({font:"b",style:"b",align:"ct",data:"Avoir valable 3 mois apres edition..."})):""!=a.pos[0].REBATE_CHEQPAY&&a.pospay.where({PAY_TYPE:4}).length>0&&0==a.pos[0].TYPE&&a.pospay.where({CHANGE:{">":0}}).length>0&&(s.push({font:"b",style:"b",align:"ct",size:[1,0],data:"Reste Bon d'avoir : "+t(parseFloat(a.pos[0].REBATE_CHEQPAY.substring(8,12)/100).toFixed(2))+"EUR"}),s.push({align:"ct",barcode:a.pos[0].REBATE_CHEQPAY,options:{width:1,height:90}}),s.push({font:"b",style:"b",align:"lt",data:" ".space(64)}),s.push({font:"b",style:"b",align:"ct",data:"Avoir valable 3 mois apres edition..."})),s.length>0?s:void 0},function(){return{font:"b",align:"ct",data:"Conservez moi comme preuve d'achat pour les"}},function(){return{font:"b",align:"ct",data:"garanties, echanges, ou remboursement sous 1 mois"}},function(){return{font:"b",align:"ct",data:"Ne sont ni repris ni echanges les produits suivants :"}},function(){return{font:"b",align:"ct",data:"Produits Frais, Viandes, Fromages."}},function(){return{font:"b",style:"b",align:"ct",data:"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"}},function(){return{font:"b",style:"b",align:"ct",data:"AUCUN REMBOURSEMENT ESPECES NE SERA EFFECTUE"}},function(){return{font:"b",style:"b",align:"ct",data:"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"}},function(){return{font:"b",style:"b",align:"ct",data:"Merci de votre fidelite a tres bientot ..."}},function(){return{font:"b",style:"b",align:"ct",data:" "}}]}}}]);