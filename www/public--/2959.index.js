/*! For license information please see 2959.index.js.LICENSE.txt */
"use strict";(self.webpackChunkwww=self.webpackChunkwww||[]).push([[2959],{55585:(t,e,n)=>{n.d(e,{ZP:()=>p});var o=n(15671),a=n(43144),i=n(97326),r=n(60136),s=n(82963),l=n(61120),c=n(67294),d=n(60250),u=n.n(d);var p=function(t){(0,r.Z)(p,t);var e,n,d=(e=p,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,o=(0,l.Z)(e);if(n){var a=(0,l.Z)(this).constructor;t=Reflect.construct(o,arguments,a)}else t=o.apply(this,arguments);return(0,s.Z)(this,t)});function p(t){var e;return(0,o.Z)(this,p),(e=d.call(this,t)).state.value=void 0!==t.value&&t.value,e._onValueChanged=e._onValueChanged.bind((0,i.Z)(e)),e}return(0,a.Z)(p,[{key:"_onValueChanged",value:function(t){this.value=t.value,void 0!==this.props.onValueChanged&&this.props.onValueChanged(t)}},{key:"value",get:function(){return this.state.value},set:function(t){var e=this;if(void 0!==t){if(void 0!==this.props.dt&&void 0!==this.props.dt.data&&this.props.dt.data.length>0&&void 0!==this.props.dt.field)if(void 0===this.props.dt.filter)void 0!==this.props.dt.row&&void 0!==this.props.dt.data.find((function(t){return t===e.props.dt.row}))?this.props.dt.data.find((function(t){return t===e.props.dt.row}))[this.props.dt.field]=t:this.props.dt.data[this.props.dt.data.length-1][this.props.dt.field]=t;else{var n=this.props.dt.data.where(this.props.dt.filter);n.length>0&&(void 0!==this.props.dt.row&&void 0!==n.find((function(t){return t===e.props.dt.row}))?n.find((function(t){return t===e.props.dt.row}))[this.props.dt.field]=t:n[n.length-1][this.props.dt.field]=t)}this.setState({value:t})}}},{key:"render",value:function(){return c.createElement(u(),{id:this.props.id,defaultValue:this.props.defaultValue,value:this.state.value,text:this.props.text,onValueChanged:this._onValueChanged},this.props.children,this.validationView())}}]),p}(n(20819).ZP)},16011:(t,e,n)=>{n.r(e),n.d(e,{default:()=>k});var o=n(15861),a=n(15671),i=n(43144),r=n(60136),s=n(82963),l=n(61120),c=n(64687),d=n.n(c),u=n(67294),p=n(73364),f=n(28996),h=n(42866),b=n.n(h),v=n(53221),m=n.n(v),g=n(25552),E=n.n(g),y=(n(91686),n(30886),n(99846)),x=(n(5083),n(99077)),C=n(55585),w=n(417),O=(n(32175),n(18405)),S=n(73682),D=(n(90428),n(57941),n(60547));n(17276);var k=function(t){(0,r.Z)(T,t);var e,n,c,h,v,k,_=(v=T,k=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=(0,l.Z)(v);if(k){var n=(0,l.Z)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,s.Z)(this,t)});function T(t){var e;return(0,a.Z)(this,T),(e=_.call(this,t)).core=p.Z.instance.core,e.prmObj=e.param.filter({TYPE:1,USERS:e.user.CODE}),e.depotObj=new f.Q1,e.prevCode="",e.tabIndex=t.data.tabkey,e}return(0,i.Z)(T,[{key:"componentDidMount",value:(h=(0,o.Z)(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.core.util.waitUntil(0);case 2:this.init();case 3:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"init",value:(c=(0,o.Z)(d().mark((function t(){var e=this;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.depotObj.clearAll(),this.depotObj.addEmpty(),this.depotObj.ds.on("onAddRow",(function(t,n){"new"==n.stat&&(""!=e.prevCode?(e.btnNew.setState({disabled:!0}),e.btnBack.setState({disabled:!1})):(e.btnNew.setState({disabled:!1}),e.btnBack.setState({disabled:!0})),e.btnSave.setState({disabled:!1}),e.btnDelete.setState({disabled:!1}))})),this.depotObj.ds.on("onEdit",(function(t,n){"edit"==n.rowData.stat&&(e.btnBack.setState({disabled:!1}),e.btnNew.setState({disabled:!0}),e.btnSave.setState({disabled:!1}),e.btnDelete.setState({disabled:!1}),n.rowData.CUSER=e.user.CODE)})),this.depotObj.ds.on("onRefresh",(function(t){e.prevCode=e.depotObj.dt("DEPOT").length>0?e.depotObj.dt("DEPOT")[0].CODE:"",e.btnBack.setState({disabled:!0}),e.btnNew.setState({disabled:!1}),e.btnSave.setState({disabled:!0}),e.btnDelete.setState({disabled:!1})})),this.depotObj.ds.on("onDelete",(function(t){e.btnBack.setState({disabled:!1}),e.btnNew.setState({disabled:!0}),e.btnSave.setState({disabled:!1}),e.btnDelete.setState({disabled:!1})}));case 6:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"getDepot",value:(n=(0,o.Z)(d().mark((function t(e){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.depotObj.clearAll(),t.next=3,this.depotObj.load({CODE:e});case 3:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"checkDepot",value:(e=(0,o.Z)(d().mark((function t(e){var n=this;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=(0,o.Z)(d().mark((function t(o){var a,i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===e){t.next=16;break}return a={query:"SELECT * FROM DEPOT_VW_01 WHERE CODE = @CODE",param:["CODE:string|50"],value:[e]},t.next=4,n.core.sql.execute(a);case 4:if(!(t.sent.result.recordset.length>0)){t.next=13;break}return i={id:"msgCode",showTitle:!0,title:n.t("msgCode.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:n.t("msgCode.btn01"),location:"before"},{id:"btn02",caption:n.t("msgCode.btn02"),location:"after"}],content:u.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},n.t("msgCode.msg"))},t.next=9,(0,D.W)(i);case 9:"btn01"==t.sent?(n.getDepot(e),o(2)):o(3),t.next=14;break;case 13:o(1);case 14:t.next=17;break;case 16:o(0);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)}))),function(t){return e.apply(this,arguments)})},{key:"render",value:function(){var t,e=this;return u.createElement("div",null,u.createElement(b(),null,u.createElement("div",{className:"row px-2 pt-2"},u.createElement("div",{className:"col-12"},u.createElement(m(),null,u.createElement(g.Item,{location:"after",locateInMenu:"auto"},u.createElement(S.Z,{id:"btnBack",parent:this,icon:"revert",type:"default",onClick:function(){""!=e.prevCode&&e.getDepot(e.prevCode)}})),u.createElement(g.Item,{location:"after",locateInMenu:"auto"},u.createElement(S.Z,{id:"btnNew",parent:this,icon:"file",type:"default",onClick:function(){console.log(132),e.init()}})),u.createElement(g.Item,{location:"after",locateInMenu:"auto"},u.createElement(S.Z,{id:"btnSave",parent:this,icon:"floppy",type:"default",validationGroup:"frmDepot"+this.tabIndex,onClick:function(){var t=(0,o.Z)(d().mark((function t(n){var o,a,i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("valid"!=n.validationGroup.validate().status){t.next=23;break}return o={id:"msgSave",showTitle:!0,title:e.t("msgSave.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:e.t("msgSave.btn01"),location:"before"},{id:"btn02",caption:e.t("msgSave.btn02"),location:"after"}],content:u.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},e.t("msgSave.msg"))},t.next=4,(0,D.W)(o);case 4:if("btn01"!=t.sent){t.next=21;break}return a={id:"msgSaveResult",showTitle:!0,title:e.t("msgSave.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:e.t("msgSave.btn01"),location:"after"}]},t.next=9,e.depotObj.save();case 9:if(t.t0=t.sent,0!=t.t0){t.next=18;break}return e.btnNew.setState({disabled:!1}),e.btnSave.setState({disabled:!0}),a.content=u.createElement("div",{style:{textAlign:"center",fontSize:"20px",color:"green"}},e.t("msgSaveResult.msgSuccess")),t.next=16,(0,D.W)(a);case 16:t.next=21;break;case 18:return a.content=u.createElement("div",{style:{textAlign:"center",fontSize:"20px",color:"red"}},e.t("msgSaveResult.msgFailed")),t.next=21,(0,D.W)(a);case 21:t.next=26;break;case 23:return i={id:"msgSaveValid",showTitle:!0,title:e.t("msgSaveValid.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:e.t("msgSaveValid.btn01"),location:"after"}],content:u.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},e.t("msgSaveValid.msg"))},t.next=26,(0,D.W)(i);case 26:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),u.createElement(g.Item,{location:"after",locateInMenu:"auto"},u.createElement(S.Z,{id:"btnDelete",parent:this,icon:"trash",type:"default",onClick:(0,o.Z)(d().mark((function t(){var n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={id:"msgDelete",showTitle:!0,title:e.t("msgDelete.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:e.t("msgDelete.btn01"),location:"before"},{id:"btn02",caption:e.t("msgDelete.btn02"),location:"after"}],content:u.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},e.t("msgDelete.msg"))},t.next=3,(0,D.W)(n);case 3:if("btn01"!=t.sent){t.next=9;break}return e.depotObj.dt("DEPOT").removeAt(0),t.next=8,e.depotObj.dt("DEPOT").delete();case 8:e.init();case 9:case"end":return t.stop()}}),t)})))})),u.createElement(g.Item,{location:"after",locateInMenu:"auto",widget:"dxButton",options:{type:"default",icon:"clear",onClick:(t=(0,o.Z)(d().mark((function t(){var n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={id:"msgClose",showTitle:!0,title:e.lang.t("msgWarning"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:e.lang.t("btnYes"),location:"before"},{id:"btn02",caption:e.lang.t("btnNo"),location:"after"}],content:u.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},e.lang.t("msgClose"))},t.next=3,(0,D.W)(n);case 3:"btn01"==t.sent&&p.Z.instance.panel.closePage();case 5:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})}})))),u.createElement("div",{className:"row px-2 pt-2"},u.createElement("div",{className:"col-12"},u.createElement(E(),{colCount:3,id:"frmDepot"},u.createElement(g.Item,null,u.createElement(g.Label,{text:this.t("txtCode"),alignment:"right"}),u.createElement(y.ZP,{id:"txtCode",parent:this,simple:!0,dt:{data:this.depotObj.dt("DEPOT"),field:"CODE"},upper:this.sysParam.filter({ID:"onlyBigChar",USERS:this.user.CODE}).getValue().value,button:[{id:"01",icon:"more",onClick:function(){e.pg_txtCode.show(),e.pg_txtCode.onClick=function(t){t.length>0&&e.getDepot(t[0].CODE)}}},{id:"02",icon:"arrowdown",onClick:function(){e.txtCode.value=Math.floor(Date.now()/1e3)}}],onChange:(0,o.Z)(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.checkDepot(e.txtCode.value);case 2:3==t.sent&&(e.txtCode.value="");case 4:case"end":return t.stop()}}),t)}))).bind(this),param:this.param.filter({ELEMENT:"txtCode",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"txtCode",USERS:this.user.CODE})},u.createElement(y.cX,{validationGroup:"frmDepot"+this.tabIndex},u.createElement(y.n2,{message:this.t("validCode")}))),u.createElement(w.Z,{id:"pg_txtCode",parent:this,container:"#root",visible:!1,position:{of:"#root"},showTitle:!0,showBorders:!0,width:"90%",height:"90%",title:this.t("pg_txtCode.title"),data:{source:{select:{query:"SELECT CODE,NAME FROM DEPOT_VW_01"},sql:this.core.sql}},button:{id:"01",icon:"more",onClick:function(){console.log(1111)}}},u.createElement(O.sg,{dataField:"CODE",caption:this.t("pg_txtCode.clmCode"),width:150}),u.createElement(O.sg,{dataField:"NAME",caption:this.t("pg_txtCode.clmName"),width:300,defaultSortOrder:"asc"}))),u.createElement(g.Item,null,u.createElement(g.Label,{text:this.t("txtName"),alignment:"right"}),u.createElement(y.ZP,{id:"txtTitle",parent:this,simple:!0,dt:{data:this.depotObj.dt("DEPOT"),field:"NAME"},upper:this.sysParam.filter({ID:"onlyBigChar",USERS:this.user.CODE}).getValue().value,onChange:(0,o.Z)(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))).bind(this),param:this.param.filter({ELEMENT:"txtName",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"txtName",USERS:this.user.CODE})})),u.createElement(g.EmptyItem,null),u.createElement(g.Item,null,u.createElement(g.Label,{text:this.t("cmbType"),alignment:"right"}),u.createElement(x.ZP,{simple:!0,parent:this,id:"cmbType",height:"fit-content",dt:{data:this.depotObj.dt("DEPOT"),field:"TYPE"},displayExpr:"VALUE",valueExpr:"ID",data:{source:[{ID:0,VALUE:this.t("cmbTypeData.normal")},{ID:1,VALUE:this.t("cmbTypeData.rebate")},{ID:2,VALUE:this.t("cmbTypeData.shop")},{ID:1,VALUE:this.t("cmbTypeData.outage")}]},onValueChanged:(0,o.Z)(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))).bind(this)})),u.createElement(g.Item,null,u.createElement(g.Label,{text:this.t("chkActive"),alignment:"right"}),u.createElement(C.ZP,{id:"chkActive",parent:this,defaultValue:!0,dt:{data:this.depotObj.dt("DEPOT"),field:"STATUS"},param:this.param.filter({ELEMENT:"chkActive",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"chkActive",USERS:this.user.CODE})})))))))}}]),T}(u.PureComponent)},60250:function(t,e,n){var o,a=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},o(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CheckBox=void 0;var i=n(16699),r=n(45697),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._WidgetClass=i.default,e.subscribableOptions=["value"],e.independentEvents=["onContentReady","onDisposing","onInitialized"],e._defaults={defaultValue:"value"},e}return a(e,t),Object.defineProperty(e.prototype,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e}(n(76907).Component);e.CheckBox=s,s.propTypes={accessKey:r.string,activeStateEnabled:r.bool,disabled:r.bool,focusStateEnabled:r.bool,height:r.oneOfType([r.func,r.number,r.string]),hint:r.string,hoverStateEnabled:r.bool,isValid:r.bool,name:r.string,onContentReady:r.func,onDisposing:r.func,onInitialized:r.func,onOptionChanged:r.func,onValueChanged:r.func,readOnly:r.bool,rtlEnabled:r.bool,tabIndex:r.number,text:r.string,validationErrors:r.array,validationMessageMode:r.oneOf(["always","auto"]),validationStatus:r.oneOf(["valid","invalid","pending"]),value:r.bool,visible:r.bool,width:r.oneOfType([r.func,r.number,r.string])},e.default=s},130:function(t,e,n){var o,a=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},o(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.FileUploader=void 0;var i=n(61339),r=n(45697),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._WidgetClass=i.default,e.subscribableOptions=["value"],e.independentEvents=["onBeforeSend","onContentReady","onDisposing","onDropZoneEnter","onDropZoneLeave","onFilesUploaded","onInitialized","onProgress","onUploadAborted","onUploaded","onUploadError","onUploadStarted"],e._defaults={defaultValue:"value"},e}return a(e,t),Object.defineProperty(e.prototype,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e}(n(76907).Component);e.FileUploader=s,s.propTypes={abortUpload:r.func,accept:r.string,accessKey:r.string,activeStateEnabled:r.bool,allowCanceling:r.bool,allowedFileExtensions:r.array,chunkSize:r.number,disabled:r.bool,focusStateEnabled:r.bool,height:r.oneOfType([r.func,r.number,r.string]),hint:r.string,hoverStateEnabled:r.bool,invalidFileExtensionMessage:r.string,invalidMaxFileSizeMessage:r.string,invalidMinFileSizeMessage:r.string,isValid:r.bool,labelText:r.string,maxFileSize:r.number,minFileSize:r.number,multiple:r.bool,name:r.string,onBeforeSend:r.func,onContentReady:r.func,onDisposing:r.func,onDropZoneEnter:r.func,onDropZoneLeave:r.func,onFilesUploaded:r.func,onInitialized:r.func,onOptionChanged:r.func,onProgress:r.func,onUploadAborted:r.func,onUploaded:r.func,onUploadError:r.func,onUploadStarted:r.func,onValueChanged:r.func,progress:r.number,readOnly:r.bool,readyToUploadMessage:r.string,rtlEnabled:r.bool,selectButtonText:r.string,showFileList:r.bool,tabIndex:r.number,uploadAbortedMessage:r.string,uploadButtonText:r.string,uploadChunk:r.func,uploadedMessage:r.string,uploadFailedMessage:r.string,uploadFile:r.func,uploadMethod:r.oneOf(["POST","PUT"]),uploadMode:r.oneOf(["instantly","useButtons","useForm"]),uploadUrl:r.string,validationErrors:r.array,validationStatus:r.oneOf(["valid","invalid","pending"]),value:r.array,visible:r.bool,width:r.oneOfType([r.func,r.number,r.string])},e.default=s},58235:function(t,e,n){var o,a=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},o(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;var i=n(31615),r=n(45697),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._WidgetClass=i.default,e.subscribableOptions=["value"],e.independentEvents=["onComplete","onContentReady","onDisposing","onInitialized"],e._defaults={defaultValue:"value"},e}return a(e,t),Object.defineProperty(e.prototype,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e}(n(76907).Component);e.ProgressBar=s,s.propTypes={disabled:r.bool,height:r.oneOfType([r.func,r.number,r.string]),hint:r.string,hoverStateEnabled:r.bool,isValid:r.bool,max:r.number,min:r.number,onComplete:r.func,onContentReady:r.func,onDisposing:r.func,onInitialized:r.func,onOptionChanged:r.func,onValueChanged:r.func,readOnly:r.bool,rtlEnabled:r.bool,showStatus:r.bool,statusFormat:r.oneOfType([r.func,r.string]),validationErrors:r.array,validationMessageMode:r.oneOf(["always","auto"]),validationStatus:r.oneOf(["valid","invalid","pending"]),value:r.number,visible:r.bool,width:r.oneOfType([r.func,r.number,r.string])},e.default=s}}]);