/*! For license information please see 5552.index.js.LICENSE.txt */
"use strict";(self.webpackChunkwww=self.webpackChunkwww||[]).push([[5552],{25552:function(e,t,i){var n,a=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},n(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationRule=t.TabPanelOptionsItem=t.TabPanelOptions=t.TabbedItem=t.Tab=t.StringLengthRule=t.SimpleItem=t.RequiredRule=t.RangeRule=t.PatternRule=t.NumericRule=t.Label=t.Item=t.GroupItem=t.EmptyItem=t.EmailRule=t.CustomRule=t.CompareRule=t.ColCountByScreen=t.ButtonOptions=t.ButtonItem=t.AsyncRule=t.Form=void 0;var o=i(97747),s=i(45697),r=i(76907),l=i(85287),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._WidgetClass=o.default,t.subscribableOptions=["formData"],t.independentEvents=["onContentReady","onDisposing","onEditorEnterKey","onInitialized"],t._defaults={defaultFormData:"formData"},t._expectedChildren={ButtonItem:{optionName:"items",isCollectionItem:!0},colCountByScreen:{optionName:"colCountByScreen",isCollectionItem:!1},EmptyItem:{optionName:"items",isCollectionItem:!0},GroupItem:{optionName:"items",isCollectionItem:!0},item:{optionName:"items",isCollectionItem:!0},SimpleItem:{optionName:"items",isCollectionItem:!0},TabbedItem:{optionName:"items",isCollectionItem:!0}},t}return a(t,e),Object.defineProperty(t.prototype,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),t}(r.Component);t.Form=u,u.propTypes={accessKey:s.string,activeStateEnabled:s.bool,alignItemLabels:s.bool,alignItemLabelsInAllGroups:s.bool,colCount:s.oneOfType([s.number,s.oneOf(["auto"])]),customizeItem:s.func,disabled:s.bool,focusStateEnabled:s.bool,height:s.oneOfType([s.func,s.number,s.string]),hint:s.string,hoverStateEnabled:s.bool,items:s.array,labelLocation:s.oneOf(["left","right","top"]),minColWidth:s.number,onContentReady:s.func,onDisposing:s.func,onEditorEnterKey:s.func,onFieldDataChanged:s.func,onInitialized:s.func,onOptionChanged:s.func,optionalMark:s.string,readOnly:s.bool,requiredMark:s.string,requiredMessage:s.string,rtlEnabled:s.bool,screenByWidth:s.func,scrollingEnabled:s.bool,showColonAfterLabel:s.bool,showOptionalMark:s.bool,showRequiredMark:s.bool,showValidationSummary:s.bool,tabIndex:s.number,validationGroup:s.string,visible:s.bool,width:s.oneOfType([s.func,s.number,s.string])};var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.OptionName="validationRules",t.IsCollectionItem=!0,t.PredefinedProps={type:"async"},t}(l.default);t.AsyncRule=d;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.OptionName="items",t.IsCollectionItem=!0,t.ExpectedChildren={buttonOptions:{optionName:"buttonOptions",isCollectionItem:!1}},t.PredefinedProps={itemType:"button"},t}(l.default);t.ButtonItem=h;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.OptionName="buttonOptions",t.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],t}(l.default);t.ButtonOptions=c;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.OptionName="colCountByScreen",t}(l.default);t.ColCountByScreen=p;var _=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.OptionName="validationRules",t.IsCollectionItem=!0,t.PredefinedProps={type:"compare"},t}(l.default);t.CompareRule=_;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.OptionName="validationRules",t.IsCollectionItem=!0,t.PredefinedProps={type:"custom"},t}(l.default);t.CustomRule=m;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.OptionName="validationRules",t.IsCollectionItem=!0,t.PredefinedProps={type:"email"},t}(l.default);t.EmailRule=f;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.OptionName="items",t.IsCollectionItem=!0,t.PredefinedProps={itemType:"empty"},t}(l.default);t.EmptyItem=g;var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.OptionName="items",t.IsCollectionItem=!0,t.ExpectedChildren={colCountByScreen:{optionName:"colCountByScreen",isCollectionItem:!1}},t.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],t.PredefinedProps={itemType:"group"},t}(l.default);t.GroupItem=v;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.OptionName="items",t.IsCollectionItem=!0,t.TemplateProps=[{tmplOption:"tabTemplate",render:"tabRender",component:"tabComponent",keyFn:"tabKeyFn"},{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],t}(l.default);t.Item=y;var C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.OptionName="label",t}(l.default);t.Label=C;var D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.OptionName="validationRules",t.IsCollectionItem=!0,t.PredefinedProps={type:"numeric"},t}(l.default);t.NumericRule=D;var x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.OptionName="validationRules",t.IsCollectionItem=!0,t.PredefinedProps={type:"pattern"},t}(l.default);t.PatternRule=x;var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.OptionName="validationRules",t.IsCollectionItem=!0,t.PredefinedProps={type:"range"},t}(l.default);t.RangeRule=b;var w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.OptionName="validationRules",t.IsCollectionItem=!0,t.PredefinedProps={type:"required"},t}(l.default);t.RequiredRule=w;var I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.OptionName="items",t.IsCollectionItem=!0,t.ExpectedChildren={AsyncRule:{optionName:"validationRules",isCollectionItem:!0},CompareRule:{optionName:"validationRules",isCollectionItem:!0},CustomRule:{optionName:"validationRules",isCollectionItem:!0},EmailRule:{optionName:"validationRules",isCollectionItem:!0},label:{optionName:"label",isCollectionItem:!1},NumericRule:{optionName:"validationRules",isCollectionItem:!0},PatternRule:{optionName:"validationRules",isCollectionItem:!0},RangeRule:{optionName:"validationRules",isCollectionItem:!0},RequiredRule:{optionName:"validationRules",isCollectionItem:!0},StringLengthRule:{optionName:"validationRules",isCollectionItem:!0},validationRule:{optionName:"validationRules",isCollectionItem:!0}},t.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],t.PredefinedProps={itemType:"simple"},t}(l.default);t.SimpleItem=I;var B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.OptionName="validationRules",t.IsCollectionItem=!0,t.PredefinedProps={type:"stringLength"},t}(l.default);t.StringLengthRule=B;var S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.OptionName="tabs",t.IsCollectionItem=!0,t.ExpectedChildren={colCountByScreen:{optionName:"colCountByScreen",isCollectionItem:!1}},t.TemplateProps=[{tmplOption:"tabTemplate",render:"tabRender",component:"tabComponent",keyFn:"tabKeyFn"},{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],t}(l.default);t.Tab=S;var V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.OptionName="items",t.IsCollectionItem=!0,t.ExpectedChildren={tab:{optionName:"tabs",isCollectionItem:!0},tabPanelOptions:{optionName:"tabPanelOptions",isCollectionItem:!1}},t.PredefinedProps={itemType:"tabbed"},t}(l.default);t.TabbedItem=V;var T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.OptionName="tabPanelOptions",t.DefaultsProps={defaultItems:"items",defaultSelectedIndex:"selectedIndex",defaultSelectedItem:"selectedItem",defaultSelectedItemKeys:"selectedItemKeys",defaultSelectedItems:"selectedItems"},t.ExpectedChildren={item:{optionName:"items",isCollectionItem:!0},tabPanelOptionsItem:{optionName:"items",isCollectionItem:!0}},t.TemplateProps=[{tmplOption:"itemTemplate",render:"itemRender",component:"itemComponent",keyFn:"itemKeyFn"},{tmplOption:"itemTitleTemplate",render:"itemTitleRender",component:"itemTitleComponent",keyFn:"itemTitleKeyFn"}],t}(l.default);t.TabPanelOptions=T;var M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.OptionName="items",t.IsCollectionItem=!0,t.TemplateProps=[{tmplOption:"tabTemplate",render:"tabRender",component:"tabComponent",keyFn:"tabKeyFn"},{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],t}(l.default);t.TabPanelOptionsItem=M;var k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.OptionName="validationRules",t.IsCollectionItem=!0,t.PredefinedProps={type:"required"},t}(l.default);t.ValidationRule=k,t.default=u},38465:(e,t,i)=>{i.d(t,{Z:()=>k});var n=i(50450),a=i(94381),o=i(63419),s=i(38192),r=["millisecond","second","minute","hour","day","week","month","quarter","year"],l=function e(t){switch(t){case"millisecond":return 1;case"second":return 1e3*e("millisecond");case"minute":return 60*e("second");case"hour":return 60*e("minute");case"day":return 24*e("hour");case"week":return 7*e("day");case"month":return 30*e("day");case"quarter":return 3*e("month");case"year":return 365*e("day");default:return 0}},u=function(e){var t,i,n,a=["millisecond","second","minute","hour","day","month","year"],o={};for(t=a.length-1;t>=0;t--)n=a[t],(i=Math.floor(e/l(n)))>0&&(o[n+"s"]=i,e-=d(n,i));return o};function d(e,t){return l(e)*t}function h(e){var t,i=-1;return(0,n.HD)(e)?e:(0,n.Kn)(e)?((0,o.S6)(e,(function(e,n){for(t=0;t<r.length;t++)n&&(e===r[t]+"s"||e===r[t])&&i<t&&(i=t)})),r[i]):""}var c={millisecond:"millisecond",second:"longtime",minute:"shorttime",hour:"shorttime",day:"day",week:"day",month:"month",quarter:"quarter",year:"year"},p=function(e){return Math.floor(e/3)},_=function(e){return 3*p(e)};function m(e,t,i,n){e=new Date(e.getTime());var a,o,s=new Date(e.getTime()),r=h(t);switch(r){case"second":e=new Date(1e3*Math.floor(s.getTime()/1e3));break;case"minute":e=new Date(6e4*Math.floor(s.getTime()/6e4));break;case"hour":e=new Date(36e5*Math.floor(s.getTime()/36e5));break;case"year":e.setMonth(0);case"month":e.setDate(1);case"day":e.setHours(0,0,0,0);break;case"week":(e=I(e,n||0)).setHours(0,0,0,0);break;case"quarter":a=_(e.getMonth()),o=e.getMonth(),e.setDate(1),e.setHours(0,0,0,0),o!==a&&e.setMonth(a)}return i&&"hour"!==r&&"minute"!==r&&"second"!==r&&S(s,e),e}function f(e){return m(e,"day")}function g(e,t,i){var a=new Date(e.getTime()),o=(0,n.HD)(t)?C(t.toLowerCase()):(0,n.kE)(t)?u(t):t;return o.years&&a.setFullYear(a.getFullYear()+o.years*i),o.quarters&&a.setMonth(a.getMonth()+3*o.quarters*i),o.months&&a.setMonth(a.getMonth()+o.months*i),o.weeks&&a.setDate(a.getDate()+7*o.weeks*i),o.days&&a.setDate(a.getDate()+o.days*i),o.hours&&a.setTime(a.getTime()+36e5*o.hours*i),o.minutes&&a.setTime(a.getTime()+6e4*o.minutes*i),o.seconds&&a.setTime(a.getTime()+1e3*o.seconds*i),o.milliseconds&&a.setTime(a.getTime()+o.milliseconds*i),a}var v=function(e,t,i){var o=i?-1:1;return(0,n.J_)(e)?g(e,t,o):(0,a.zB)(e+t*o,t)};function y(e){return T(e.getFullYear(),e.getMonth()+1,0).getDate()}function C(e){var t={};switch(e){case"year":t.years=1;break;case"month":t.months=1;break;case"quarter":t.months=3;break;case"week":t.weeks=1;break;case"day":t.days=1;break;case"hour":t.hours=1;break;case"minute":t.minutes=1;break;case"second":t.seconds=1;break;case"millisecond":t.milliseconds=1}return t}function D(e,t){return x(e,t)&&e.getMonth()===t.getMonth()}function x(e,t){return e&&t&&e.getFullYear()===t.getFullYear()}function b(e){return e&&e.getFullYear()-e.getFullYear()%100}function w(e){return e&&e.getFullYear()-e.getFullYear()%10}function I(e,t){var i=(e.getDay()-t+7)%7,n=new Date(e);return n.setDate(e.getDate()-i),n}function B(e,t,i){var a=e;return(0,n.$K)(e)?((0,n.$K)(t)&&e<t&&(a=t),(0,n.$K)(i)&&e>i&&(a=i),a):e}function S(e,t){if((0,n.$K)(e)){var i=t.getHours()-e.getHours();if(0!==i){var a=1===i||-23===i?-1:1,o=new Date(t.getTime()+36e5*a);(a>0||o.getDate()===t.getDate())&&t.setTime(o.getTime())}}}function V(e,t){return 60*(t.getTimezoneOffset()-e.getTimezoneOffset())*1e3}var T=function(e){var t=new Date(...arguments);return t.setFullYear(e),t},M={dateUnitIntervals:r,convertMillisecondsToDateUnits:u,dateToMilliseconds:function(e){var t=0;return(0,n.Kn)(e)&&(0,o.S6)(e,(function(e,i){t+=d(e.substr(0,e.length-1),i)})),(0,n.HD)(e)&&(t=d(e,1)),t},getNextDateUnit:function(e,t){switch(h(e)){case"millisecond":return"second";case"second":return"minute";case"minute":return"hour";case"hour":return"day";case"day":return t?"week":"month";case"week":return"month";case"month":return"quarter";case"quarter":case"year":return"year";default:return 0}},convertDateUnitToMilliseconds:d,getDateUnitInterval:h,getDateFormatByTickInterval:function(e){return c[h(e)]||""},getDatesDifferences:function(e,t){var i=0,n={year:e.getFullYear()!==t.getFullYear(),month:e.getMonth()!==t.getMonth(),day:e.getDate()!==t.getDate(),hour:e.getHours()!==t.getHours(),minute:e.getMinutes()!==t.getMinutes(),second:e.getSeconds()!==t.getSeconds(),millisecond:e.getMilliseconds()!==t.getMilliseconds()};return(0,o.S6)(n,(function(e,t){t&&i++})),0===i&&0!==V(e,t)&&(n.hour=!0,i++),n.count=i,n},correctDateWithUnitBeginning:m,trimTime:f,setToDayEnd:function(e){var t=f(e);return t.setDate(t.getDate()+1),new Date(t.getTime()-1)},roundDateByStartDayHour:function(e,t){var i=this.dateTimeFromDecimal(t),n=new Date(e);return(e.getHours()===i.hours&&e.getMinutes()<i.minutes||e.getHours()<i.hours)&&n.setHours(i.hours,i.minutes,0,0),n},dateTimeFromDecimal:function(e){return{hours:Math.floor(e),minutes:e%1*60}},addDateInterval:g,addInterval:v,getSequenceByInterval:function(e,t,i){var a,o=[];for(o.push((0,n.J_)(e)?new Date(e.getTime()):e),a=e;a<t;)a=v(a,i),o.push(a);return o},getDateIntervalByString:C,sameHoursAndMinutes:function(e,t){return e&&t&&e.getHours()===t.getHours()&&e.getMinutes()===t.getMinutes()},sameDate:function(e,t){return D(e,t)&&e.getDate()===t.getDate()},sameMonthAndYear:D,sameMonth:D,sameYear:x,sameDecade:function(e,t){if((0,n.$K)(e)&&(0,n.$K)(t)){var i=e.getFullYear()-e.getFullYear()%10,a=t.getFullYear()-t.getFullYear()%10;return e&&t&&i===a}},sameCentury:function(e,t){if((0,n.$K)(e)&&(0,n.$K)(t)){var i=e.getFullYear()-e.getFullYear()%100,a=t.getFullYear()-t.getFullYear()%100;return e&&t&&i===a}},getDifferenceInMonth:function(e){var t=1;return"year"===e&&(t=12),"decade"===e&&(t=120),"century"===e&&(t=1200),t},getDifferenceInMonthForCells:function(e){var t=1;return"decade"===e&&(t=12),"century"===e&&(t=120),t},getFirstYearInDecade:w,getFirstDecadeInCentury:b,getShortDateFormat:function(){return"yyyy/MM/dd"},getViewFirstCellDate:function(e,t){return"month"===e?T(t.getFullYear(),t.getMonth(),1):"year"===e?T(t.getFullYear(),0,t.getDate()):"decade"===e?T(w(t),t.getMonth(),t.getDate()):"century"===e?T(b(t),t.getMonth(),t.getDate()):void 0},getViewLastCellDate:function(e,t){return"month"===e?T(t.getFullYear(),t.getMonth(),y(t)):"year"===e?T(t.getFullYear(),11,t.getDate()):"decade"===e?T(w(t)+9,t.getMonth(),t.getDate()):"century"===e?T(b(t)+90,t.getMonth(),t.getDate()):void 0},getViewDown:function(e){switch(e){case"century":return"decade";case"decade":return"year";case"year":return"month"}},getViewUp:function(e){switch(e){case"month":return"year";case"year":return"decade";case"decade":return"century"}},getLastMonthDay:y,getLastMonthDate:function(e){if((0,n.$K)(e))return T(e.getFullYear(),e.getMonth()+1,0)},getFirstMonthDate:function(e){if((0,n.$K)(e))return T(e.getFullYear(),e.getMonth(),1)},getFirstWeekDate:I,normalizeDateByWeek:function(e,t){var i=M.getDatesInterval(e,t,"day"),n=new Date(e);return i>=6&&(n=new Date(n.setDate(n.getDate()+7))),n},getQuarter:p,getFirstQuarterMonth:_,dateInRange:function(e,t,i,n){return"date"===n&&(t=t&&M.correctDateWithUnitBeginning(t,"day"),i=i&&M.correctDateWithUnitBeginning(i,"day"),e=e&&M.correctDateWithUnitBeginning(e,"day")),B(e,t,i)===e},intervalsOverlap:function(e){var{firstMin:t,firstMax:i,secondMin:n,secondMax:a}=e;return t<=n&&n<=i||t>n&&t<a||t<a&&i>a},roundToHour:function(e){var t=new Date(e.getTime());return t.setHours(t.getHours()+1),t.setMinutes(0),t},normalizeDate:B,getViewMinBoundaryDate:function(e,t){var i=T(t.getFullYear(),t.getMonth(),1);return"month"===e||(i.setMonth(0),"year"===e||("decade"===e&&i.setFullYear(w(t)),"century"===e&&i.setFullYear(b(t)))),i},getViewMaxBoundaryDate:function(e,t){var i=new Date(t);return i.setDate(y(t)),"month"===e||(i.setMonth(11),i.setDate(y(i)),"year"===e||("decade"===e&&i.setFullYear(w(t)+9),"century"===e&&i.setFullYear(b(t)+99))),i},fixTimezoneGap:S,getTimezonesDifference:V,makeDate:function(e){return new Date(e)},getDatesInterval:function(e,t,i){var n=t.getTime()-e.getTime(),a=l(i)||1;return Math.floor(n/a)},getDatesOfInterval:function(e,t,i){for(var n=[],a=new Date(e.getTime());a<t;)n.push(new Date(a.getTime())),a=this.addInterval(a,i);return n},createDateWithFullYear:T,sameView:function(e,t,i){return M[(0,s._A)("same "+e)](t,i)}};const k=M},22561:(e,t,i)=>{i.d(t,{Z:()=>f});var n=i(44432),a=i(5702),o=i(43589),s=i(50450),r="number",l="yyyy/MM/dd",u=/^(\d{4,})(-)?(\d{2})(-)?(\d{2})(?:T(\d{2})(:)?(\d{2})?(:)?(\d{2}(?:\.(\d{1,3})\d*)?)?)?(Z|([+-])(\d{2})(:)?(\d{2})?)?$/,d=/^(\d{2}):(\d{2})(:(\d{2}))?$/,h=["","yyyy","","MM","","dd","THH","","mm","","ss",".SSS"],c=/^(\d{4})\/(\d{2})\/(\d{2})$/,p=function(e,t){var i;return(0,s.HD)(e)&&!t&&(i=function(e){var t=e.match(u);if(!t)return(t=e.match(d))?new Date(0,0,0,_(t[1]),_(t[2]),_(t[4])):void 0;var i=_(t[1]),n=--t[3],a=t[5],o=0,s=0,r=e=>(i<100&&e.setFullYear(i),e);o=_(t[14]),s=_(t[16]),"-"===t[13]&&(o=-o,s=-s);var l,h=_(t[6])-o,c=_(t[8])-s,p=_(t[10]),m=_(l=(l=t[11])||"")*Math.pow(10,3-l.length);return t[12]?r(new Date(Date.UTC(i,n,a,h,c,p,m))):r(new Date(i,n,a,h,c,p,m))}(e)),i||function(e){var t=m(e)===l,i=!(0,s.J_)(e)&&Date.parse(e);if(!i&&t){var n=e.match(c);if(n){var a=new Date(_(n[1]),_(n[2]),_(n[3]));return a.setFullYear(_(n[1])),a.setMonth(_(n[2])-1),a.setDate(_(n[3])),a}}return(0,s.kE)(i)?new Date(i):e}(e)};function _(e){return+e||0}var m=function(e){return"number"==typeof e?r:(0,s.HD)(e)?((0,n.Z)().forceIsoDateParsing&&(t=function(e,t){var i=e.match(u),n="";if(!i)return(i=e.match(d))?i[3]?"HH:mm:ss":"HH:mm":void 0;for(var a=1;a<h.length;a++)i[a]&&(n+=h[a]||i[a]);return"Z"===i[12]&&(n+="'Z'"),i[14]&&(i[15]?n+="xxx":i[16]?n+="xx":n+="x"),n}(e)),t||(e.indexOf(":")>=0?"yyyy/MM/dd HH:mm:ss":l)):e?null:void 0;var t};const f={dateParser:p,deserializeDate:function(e){return"number"==typeof e?new Date(e):p(e,!(0,n.Z)().forceIsoDateParsing)},serializeDate:function(e,t){return t?(0,s.J_)(e)?t===r?e&&e.valueOf?e.valueOf():null:(0,a.P)(t,o.Z)(e):null:e},getDateSerializationFormat:m}},76819:(e,t,i)=>{i.d(t,{Z:()=>$});var n=i(55611),a=i(45340),o=i(64565),s=i(44099),r=i(72264),l=i(18274),u=i(38192),d=i(50450),h=i(19071),c=i(63419),p=i(30057),_=i(64772),m=i(57945),f="dx-box",g=".dx-box",v="dxBoxItemData",y={row:"minWidth",col:"minHeight"},C={row:"maxWidth",col:"maxHeight"},D={start:"flex-start",end:"flex-end",center:"center","space-between":"space-between","space-around":"space-around"},x={start:"flex-start",end:"flex-end",center:"center",stretch:"stretch"},b={row:"row",col:"column"},w=(e,t,i)=>{if(i=(0,h.bh)(t,i),e.style[(0,h.Hj)(t)]=i,!(0,l.Ym)()){if(""===i||!(0,d.$K)(i))return;var n=(0,u.H0)(t)+": "+i+";";e.attributes.style?e.attributes.style.value.indexOf(n)<0&&(e.attributes.style.value+=" "+n):e.setAttribute("style",n)}},I="dxupdate.dxBox",B="dx-box-fallback-item",S={row:"nowrap",col:"normal"},V={row:{name:"width",getter:p.dz,setter:p.cl},col:{name:"height",getter:p.Cr,setter:p.QQ}},T={row:V.col,col:V.row},M={row:"marginLeft",col:"marginTop"},k={row:"marginRight",col:"marginBottom"},O={row:"marginTop",col:"marginLeft"},F={row:"marginBottom",col:"marginRight"},Z={marginLeft:"marginRight",marginRight:"marginLeft"};class E extends _.Z{_renderVisible(e,t){super._renderVisible(e),(0,d.$K)(t)&&this._options.fireItemStateChangedAction({name:"visible",state:e,oldState:t})}}class A{constructor(e,t){this._$element=e,this._option=t,this.initSize=r.noop,this.update=r.noop}renderBox(){this._$element.css({display:(0,h.gC)("flexDirection")+"flex"}),w(this._$element.get(0),"flexDirection",b[this._option("direction")])}renderAlign(){this._$element.css({justifyContent:this._normalizedAlign()})}_normalizedAlign(){var e=this._option("align");return e in D?D[e]:e}renderCrossAlign(){this._$element.css({alignItems:this._normalizedCrossAlign()})}_normalizedCrossAlign(){var e=this._option("crossAlign");return e in x?x[e]:e}renderItems(e){var t=(0,h.gC)("flexDirection"),i=this._option("direction");(0,c.S6)(e,(function(){var e=(0,n.Z)(this),a=e.data(v);e.css({display:t+"flex"}).css(C[i],a.maxSize||"none").css(y[i],a.minSize||"0"),w(e.get(0),"flexBasis",a.baseSize||0),w(e.get(0),"flexGrow",a.ratio),w(e.get(0),"flexShrink",(0,d.$K)(a.shrink)?a.shrink:1),e.children().each(((e,t)=>{(0,n.Z)(t).css({width:"auto",height:"auto",display:(0,h.gC)("flexDirection")+"flex",flexBasis:0}),w(t,"flexGrow",1),w(t,"flexDirection",(0,n.Z)(t)[0].style.flexDirection||"column")}))}))}}class R{constructor(e,t){this._$element=e,this._option=t}renderBox(){this._$element.css({fontSize:0,whiteSpace:S[this._option("direction")],verticalAlign:"top"}),a.Z.off(this._$element,I),a.Z.on(this._$element,I,this.update.bind(this))}renderAlign(){var e=this._$items;if(e){var t=this._option("align"),i=this.totalItemSize,n=this._option("direction"),a=V[n].getter(this._$element)-i,o=0;switch(this._setItemsMargins(e,n,0),t){case"start":break;case"end":o=a,e.first().css(this._chooseMarginSide(M[n]),o);break;case"center":o=.5*a,e.first().css(this._chooseMarginSide(M[n]),o),e.last().css(this._chooseMarginSide(k[n]),o);break;case"space-between":o=.5*a/(e.length-1),this._setItemsMargins(e,n,o),e.first().css(this._chooseMarginSide(M[n]),0),e.last().css(this._chooseMarginSide(k[n]),0);break;case"space-around":o=.5*a/e.length,this._setItemsMargins(e,n,o)}}}_setItemsMargins(e,t,i){e.css(this._chooseMarginSide(M[t]),i).css(this._chooseMarginSide(k[t]),i)}renderCrossAlign(){var e=this._$items;if(e){var t=this._option("crossAlign"),i=this._option("direction"),a=T[i].getter(this._$element),o=this;switch(t){case"start":break;case"end":(0,c.S6)(e,(function(){var e=(0,n.Z)(this),t=T[i].getter(e),s=a-t;e.css(o._chooseMarginSide(O[i]),s)}));break;case"center":(0,c.S6)(e,(function(){var e=(0,n.Z)(this),t=T[i].getter(e),s=.5*(a-t);e.css(o._chooseMarginSide(O[i]),s).css(o._chooseMarginSide(F[i]),s)}));break;case"stretch":e.css(o._chooseMarginSide(O[i]),0).css(o._chooseMarginSide(F[i]),0).css(T[i].name,"100%")}}}_chooseMarginSide(e){return this._option("rtlEnabled")&&Z[e]||e}renderItems(e){this._$items=e;var t=this._option("direction"),i=0,a=0,o=0;(0,c.S6)(e,((e,s)=>{var r=(0,n.Z)(s);r.css({display:"inline-block",verticalAlign:"top"}),V[t].setter(r,"auto"),r.removeClass(B);var l=r.data(v),u=l.ratio||0,h=this._baseSize(r),c=(0,d.$K)(l.shrink)?l.shrink:1;i+=u,a+=c*h,o+=h}));var s=this._boxSize()-o,r=e=>{var t=e.data(v),n=this._baseSize(e),o=s>=0?t.ratio||0:((0,d.$K)(t.shrink)?t.shrink:1)*n,r=s>=0?i:a;return n+(r?Math.round(s*o/r):0)},l=0;(0,c.S6)(e,((e,i)=>{var a=(0,n.Z)(i),o=(0,n.Z)(i).data(v),s=r(a);l+=s,a.css(C[t],o.maxSize||"none").css(y[t],o.minSize||"0").css(V[t].name,s),a.addClass(B)})),this.totalItemSize=l}_baseSize(e){var t=(0,n.Z)(e).data(v);return null==t.baseSize?0:"auto"===t.baseSize?this._contentSize(e):this._parseSize(t.baseSize)}_contentSize(e){return V[this._option("direction")].getter((0,n.Z)(e))}_parseSize(e){return String(e).match(/.+%$/)?.01*parseFloat(e)*this._boxSizeValue:e}_boxSize(e){if(!arguments.length)return this._boxSizeValue=this._boxSizeValue||this._totalBaseSize(),this._boxSizeValue;this._boxSizeValue=e}_totalBaseSize(){var e=0;return(0,c.S6)(this._$items,((t,i)=>{e+=this._baseSize(i)})),e}initSize(){this._boxSize(V[this._option("direction")].getter(this._$element))}update(){if(this._$items&&!this._$element.is(":hidden")){this._$items.detach(),this.initSize(),this._$element.append(this._$items),this.renderItems(this._$items),this.renderAlign(),this.renderCrossAlign();var e=this._$element.get(0);this._$items.find(g).each((function(){e===(0,n.Z)(this).parent().closest(g).get(0)&&a.Z.triggerHandler(this,I)}))}}}class P extends m.Z{_getDefaultOptions(){return(0,s.l)(super._getDefaultOptions(),{direction:"row",align:"start",crossAlign:"stretch",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,_layoutStrategy:"flex",_queue:void 0})}_itemClass(){return"dx-box-item"}_itemDataKey(){return v}_itemElements(){return this._itemContainer().children(this._itemSelector())}_init(){super._init(),this.$element().addClass("".concat(f,"-").concat(this.option("_layoutStrategy"))),this._initLayout(),this._initBoxQueue()}_initLayout(){this._layout="fallback"===this.option("_layoutStrategy")?new R(this.$element(),this.option.bind(this)):new A(this.$element(),this.option.bind(this))}_initBoxQueue(){this._queue=this.option("_queue")||[]}_queueIsNotEmpty(){return!this.option("_queue")&&!!this._queue.length}_pushItemToQueue(e,t){this._queue.push({$item:e,config:t})}_shiftItemFromQueue(){return this._queue.shift()}_initMarkup(){this.$element().addClass(f),this._layout.renderBox(),super._initMarkup(),this._renderAlign(),this._renderActions()}_renderActions(){this._onItemStateChanged=this._createActionByOption("onItemStateChanged")}_renderAlign(){this._layout.renderAlign(),this._layout.renderCrossAlign()}_renderItems(e){for(this._layout.initSize(),super._renderItems(e);this._queueIsNotEmpty();){var t=this._shiftItemFromQueue();this._createComponent(t.$item,P,(0,s.l)({_layoutStrategy:this.option("_layoutStrategy"),itemTemplate:this.option("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this.option("onItemHold"),onItemClick:this.option("onItemClick"),onItemContextMenu:this.option("onItemContextMenu"),onItemRendered:this.option("onItemRendered"),_queue:this._queue},t.config))}this._layout.renderItems(this._itemElements()),clearTimeout(this._updateTimer),this._updateTimer=setTimeout((()=>{this._isUpdated||this._layout.update(),this._isUpdated=!1,this._updateTimer=null}))}_renderItemContent(e){var t=e.itemData&&e.itemData.node;return t?this._renderItemContentByNode(e,t):super._renderItemContent(e)}_postprocessRenderItem(e){var t=e.itemData.box;t&&this._pushItemToQueue(e.itemContent,t)}_createItemByTemplate(e,t){return t.itemData.box?e.source?e.source():(0,n.Z)():super._createItemByTemplate(e,t)}_visibilityChanged(e){e&&this._dimensionChanged()}_dimensionChanged(){this._updateTimer||(this._isUpdated=!0,this._layout.update())}_dispose(){clearTimeout(this._updateTimer),super._dispose.apply(this,arguments)}_itemOptionChanged(e,t,i,n){"visible"===t&&this._onItemStateChanged({name:t,state:i,oldState:!1!==n}),super._itemOptionChanged(e,t,i)}_optionChanged(e){switch(e.name){case"_layoutStrategy":case"_queue":case"direction":this._invalidate();break;case"align":this._layout.renderAlign();break;case"crossAlign":this._layout.renderCrossAlign();break;default:super._optionChanged(e)}}_itemOptions(){var e=super._itemOptions();return e.fireItemStateChangedAction=e=>{this._onItemStateChanged(e)},e}repaint(){this._dimensionChanged()}}P.ItemClass=E,(0,o.Z)("dxBox",P);const $=P},35561:(e,t,i)=>{var n,a=i(64565),o=i(52858),s=i(50450),r=i(25445),l=i(44099),u=i(94381),d=i(45340),h=i(54101),c=i(72264),p=e=>e.getMonth()+1,_=(e,t)=>{var i=e.getDate(),n=g("M",e),a=(0,u.n$)(parseInt(t),n.min,n.max);e.setMonth(a-1,1);var{min:o,max:s}=g("dM",e),r=(0,u.n$)(i,o,s);e.setDate(r)},m={a:e=>e.getHours()<12?0:1,E:"getDay",y:"getFullYear",M:p,L:p,d:"getDate",H:"getHours",h:"getHours",m:"getMinutes",s:"getSeconds",S:"getMilliseconds"},f=(0,l.l)({},(0,h.xe)(),{a:(e,t)=>{var i=e.getHours();i>=12!=!!parseInt(t)&&e.setHours((i+12)%24)},d:(e,t)=>{t>g("dM",e).max&&e.setMonth(e.getMonth()+1),e.setDate(t)},h:(e,t)=>{var i=e.getHours()>=12;e.setHours(+t%12+(i?12:0))},M:_,L:_,E:(e,t)=>{t<0||e.setDate(e.getDate()-e.getDay()+parseInt(t))},y:(e,t)=>{var i=e.getFullYear(),n=String(t).length,a=String(g("y",e).max).length,o=parseInt(String(i).substr(0,a-n)+t);e.setFullYear(o)}}),g=(e,t,i)=>{var n={y:{min:0,max:9999},M:{min:1,max:12},L:{min:1,max:12},d:{min:1,max:31},dM:{min:1,max:new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},E:{min:0,max:6},H:{min:0,max:23},h:{min:0,max:23},m:{min:0,max:59},s:{min:0,max:59},S:{min:0,max:999},a:{min:0,max:1}};return n[i||e]||n.getAmPm},v=i(57467),y=i(69992),C=i(18274),D=i(63419),x=i(54884),b=i(230),w=i(30390),I=i(44432),B=i(38465),S=i(55611),V=i(22561),T=["year","day","month","day"],M=["hours","minutes","seconds","milliseconds"],k={SUPPORTED_FORMATS:["date","time","datetime"],ONE_MINUTE:6e4,ONE_DAY:864e5,ONE_YEAR:31536e6,MIN_DATEVIEW_DEFAULT_DATE:new Date(1900,0,1),MAX_DATEVIEW_DEFAULT_DATE:(n=new Date,new Date(n.getFullYear()+50,n.getMonth(),n.getDate(),23,59,59)),FORMATS_INFO:{date:{getStandardPattern:function(){return"yyyy-MM-dd"},components:T},time:{getStandardPattern:function(){return"HH:mm"},components:M},datetime:{getStandardPattern:function(){var e,t;return(t=(0,S.Z)("<input>").attr("type","datetime")).val("2000-01-01T01:01Z"),t.val()&&(e="yyyy-MM-ddTHH:mmZ"),e||(e="yyyy-MM-ddTHH:mm:ssZ"),k.FORMATS_INFO.datetime.getStandardPattern=function(){return e},e},components:[...T,...M]},"datetime-local":{getStandardPattern:function(){return"yyyy-MM-ddTHH:mm:ss"},components:[...T,"hours","minutes","seconds"]}},FORMATS_MAP:{date:"shortdate",time:"shorttime",datetime:"shortdateshorttime"},SUBMIT_FORMATS_MAP:{date:"date",time:"time",datetime:"datetime-local"},toStandardDateFormat:function(e,t){var i=k.FORMATS_INFO[t].getStandardPattern();return V.Z.serializeDate(e,i)},fromStandardDateFormat:function(e){var t=V.Z.dateParser(e);return(0,s.J_)(t)?t:void 0},getMaxMonthDay:function(e,t){return new Date(e,t+1,0).getDate()},mergeDates:function(e,t,i){if(!t)return t||null;if(!e||isNaN(e.getTime())){var n=new Date(null);e=new Date(n.getFullYear(),n.getMonth(),n.getDate())}var a=new Date(e.valueOf()),o=k.FORMATS_INFO[i];return(0,D.S6)(o.components,(function(){var e=k.DATE_COMPONENTS_INFO[this];a[e.setter](t[e.getter]())})),a},getLongestCaptionIndex:function(e){var t,i=0,n=0;for(t=0;t<e.length;++t)e[t].length>n&&(i=t,n=e[t].length);return i},formatUsesMonthName:function(e){return v.Z.formatUsesMonthName(e)},formatUsesDayName:function(e){return v.Z.formatUsesDayName(e)},getLongestDate:function(e,t,i){var n=function(e){var t=typeof e;return"string"===t?"format":"object"===t&&void 0!==e.type?e.type:null}(e),a=9;n&&!k.formatUsesMonthName(n)||(a=k.getLongestCaptionIndex(t));var o=new Date(1888,a,21,23,59,59,999);if(!n||k.formatUsesDayName(n)){var s=o.getDate()-o.getDay()+k.getLongestCaptionIndex(i);o.setDate(s)}return o},normalizeTime:function(e){e.setSeconds(0),e.setMilliseconds(0)}};k.DATE_COMPONENTS_INFO={year:{getter:"getFullYear",setter:"setFullYear",formatter:function(e,t){var i=new Date(t.getTime());return i.setFullYear(e),v.Z.format(i,"yyyy")},startValue:void 0,endValue:void 0},day:{getter:"getDate",setter:"setDate",formatter:function(e,t){var i=new Date(t.getTime());return i.setDate(e),v.Z.format(i,"d")},startValue:1,endValue:void 0},month:{getter:"getMonth",setter:"setMonth",formatter:function(e){return v.Z.getMonthNames()[e]},startValue:0,endValue:11},hours:{getter:"getHours",setter:"setHours",formatter:function(e){return v.Z.format(new Date(0,0,0,e),"hour")},startValue:0,endValue:23},minutes:{getter:"getMinutes",setter:"setMinutes",formatter:function(e){return v.Z.format(new Date(0,0,0,0,e),"minute")},startValue:0,endValue:59},seconds:{getter:"getSeconds",setter:"setSeconds",formatter:function(e){return v.Z.format(new Date(0,0,0,0,0,e),"second")},startValue:0,endValue:59},milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",formatter:function(e){return v.Z.format(new Date(0,0,0,0,0,0,e),"millisecond")},startValue:0,endValue:999}};const O=k;var F=i(47046),Z=i(44804),E=i(30057),A=i(68760),R=i(6425),P=i(93150),$=i(19120),L=i(46178);const N=L.Z.inherit({_getDefaultOptions:function(){return(0,l.l)(this.callBase(),{onClick:null,onCaptionClick:null,text:""})},_init:function(){this.callBase(),this._initActions()},_initActions:function(){this._clickAction=this._createActionByOption("onClick"),this._captionClickAction=this._createActionByOption("onCaptionClick")},_initMarkup:function(){this.callBase(),this.$element().addClass("dx-calendar-navigator"),this._renderButtons(),this._renderCaption()},_renderButtons:function(){var e=this,t=this.option("rtlEnabled")?-1:1;this._prevButton=this._createComponent((0,S.Z)("<a>"),R.default,{focusStateEnabled:!1,icon:"chevronleft",onClick:function(i){e._clickAction({direction:-t,event:i})},integrationOptions:{}});var i=this._prevButton.$element().addClass("dx-calendar-navigator-previous-view").addClass("dx-calendar-navigator-previous-month");this._nextButton=this._createComponent((0,S.Z)("<a>"),R.default,{focusStateEnabled:!1,icon:"chevronright",onClick:function(i){e._clickAction({direction:t,event:i})},integrationOptions:{}});var n=this._nextButton.$element().addClass("dx-calendar-navigator-next-view").addClass("dx-calendar-navigator-next-month");this._caption=this._createComponent((0,S.Z)("<a>").addClass("dx-calendar-caption-button"),R.default,{focusStateEnabled:!1,onClick:function(t){e._captionClickAction({event:t})},integrationOptions:{}});var a=this._caption.$element();this.$element().append(i,a,n)},_renderCaption:function(){this._caption.option("text",this.option("text"))},toggleButton:function(e,t){var i=this["_"+e+"Button"];i&&(i.option("disabled",t),i.$element().toggleClass("dx-calendar-disabled-navigator-link",t))},_optionChanged:function(e){"text"===e.name?this._renderCaption():this.callBase(e)}});var H=i(71389),z=i(86403),W=i(81965),K=i(16012),{abstract:Y}=L.Z,G="dx-calendar-empty-cell",q="dx-calendar-selected-date",U="dx-calendar-contoured-date",j=(0,o.V4)(K.u,"dxCalendar"),Q="dxDateValueKey";const J=L.Z.inherit({_getViewName:function(){return"base"},_getDefaultOptions:function(){return(0,l.l)(this.callBase(),{date:new Date,focusStateEnabled:!1,cellTemplate:null,disabledDates:null,onCellClick:null,rowCount:3,colCount:4,allowValueSelection:!0,_todayDate:()=>new Date})},_initMarkup:function(){this.callBase(),this._renderImpl()},_renderImpl:function(){this.$element().append(this._createTable()),this._createDisabledDatesHandler(),this._renderBody(),this._renderContouredDate(),this._renderValue(),this._renderEvents()},_createTable:function(){return this._$table=(0,S.Z)("<table>"),this.setAria({label:Z.Z.format("dxCalendar-ariaWidgetName"),role:"grid"},this._$table),this._$table},_renderBody:function(){this.$body=(0,S.Z)("<tbody>").appendTo(this._$table);for(var e={cellDate:this._getFirstCellData(),prevCellDate:null},t=0,i=this.option("rowCount");t<i;t++){e.row=this._createRow();for(var n=0,a=this.option("colCount");n<a;n++)this._renderCell(e,n)}},_createRow:function(){var e=H.Z.createElement("tr");return this.setAria("role","row",(0,S.Z)(e)),this.$body.get(0).appendChild(e),e},_appendCell:function(e,t){this._appendMethodName||this._cacheAppendMethodName(),(0,S.Z)(e)[this._appendMethodName](t)},_cacheAppendMethodName:function(e){this._appendMethodName=(null!=e?e:this.option("rtlEnabled"))?"prepend":"append"},_createCell:function(e){var t=H.Z.createElement("td"),i=(0,S.Z)(t);return t.className=this._getClassNameByDate(e),t.setAttribute("data-value",V.Z.serializeDate(e,B.Z.getShortDateFormat())),(0,z.aT)(t,Q,e),this.setAria({role:"gridcell",label:this.getCellAriaLabel(e)},i),{cell:t,$cell:i}},_renderCell:function(e,t){var{cellDate:i,prevCellDate:n,row:a}=e;n&&B.Z.fixTimezoneGap(n,i),e.prevCellDate=i;var{cell:o,$cell:s}=this._createCell(i),r=this.option("cellTemplate");this._appendCell(a,o),r?r.render(this._prepareCellTemplateData(i,t,s)):o.innerHTML=this._getCellText(i),e.cellDate=this._getNextCellData(i)},_getClassNameByDate:function(e){var t="dx-calendar-cell";return this._isTodayCell(e)&&(t+=" ".concat("dx-calendar-today")),(this._isDateOutOfRange(e)||this.isDateDisabled(e))&&(t+=" ".concat(G)),this._isOtherView(e)&&(t+=" ".concat("dx-calendar-other-view")),t},_prepareCellTemplateData:function(e,t,i){return{model:{text:this._getCellText(e),date:e,view:this._getViewName()},container:(0,W.u)(i),index:t}},_renderEvents:function(){this._createCellClickAction(),d.Z.off(this._$table,j),d.Z.on(this._$table,j,"td",(e=>{(0,S.Z)(e.currentTarget).hasClass(G)||this._cellClickAction({event:e,value:(0,S.Z)(e.currentTarget).data(Q)})}))},_createCellClickAction:function(){this._cellClickAction=this._createActionByOption("onCellClick")},_createDisabledDatesHandler:function(){var e=this.option("disabledDates");this._disabledDatesHandler=Array.isArray(e)?this._getDefaultDisabledDatesHandler(e):e||c.noop},_getDefaultDisabledDatesHandler:function(e){return c.noop},_isTodayCell:Y,_isDateOutOfRange:Y,isDateDisabled:function(e){var t={date:e,view:this._getViewName()};return this._disabledDatesHandler(t)},_isOtherView:Y,_getCellText:Y,_getFirstCellData:Y,_getNextCellData:Y,_renderContouredDate:function(e){if(this.option("focusStateEnabled")){e=e||this.option("contouredDate");var t=this._getContouredCell(),i=this._getCellByDate(e);t.removeClass(U),i.addClass(U)}},_getContouredCell:function(){return this._$table.find(".".concat(U))},_changeValue:function(e){if(e){var t=this.option("value"),i=t?new Date(t):new Date;i.setDate(e.getDate()),i.setMonth(e.getMonth()),i.setFullYear(e.getFullYear()),i.setDate(e.getDate()),this.option("value",i)}else this.option("value",null)},_renderValue:function(){if(this.option("allowValueSelection")){var e=this.option("value"),t=this._getCellByDate(e);this._selectedCell&&this._selectedCell.removeClass(q),t.addClass(q),this._selectedCell=t}},getCellAriaLabel:function(e){return this._getCellText(e)},_getFirstAvailableDate:function(){var e=this.option("date"),t=this.option("min");return e=B.Z.getFirstDateView(this._getViewName(),e),new Date(t&&e<t?t:e)},_getCellByDate:Y,isBoundary:Y,_optionChanged:function(e){var{name:t,value:i}=e;switch(t){case"value":this._renderValue();break;case"contouredDate":this._renderContouredDate(i);break;case"onCellClick":this._createCellClickAction();break;case"disabledDates":case"cellTemplate":this._invalidate();break;case"rtlEnabled":this._cacheAppendMethodName(i),this.callBase(e);break;case"_todayDate":this._renderBody();break;default:this.callBase(e)}}}),X={month:J.inherit({_getViewName:function(){return"month"},_getDefaultOptions:function(){return(0,l.l)(this.callBase(),{firstDayOfWeek:void 0,rowCount:6,colCount:7})},_renderImpl:function(){this.callBase(),this._renderHeader()},_renderBody:function(){this.callBase(),this._$table.find(".".concat("dx-calendar-other-view")).addClass("dx-calendar-other-month")},_renderFocusTarget:c.noop,getCellAriaLabel:function(e){return v.Z.format(e,"longdate")},_renderHeader:function(){var e=(0,S.Z)("<tr>"),t=(0,S.Z)("<thead>").append(e);this._$table.prepend(t);for(var i=0,n=this.option("colCount");i<n;i++)this._renderHeaderCell(i,e)},_renderHeaderCell:function(e,t){var{full:i,abbreviated:n}=this._getDayCaption(this._getFirstDayOfWeek()+e),a=(0,S.Z)("<th>").attr({scope:"col",abbr:i}).text(n);this._appendCell(t,a)},getNavigatorCaption:function(){return v.Z.format(this.option("date"),"monthandyear")},_isTodayCell:function(e){var t=this.option("_todayDate")();return B.Z.sameDate(e,t)},_isDateOutOfRange:function(e){var t=this.option("min"),i=this.option("max");return!B.Z.dateInRange(e,t,i,"date")},_isOtherView:function(e){return e.getMonth()!==this.option("date").getMonth()},_getCellText:function(e){return v.Z.format(e,"d")},_getDayCaption:function(e){var t=e%this.option("colCount");return{full:v.Z.getDayNames()[t],abbreviated:v.Z.getDayNames("abbreviated")[t]}},_getFirstCellData:function(){var e=B.Z.getFirstMonthDate(this.option("date")),t=this._getFirstDayOfWeek()-e.getDay(),i=this.option("colCount");return t>=0&&(t-=i),e.setDate(e.getDate()+t),e},_getNextCellData:function(e){return(e=new Date(e)).setDate(e.getDate()+1),e},_getFirstDayOfWeek:function(){return(0,s.$K)(this.option("firstDayOfWeek"))?this.option("firstDayOfWeek"):v.Z.firstDayOfWeekIndex()},_getCellByDate:function(e){return this._$table.find("td[data-value='".concat(V.Z.serializeDate(e,B.Z.getShortDateFormat()),"']"))},isBoundary:function(e){return B.Z.sameMonthAndYear(e,this.option("min"))||B.Z.sameMonthAndYear(e,this.option("max"))},_getDefaultDisabledDatesHandler:function(e){return function(t){if(e.some((function(e){return B.Z.sameDate(e,t.date)})))return!0}}}),year:J.inherit({_getViewName:function(){return"year"},_isTodayCell:function(e){var t=this.option("_todayDate")();return B.Z.sameMonthAndYear(e,t)},_isDateOutOfRange:function(e){return!B.Z.dateInRange(e,B.Z.getFirstMonthDate(this.option("min")),B.Z.getLastMonthDate(this.option("max")))},_isOtherView:function(){return!1},_getCellText:function(e){return v.Z.getMonthNames("abbreviated")[e.getMonth()]},_getFirstCellData:function(){var e=this.option("date"),t=new Date(e);return t.setDate(1),t.setMonth(0),t},_getNextCellData:function(e){return(e=new Date(e)).setMonth(e.getMonth()+1),e},_getCellByDate:function(e){var t=new Date(e);return t.setDate(1),this._$table.find("td[data-value='".concat(V.Z.serializeDate(t,B.Z.getShortDateFormat()),"']"))},getCellAriaLabel:function(e){return v.Z.format(e,"monthandyear")},getNavigatorCaption:function(){return v.Z.format(this.option("date"),"yyyy")},isBoundary:function(e){return B.Z.sameYear(e,this.option("min"))||B.Z.sameYear(e,this.option("max"))}}),decade:J.inherit({_getViewName:function(){return"decade"},_isTodayCell:function(e){var t=this.option("_todayDate")();return B.Z.sameYear(e,t)},_isDateOutOfRange:function(e){var t=this.option("min"),i=this.option("max");return!B.Z.dateInRange(e.getFullYear(),t&&t.getFullYear(),i&&i.getFullYear())},_isOtherView:function(e){var t=new Date(e);return t.setMonth(1),!B.Z.sameDecade(t,this.option("date"))},_getCellText:function(e){return v.Z.format(e,"yyyy")},_getFirstCellData:function(){var e=B.Z.getFirstYearInDecade(this.option("date"))-1;return B.Z.createDateWithFullYear(e,0,1)},_getNextCellData:function(e){return(e=new Date(e)).setFullYear(e.getFullYear()+1),e},getNavigatorCaption:function(){var e=this.option("date"),t=B.Z.getFirstYearInDecade(e),i=new Date(e),n=new Date(e);return i.setFullYear(t),n.setFullYear(t+9),v.Z.format(i,"yyyy")+"-"+v.Z.format(n,"yyyy")},_isValueOnCurrentView:function(e,t){return B.Z.sameDecade(e,t)},_getCellByDate:function(e){var t=new Date(e);return t.setDate(1),t.setMonth(0),this._$table.find("td[data-value='".concat(V.Z.serializeDate(t,B.Z.getShortDateFormat()),"']"))},isBoundary:function(e){return B.Z.sameDecade(e,this.option("min"))||B.Z.sameDecade(e,this.option("max"))}}),century:J.inherit({_getViewName:function(){return"century"},_isTodayCell:function(e){var t=this.option("_todayDate")();return B.Z.sameDecade(e,t)},_isDateOutOfRange:function(e){var t=B.Z.getFirstYearInDecade(e),i=B.Z.getFirstYearInDecade(this.option("min")),n=B.Z.getFirstYearInDecade(this.option("max"));return!B.Z.dateInRange(t,i,n)},_isOtherView:function(e){var t=new Date(e);return t.setMonth(1),!B.Z.sameCentury(t,this.option("date"))},_getCellText:function(e){var t=v.Z.format(e,"yyyy"),i=new Date(e);return i.setFullYear(i.getFullYear()+9),t+" - "+v.Z.format(i,"yyyy")},_getFirstCellData:function(){var e=B.Z.getFirstDecadeInCentury(this.option("date"))-10;return B.Z.createDateWithFullYear(e,0,1)},_getNextCellData:function(e){return(e=new Date(e)).setFullYear(e.getFullYear()+10),e},_getCellByDate:function(e){var t=new Date(e);return t.setDate(1),t.setMonth(0),t.setFullYear(B.Z.getFirstYearInDecade(t)),this._$table.find("td[data-value='".concat(V.Z.serializeDate(t,B.Z.getShortDateFormat()),"']"))},getNavigatorCaption:function(){var e=this.option("date"),t=B.Z.getFirstDecadeInCentury(e),i=new Date(e),n=new Date(e);return i.setFullYear(t),n.setFullYear(t+99),v.Z.format(i,"yyyy")+"-"+v.Z.format(n,"yyyy")},isBoundary:function(e){return B.Z.sameCentury(e,this.option("min"))||B.Z.sameCentury(e,this.option("max"))}})};var ee=i(33402),te=i(23671),ie=i(50191),ne={month:3,year:2,decade:1,century:0},ae="month",oe="year",se="decade",re="century",le=P.Z.inherit({_activeStateUnit:".dx-calendar-cell",_getDefaultOptions:function(){return(0,l.l)(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,currentDate:new Date,value:null,dateSerializationFormat:void 0,min:new Date(1e3,0),max:new Date(3e3,0),firstDayOfWeek:void 0,zoomLevel:ae,maxZoomLevel:ae,minZoomLevel:re,showTodayButton:!1,cellTemplate:"cell",disabledDates:null,onCellClick:null,onContouredChanged:null,skipFocusCheck:!1,_todayDate:()=>new Date})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===w.Z.real().deviceType&&!w.Z.isSimulator()},options:{focusStateEnabled:!0}}])},_supportedKeys:function(){return(0,l.l)(this.callBase(),{rightArrow:function(e){e.preventDefault(),(0,o.j1)(e)?this._waitRenderView(1):this._moveCurrentDateByOffset(1*this._getRtlCorrection())},leftArrow:function(e){e.preventDefault(),(0,o.j1)(e)?this._waitRenderView(-1):this._moveCurrentDateByOffset(-1*this._getRtlCorrection())},upArrow:function(e){if(e.preventDefault(),(0,o.j1)(e))this._navigateUp();else{if(te.Z.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(-1*this._view.option("colCount"))}},downArrow:function(e){if(e.preventDefault(),(0,o.j1)(e))this._navigateDown();else{if(te.Z.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(1*this._view.option("colCount"))}},home:function(e){e.preventDefault();var t=this.option("zoomLevel"),i=this.option("currentDate"),n=this._dateOption("min");if(!this._view.isDateDisabled(i)){var a=B.Z.sameView(t,i,n)?n:B.Z.getViewFirstCellDate(t,i);this._moveToClosestAvailableDate(a)}},end:function(e){e.preventDefault();var t=this.option("zoomLevel"),i=this.option("currentDate"),n=this._dateOption("max");if(!this._view.isDateDisabled(i)){var a=B.Z.sameView(t,i,n)?n:B.Z.getViewLastCellDate(t,i);this._moveToClosestAvailableDate(a)}},pageUp:function(e){e.preventDefault(),this._waitRenderView(-1*this._getRtlCorrection())},pageDown:function(e){e.preventDefault(),this._waitRenderView(1*this._getRtlCorrection())},tab:c.noop,enter:function(e){if(this._isMaxZoomLevel()){if(!this._view.isDateDisabled(this.option("currentDate"))){var t=this._updateTimeComponent(this.option("currentDate"));this._dateValue(t,e)}}else this._navigateDown()}})},_getSerializationFormat:function(e){var t=this.option(e||"value");return this.option("dateSerializationFormat")?this.option("dateSerializationFormat"):(0,s.kE)(t)?"number":(0,s.HD)(t)?V.Z.getDateSerializationFormat(t):void 0},_convertToDate:function(e,t){return V.Z.deserializeDate(e)},_dateValue:function(e,t){if(t){if("keydown"===t.type){var i=this._view._getContouredCell().get(0);t.target=i}this._saveValueChangeEvent(t)}this._dateOption("value",e)},_dateOption:function(e,t){if(1===arguments.length)return this._convertToDate(this.option(e),e);var i=this._getSerializationFormat(e);this.option(e,V.Z.serializeDate(t,i))},_shiftDate:function(e,t,i,n){switch(e){case ae:t.setDate(t.getDate()+i*n);break;case oe:t.setMonth(t.getMonth()+i*n);break;case se:t.setFullYear(t.getFullYear()+i*n);break;case re:t.setFullYear(t.getFullYear()+10*i*n)}},_moveCurrentDateByOffset:function(e){var t=this.option("currentDate"),i=new Date(t),n=this.option("zoomLevel");this._shiftDate(n,i,e,1);for(var a=this._getMaxDate(),o=this._getMinDate(),s=this._areDatesInNeighborView(n,i,t),r=(0,u.Z2)(i,o,a)&&s,l=new Date(i);r;){if(!this._view.isDateDisabled(l)){i=l;break}this._shiftDate(n,l,e,1),s=this._areDatesInNeighborView(n,l,t),r=(0,u.Z2)(l,o,a)&&s}this._view.isDateDisabled(t)||this._view.isDateDisabled(i)?this._waitRenderView(e>0?1:-1):this.option("currentDate",i)},_areDatesInSameView(e,t,i){switch(e){case ae:return t.getMonth()===i.getMonth();case oe:return t.getYear()===i.getYear();case se:return parseInt(t.getYear()/10)===parseInt(i.getYear()/10);case re:return parseInt(t.getYear()/100)===parseInt(i.getYear()/100)}},_areDatesInNeighborView(e,t,i){switch(e){case ae:return n=t.getMonth(),a=i.getMonth(),o=Math.abs(n-a),Math.min(o,12-o)<=1;case oe:return Math.abs(t.getYear()-i.getYear())<=1;case se:return Math.abs(t.getYear()-i.getYear())<=10;case re:return Math.abs(t.getYear()-i.getYear())<=100}var n,a,o},_moveToClosestAvailableDate:function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.option("currentDate"),n=new Date(i),a=this.option("zoomLevel"),o=!this._isDateNotAvailable(n),s=o,r=o,l=new Date(n),u=new Date(n);do{if(s){n=l;break}if(r){n=u;break}this._shiftDate(a,l,1,1),this._shiftDate(a,u,1,-1),e=this._areDatesInSameView(a,l,i),t=this._areDatesInSameView(a,u,i),s=e&&!this._isDateNotAvailable(l),r=t&&!this._isDateNotAvailable(u)}while(e||t);this.option("currentDate",n)},_isDateNotAvailable:function(e){var t=this._getMaxDate(),i=this._getMinDate();return!(0,u.Z2)(e,i,t)||this._view.isDateDisabled(e)},_init:function(){this.callBase(),this._correctZoomLevel(),this._initCurrentDate(),this._initActions()},_correctZoomLevel:function(){var e=this.option("minZoomLevel"),t=this.option("maxZoomLevel"),i=this.option("zoomLevel");ne[t]<ne[e]||(ne[i]>ne[t]?this.option("zoomLevel",t):ne[i]<ne[e]&&this.option("zoomLevel",e))},_initCurrentDate:function(){var e=this._getNormalizedDate(this._dateOption("value"))||this._getNormalizedDate(this.option("currentDate"));this.option("currentDate",e)},_getNormalizedDate:function(e){return e=B.Z.normalizeDate(e,this._getMinDate(),this._getMaxDate()),(0,s.$K)(e)?this._getDate(e):e},_initActions:function(){this._cellClickAction=this._createActionByOption("onCellClick"),this._onContouredChanged=this._createActionByOption("onContouredChanged")},_initTemplates:function(){this._templateManager.addDefaultTemplates({cell:new ie.k((function(e){var t=e.model;(0,S.Z)(e.container).append((0,S.Z)("<span>").text(t&&t.text||String(t)))}))}),this.callBase()},_updateCurrentDate:function(e){if(te.Z.isAnimating(this._$viewsWrapper)&&te.Z.stop(this._$viewsWrapper,!0),this._getMinDate()>this._getMaxDate())this.option("currentDate",new Date);else{var t=this._getNormalizedDate(e);if(e.getTime()===t.getTime()){var i=this._getViewsOffset(this._view.option("date"),t);0!==i&&!this._isMaxZoomLevel()&&this._isOtherViewCellClicked&&(i=0),this._view&&0!==i&&!this._suppressNavigation?this._navigate(i,t):(this._renderNavigator(),this._setViewContoured(t),this._updateAriaId(t))}else this.option("currentDate",new Date(t))}},_setViewContoured:function(e){(this.option("skipFocusCheck")||this._focusTarget().hasClass("dx-state-focused"))&&this._view.option("contouredDate",e)},_getMinDate:function(){return this.min||(this.min=this._dateOption("min")||new Date(1e3,0)),this.min},_getMaxDate:function(){return this.max||(this.max=this._dateOption("max")||new Date(3e3,0)),this.max},_getViewsOffset:function(e,t){var i,n=this.option("zoomLevel");if(n===ae)return this._getMonthsOffset(e,t);switch(n){case re:i=100;break;case se:i=10;break;default:i=1}return parseInt(t.getFullYear()/i)-parseInt(e.getFullYear()/i)},_getMonthsOffset:function(e,t){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())},_waitRenderView:function(e){if(!this._alreadyViewRender){this._alreadyViewRender=!0;var t=this._getDateByOffset(e*this._getRtlCorrection());this._moveToClosestAvailableDate(t),this._waitRenderViewTimeout=setTimeout((()=>{this._alreadyViewRender=!1}))}},_getRtlCorrection:function(){return this.option("rtlEnabled")?-1:1},_getDateByOffset:function(e,t){var i,n=(t=this._getDate(null!==(i=t)&&void 0!==i?i:this.option("currentDate"))).getDate(),a=B.Z.getDifferenceInMonth(this.option("zoomLevel"))*e;t.setDate(1),t.setMonth(t.getMonth()+a);var o=B.Z.getLastMonthDate(t).getDate();return t.setDate(n>o?o:n),t},_focusTarget:function(){return this.$element()},_initMarkup:function(){this._renderSubmitElement(),this.callBase();var e=this.$element();e.addClass("dx-calendar"),this._renderBody(),e.append(this.$body),this._renderViews(),this._renderNavigator(),e.append(this._navigator.$element()),this._renderSwipeable(),this._renderFooter(),this._updateAriaSelected(),this._updateAriaId(),this._moveToClosestAvailableDate()},_render:function(){this.callBase(),this._setViewContoured(this.option("currentDate"))},_renderBody:function(){this._$viewsWrapper||(this.$body=(0,S.Z)("<div>").addClass("dx-calendar-body"),this._$viewsWrapper=(0,S.Z)("<div>").addClass("dx-calendar-views-wrapper"),this.$body.append(this._$viewsWrapper))},_getKeyboardListeners(){return this.callBase().concat([this._view])},_renderViews:function(){this.$element().addClass("dx-calendar-view-"+this.option("zoomLevel"));var e=this.option("currentDate");if(this._view=this._renderSpecificView(e),(0,C.Ym)()){var t=this._getDateByOffset(-1,e);this._beforeView=this._isViewAvailable(t)?this._renderSpecificView(t):null;var i=this._getDateByOffset(1,e);i.setDate(1),this._afterView=this._isViewAvailable(i)?this._renderSpecificView(i):null}this._translateViews()},_renderSpecificView:function(e){var t=X[this.option("zoomLevel")],i=(0,S.Z)("<div>").appendTo(this._$viewsWrapper),n=this._viewConfig(e);return this._createComponent(i,t,n)},_viewConfig:function(e){var t=this.option("disabledDates");return t=(0,s.mf)(t)?this._injectComponent(t.bind(this)):t,{date:e,min:this._getMinDate(),max:this._getMaxDate(),firstDayOfWeek:this.option("firstDayOfWeek"),value:this._dateOption("value"),tabIndex:void 0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),disabledDates:t,onCellClick:this._cellClickHandler.bind(this),cellTemplate:this._getTemplateByOption("cellTemplate"),allowValueSelection:this._isMaxZoomLevel(),_todayDate:this.option("_todayDate")}},_injectComponent:function(e){var t=this;return function(i){return(0,l.l)(i,{component:t}),e(i)}},_isViewAvailable:function(e){var t=this.option("zoomLevel"),i=B.Z.getViewMinBoundaryDate(t,this._getMinDate()),n=B.Z.getViewMaxBoundaryDate(t,this._getMaxDate());return B.Z.dateInRange(e,i,n)},_translateViews:function(){(0,ee.pB)(this._view.$element(),{left:0,top:0}),this._beforeView&&(0,ee.pB)(this._beforeView.$element(),{left:this._getViewPosition(-1),top:0}),this._afterView&&(0,ee.pB)(this._afterView.$element(),{left:this._getViewPosition(1),top:0})},_getViewPosition:function(e){return 100*e*(this.option("rtlEnabled")?-1:1)+"%"},_cellClickHandler:function(e){var t=this.option("zoomLevel"),i=B.Z.getViewDown(t),n=this._isMaxZoomLevel();if(i&&!n)this._navigateDown(e.event.currentTarget);else{var a=this._updateTimeComponent(e.value);this._dateValue(a,e.event),this._cellClickAction(e)}},_updateTimeComponent:function(e){var t=new Date(e),i=this._dateOption("value");return i&&(t.setHours(i.getHours()),t.setMinutes(i.getMinutes()),t.setSeconds(i.getSeconds()),t.setMilliseconds(i.getMilliseconds())),t},_isMaxZoomLevel:function(){return this.option("zoomLevel")===this.option("maxZoomLevel")},_navigateDown:function(e){var t=this.option("zoomLevel");if(!this._isMaxZoomLevel()){var i=B.Z.getViewDown(t);if(i){var n=this._view.option("contouredDate")||this._view.option("date");e&&(n=(0,S.Z)(e).data("dxDateValueKey")),this._isOtherViewCellClicked=!0,this.option("currentDate",n),this.option("zoomLevel",i),this._isOtherViewCellClicked=!1,this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate")))}}},_renderNavigator:function(){this._navigator||(this._navigator=new N((0,S.Z)("<div>"),this._navigatorConfig())),this._navigator.option("text",this._view.getNavigatorCaption()),this._updateButtonsVisibility()},_navigatorConfig:function(){return{text:this._view.getNavigatorCaption(),onClick:this._navigatorClickHandler.bind(this),onCaptionClick:this._navigateUp.bind(this),rtlEnabled:this.option("rtlEnabled")}},_navigatorClickHandler:function(e){var t=this._getDateByOffset(e.direction,this.option("currentDate"));this._moveToClosestAvailableDate(t)},_navigateUp:function(){var e=this.option("zoomLevel"),t=B.Z.getViewUp(e);t&&!this._isMinZoomLevel(e)&&(this.option("zoomLevel",t),this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate"))))},_isMinZoomLevel:function(e){var t=this._getMinDate(),i=this._getMaxDate();return B.Z.sameView(e,t,i)||this.option("minZoomLevel")===e},_updateButtonsVisibility:function(){this._navigator.toggleButton("next",!(0,s.$K)(this._getRequiredView("next"))),this._navigator.toggleButton("prev",!(0,s.$K)(this._getRequiredView("prev")))},_renderSwipeable:function(){this._swipeable||(this._swipeable=this._createComponent(this.$element(),$.Z,{onStart:this._swipeStartHandler.bind(this),onUpdated:this._swipeUpdateHandler.bind(this),onEnd:this._swipeEndHandler.bind(this),itemSizeFunc:this._viewWidth.bind(this)}))},_swipeStartHandler:function(e){te.Z.stop(this._$viewsWrapper,!0),e.event.maxLeftOffset=this._getRequiredView("next")?1:0,e.event.maxRightOffset=this._getRequiredView("prev")?1:0},_getRequiredView:function(e){var t,i=this.option("rtlEnabled");return"next"===e?t=i?this._beforeView:this._afterView:"prev"===e&&(t=i?this._afterView:this._beforeView),t},_swipeUpdateHandler:function(e){var t=e.event.offset;(0,ee.pB)(this._$viewsWrapper,{left:t*this._viewWidth(),top:0}),this._updateNavigatorCaption(t)},_swipeEndHandler:function(e){var t=e.event.targetOffset,i=t?t/Math.abs(t):0;if(0!==i){var n=this._getDateByOffset(-i*this._getRtlCorrection());this._isDateInInvalidRange(n)&&(n=i>=0?new Date(this._getMinDate()):new Date(this._getMaxDate())),this.option("currentDate",n)}else this._animateWrapper(0,250)},_viewWidth:function(){return this._viewWidthValue||(this._viewWidthValue=(0,E.dz)(this.$element())),this._viewWidthValue},_updateNavigatorCaption:function(e){e*=this._getRtlCorrection();var t=this._view;e>.5&&this._beforeView?t=this._beforeView:e<-.5&&this._afterView&&(t=this._afterView),this._navigator.option("text",t.getNavigatorCaption())},_isDateInInvalidRange:function(e){if(!this._view.isBoundary(e)){var t=this._getMinDate(),i=this._getMaxDate(),n=B.Z.normalizeDate(e,t,i);return n===t||n===i}},_renderFooter:function(){var e=this.option("showTodayButton");if(e){var t=this._createComponent((0,S.Z)("<a>"),R.default,{focusStateEnabled:!1,text:Z.Z.format("dxCalendar-todayButtonText"),onClick:function(e){this._toTodayView(e)}.bind(this),integrationOptions:{}}).$element().addClass("dx-calendar-today-button");this._$footer=(0,S.Z)("<div>").addClass("dx-calendar-footer").append(t),this.$element().append(this._$footer)}this.$element().toggleClass("dx-calendar-with-footer",e)},_renderSubmitElement:function(){this._$submitElement=(0,S.Z)("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(e){var t=this._convertToDate(e);this._getSubmitElement().val(V.Z.serializeDate(t,"yyyy-MM-dd"))},_getSubmitElement:function(){return this._$submitElement},_animateShowView:function(){return te.Z.stop(this._view.$element(),!0),this._popAnimationView(this._view,.6,1,250).promise()},_popAnimationView:function(e,t,i,n){return te.Z.animate(e.$element(),{type:"pop",from:{scale:t,opacity:t},to:{scale:i,opacity:i},duration:n})},_navigate:function(e,t){if(0!==e&&1!==Math.abs(e)&&this._isViewAvailable(t)){var i=this._renderSpecificView(t);e>0?(this._afterView&&this._afterView.$element().remove(),this._afterView=i):(this._beforeView&&this._beforeView.$element().remove(),this._beforeView=i),this._translateViews()}var n=-this._getRtlCorrection()*(e>0?1:e<0?-1:0)*this._viewWidth();this._$viewsWrapper.position().left!==n&&(this._preventViewChangeAnimation?this._wrapperAnimationEndHandler(e,t):this._animateWrapper(n,250).done(this._wrapperAnimationEndHandler.bind(this,e,t)))},_animateWrapper:function(e,t){return te.Z.animate(this._$viewsWrapper,{type:"slide",from:{left:this._$viewsWrapper.position().left},to:{left:e},duration:t})},_getDate:e=>new Date(e),_toTodayView:function(e){this._saveValueChangeEvent(e.event);var t=new Date;this._isMaxZoomLevel()?this._dateOption("value",t):(this._preventViewChangeAnimation=!0,this.option("zoomLevel",this.option("maxZoomLevel")),this._dateOption("value",t),this._animateShowView(),this._preventViewChangeAnimation=!1)},_wrapperAnimationEndHandler:function(e,t){this._rearrangeViews(e),this._translateViews(),this._resetLocation(),this._renderNavigator(),this._setViewContoured(t),this._updateAriaId(t)},_rearrangeViews:function(e){var t,i,n;if(0!==e&&(e<0?(t=1,i="_beforeView",n="_afterView"):(t=-1,i="_afterView",n="_beforeView"),this[i])){var a=this[i].option("date");this[n]&&this[n].$element().remove(),e===t?this[n]=this._view:(this[n]=this._renderSpecificView(this._getDateByOffset(t,a)),this._view.$element().remove()),this._view=this[i];var o=this._getDateByOffset(-t,a);this[i]=this._isViewAvailable(o)?this._renderSpecificView(o):null}},_resetLocation:function(){(0,ee.pB)(this._$viewsWrapper,{left:0,top:0})},_clean:function(){this.callBase(),this._clearViewWidthCache(),delete this._$viewsWrapper,delete this._navigator,delete this._$footer},_clearViewWidthCache:function(){delete this._viewWidthValue},_disposeViews:function(){this._view.$element().remove(),this._beforeView&&this._beforeView.$element().remove(),this._afterView&&this._afterView.$element().remove(),delete this._view,delete this._beforeView,delete this._afterView},_dispose:function(){clearTimeout(this._waitRenderViewTimeout),this.callBase()},_refreshViews:function(){this._disposeViews(),this._renderViews()},_visibilityChanged:function(){this._translateViews()},_focusInHandler:function(){this.callBase.apply(this,arguments),this._view.option("contouredDate",this.option("currentDate"))},_focusOutHandler:function(){this.callBase.apply(this,arguments),this._view.option("contouredDate",null)},_updateViewsValue:function(e){var t=e?new Date(e):null;this._view.option("value",t),this._beforeView&&this._beforeView.option("value",t),this._afterView&&this._afterView.option("value",t)},_updateAriaSelected:function(e,t){var i;e=null!==(i=e)&&void 0!==i?i:this._dateOption("value");var n=this._view._getCellByDate(t),a=this._view._getCellByDate(e);this.setAria("selected",void 0,n),this.setAria("selected",!0,a),e&&this.option("currentDate").getTime()===e.getTime()&&this._updateAriaId(e)},_updateAriaId:function(e){var t;e=null!==(t=e)&&void 0!==t?t:this.option("currentDate");var i="dx-"+new A.Z,n=this._view._getCellByDate(e);this.setAria("id",i,n),this.setAria("activedescendant",i),this._onContouredChanged(i)},_suppressingNavigation:function(e,t){this._suppressNavigation=!0,e.apply(this,t),delete this._suppressNavigation},_optionChanged:function(e){var t=e.value,i=e.previousValue;switch(e.name){case"width":this.callBase(e),this._clearViewWidthCache();break;case"min":case"max":this.min=void 0,this.max=void 0,this._suppressingNavigation(this._updateCurrentDate,[this.option("currentDate")]),this._refreshViews(),this._renderNavigator();break;case"firstDayOfWeek":this._refreshViews(),this._updateButtonsVisibility();break;case"currentDate":this.setAria("id",void 0,this._view._getCellByDate(i)),this._updateCurrentDate(t);break;case"zoomLevel":this.$element().removeClass("dx-calendar-view-"+i),this._correctZoomLevel(),this._refreshViews(),this._renderNavigator(),this._updateAriaId();break;case"minZoomLevel":case"maxZoomLevel":this._correctZoomLevel(),this._updateButtonsVisibility();break;case"value":t=this._convertToDate(t),i=this._convertToDate(i),this._updateAriaSelected(t,i),this.option("currentDate",(0,s.$K)(t)?new Date(t):new Date),this._updateViewsValue(t),this._setSubmitValue(t),this.callBase(e);break;case"onCellClick":this._view.option("onCellClick",t);break;case"onContouredChanged":this._onContouredChanged=this._createActionByOption("onContouredChanged");break;case"disabledDates":case"dateSerializationFormat":case"cellTemplate":case"showTodayButton":this._invalidate();break;case"skipFocusCheck":break;case"_todayDate":this._refreshViews();break;default:this.callBase(e)}},getContouredDate:function(){return this._view.option("contouredDate")}});(0,a.Z)("dxCalendar",le);const ue=le;var de=i(49784),he=de.Z.abstract;const ce=de.Z.inherit({ctor:function(e){this.dateBox=e},widgetOption:function(){return this._widget&&this._widget.option.apply(this._widget,arguments)},_renderWidget:function(e){e=e||(0,S.Z)("<div>"),this._widget=this._createWidget(e),this._widget.$element().appendTo(this._getWidgetContainer())},_createWidget:function(e){var t=this._getWidgetName(),i=this._getWidgetOptions();return this.dateBox._createComponent(e,t,i)},_getWidgetOptions:he,_getWidgetName:he,getDefaultOptions:function(){return{mode:"text"}},getDisplayFormat:he,supportedKeys:c.noop,getKeyboardListener:c.noop,customizeButtons:c.noop,getParsedText:function(e,t){return v.Z.parse(e,t)||v.Z.parse(e)},renderInputMinMax:c.noop,renderOpenedState:function(){this._updateValue()},popupConfig:he,_dimensionChanged:function(){var e;null===(e=this._getPopup())||void 0===e||e.repaint()},renderPopupContent:function(){var e=this._getPopup();this._renderWidget();var t=e.$content().parent();d.Z.off(t,"mousedown"),d.Z.on(t,"mousedown",this._preventFocusOnPopup.bind(this))},getFirstPopupElement:c.noop,getLastPopupElement:c.noop,_preventFocusOnPopup:function(e){e.preventDefault()},_getWidgetContainer:function(){return this._getPopup().$content()},_getPopup:function(){return this.dateBox._popup},popupShowingHandler:c.noop,popupHiddenHandler:c.noop,_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},useCurrentDateByDefault:c.noop,getDefaultDate:function(){return new Date},textChangedHandler:c.noop,renderValue:function(){this.dateBox.option("opened")&&this._updateValue()},getValue:function(){return this._widget.option("value")},isAdaptivityChanged:function(){return!1},dispose:function(){var e=this._getPopup();e&&e.$content().empty()},dateBoxValue:function(){return arguments.length?this.dateBox.dateValue.apply(this.dateBox,arguments):this.dateBox.dateOption.apply(this.dateBox,["value"])}}),pe=ce.inherit({NAME:"Calendar",supportedKeys:function(){var e=function(e){return!!this.option("opened")&&(e.preventDefault(),!0)};return{rightArrow:function(){if(this.option("opened"))return!0},leftArrow:function(){if(this.option("opened"))return!0},enter:function(e){if(this.dateBox.option("opened")){if(e.preventDefault(),this._widget.option("zoomLevel")===this._widget.option("maxZoomLevel")){var t=this._getContouredValue(),i=this._lastActionElement,n=this._closeDropDownByEnter();return n&&t&&"calendar"===i&&this.dateBoxValue(t,e),n&&this.dateBox.close(),this.dateBox._valueChangeEventHandler(e),!n}return!0}this.dateBox._valueChangeEventHandler(e)}.bind(this),home:e,end:e}},getDisplayFormat:function(e){return e||"shortdate"},_closeDropDownByEnter:()=>!0,_getWidgetName:function(){return ue},_getContouredValue:function(){return this._widget._view.option("contouredDate")},getKeyboardListener(){return this._widget},_getWidgetOptions:function(){var e=this.dateBox.option("disabledDates");return(0,l.l)(this.dateBox.option("calendarOptions"),{value:this.dateBoxValue()||null,dateSerializationFormat:null,min:this.dateBox.dateOption("min"),max:this.dateBox.dateOption("max"),onValueChanged:this._valueChangedHandler.bind(this),onCellClick:this._cellClickHandler.bind(this),tabIndex:null,disabledDates:(0,s.mf)(e)?this._injectComponent(e.bind(this.dateBox)):e,onContouredChanged:this._refreshActiveDescendant.bind(this),skipFocusCheck:!0})},_injectComponent:function(e){var t=this;return function(i){return(0,l.l)(i,{component:t.dateBox}),e(i)}},_refreshActiveDescendant:function(e){this._lastActionElement="calendar",this.dateBox.setAria("activedescendant",e.actionValue)},popupConfig:function(e){var t,i=e.toolbarItems,n=this.dateBox.option("buttonsLocation");return t="default"!==n?(0,c.splitPair)(n):["bottom","center"],"useButtons"===this.dateBox.option("applyValueMode")&&this._isCalendarVisible()&&i.unshift({widget:"dxButton",toolbar:t[0],location:"after"===t[1]?"before":t[1],options:{onInitialized:function(e){e.component.registerKeyHandler("escape",this._escapeHandler.bind(this))}.bind(this),onClick:e=>{this._widget._toTodayView(e)},text:Z.Z.format("dxCalendar-todayButtonText"),type:"today"}}),(0,l.l)(!0,e,{toolbarItems:i,position:{collision:"flipfit flip"},width:"auto"})},_isCalendarVisible:function(){return(0,s.Qr)(this.dateBox.option("calendarOptions"))||!1!==this.dateBox.option("calendarOptions.visible")},_escapeHandler:function(){this.dateBox.close(),this.dateBox.focus()},_valueChangedHandler:function(e){var t=e.value,i=e.previousValue;B.Z.sameDate(t,i)&&B.Z.sameHoursAndMinutes(t,i)||"instantly"===this.dateBox.option("applyValueMode")&&this.dateBoxValue(this.getValue(),e.event)},_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},textChangedHandler:function(){this._lastActionElement="input",this.dateBox.option("opened")&&this._widget&&this._updateValue(!0)},_cellClickHandler:function(e){var t=this.dateBox;"instantly"===t.option("applyValueMode")&&(t.option("opened",!1),this.dateBoxValue(this.getValue(),e.event))}});var _e=i(42660),me=i(74652);class fe extends _e.Z{_getDefaultOptions(){return(0,l.l)(super._getDefaultOptions(),{showScrollbar:"never",useNative:!1,selectedIndex:0,bounceEnabled:!1,items:[],showOnClick:!1,onClick:null,onSelectedIndexChanged:null,scrollByContent:!0})}_init(){super._init(),this.option("onVisibilityChange",this._visibilityChangedHandler.bind(this)),this.option("onEnd",this._endActionHandler.bind(this))}_render(){super._render(),this._renderSelectedItemFrame(),this.$element().addClass("dx-dateviewroller"),this._renderContainerClick(),this._renderItems(),this._renderSelectedValue(),this._renderItemsClick(),this._renderWheelEvent(),this._renderSelectedIndexChanged()}_renderSelectedIndexChanged(){this._selectedIndexChanged=this._createActionByOption("onSelectedIndexChanged")}_renderWheelEvent(){d.Z.on((0,S.Z)(this.container()),"dxmousewheel",(e=>{this._isWheelScrolled=!0}))}_renderContainerClick(){if(this.option("showOnClick")){var e=(0,o.V4)(K.u,this.NAME),t=this._createActionByOption("onClick");d.Z.off((0,S.Z)(this.container()),e),d.Z.on((0,S.Z)(this.container()),e,(function(e){t({event:e})}))}}_renderItems(){var e=this.option("items")||[],t=(0,S.Z)();(0,S.Z)(this.content()).empty(),e.forEach((function(e){t=t.add((0,S.Z)("<div>").addClass("dx-dateview-item").append(e))})),(0,S.Z)(this.content()).append(t),this._$items=t,this.update()}_renderSelectedItemFrame(){(0,S.Z)("<div>").addClass("dx-dateview-item-selected-frame").append((0,S.Z)("<div>").addClass("dx-dateview-item-selected-border")).appendTo((0,S.Z)(this.container()))}_renderSelectedValue(e){var t=this._fitIndex(null!=e?e:this.option("selectedIndex"));this._moveTo({top:this._getItemPosition(t)}),this._renderActiveStateItem()}_fitIndex(e){var t=(this.option("items")||[]).length;return e>=t?t-1:e<0?0:e}_getItemPosition(e){return Math.round(this._itemHeight()*e)}_renderItemsClick(){var e=this._getItemSelector(),t=(0,o.V4)(K.u,this.NAME);d.Z.off(this.$element(),t,e),d.Z.on(this.$element(),t,e,this._itemClickHandler.bind(this))}_getItemSelector(){return".dx-dateview-item"}_itemClickHandler(e){this.option("selectedIndex",this._itemElementIndex(e.currentTarget))}_itemElementIndex(e){return this._itemElements().index(e)}_itemElements(){return this.$element().find(this._getItemSelector())}_renderActiveStateItem(){var e=this.option("selectedIndex");(0,D.S6)(this._$items,(function(t){(0,S.Z)(this).toggleClass("dx-dateview-item-selected",e===t)}))}_shouldScrollToNeighborItem(){return"desktop"===w.Z.real().deviceType&&this._isWheelScrolled}_moveTo(e){var{top:t,left:i}=function(e,t){if((0,s.PO)(e)){var i=(0,c.ensureDefined)(e.left,e.x),n=(0,c.ensureDefined)(e.top,e.y);return{left:(0,s.$K)(i)?i:void 0,top:(0,s.$K)(n)?n:void 0}}var{isHorizontal:a,isVertical:o}=new me.I(void 0);return{left:a&&(0,s.$K)(e)?e:void 0,top:o&&(0,s.$K)(e)?e:void 0}}(e),n=this.scrollOffset(),a={x:n.left-i,y:n.top-t};if(this._isVisible()&&(a.x||a.y))if(this._prepareDirections(!0),this._animation&&!this._shouldScrollToNeighborItem()){var o=this;te.Z.stop((0,S.Z)(this.content())),te.Z.animate((0,S.Z)(this.content()),{duration:200,type:"slide",to:{top:Math.floor(a.y)},complete(){(0,ee.Kx)((0,S.Z)(o.content())),o.handleMove({delta:a})}}),delete this._animation}else this.handleMove({delta:a})}_validate(e){return this._moveIsAllowed(e)}_fitSelectedIndexInRange(e){var t=this.option("items").length;return Math.max(Math.min(e,t-1),0)}_isInNullNeighborhood(e){return-.1<=e&&e<=.1}_getSelectedIndexAfterScroll(e){var t=this.scrollOffset().top-e*this._itemHeight();if(this._isInNullNeighborhood(t))return e;var i=t>0?1:-1;return this._fitSelectedIndexInRange(e+i)}_getNewSelectedIndex(e){if(this._shouldScrollToNeighborItem())return this._getSelectedIndexAfterScroll(e);this._animation=!0;var t=this.scrollOffset().top/this._itemHeight();return Math.round(t)}_endActionHandler(){var e=this.option("selectedIndex"),t=this._getNewSelectedIndex(e);t===e?this._renderSelectedValue(t):this.option("selectedIndex",t),this._isWheelScrolled=!1}_itemHeight(){var e=this._$items.first();return(0,E.Cr)(e)}_toggleActive(e){this.$element().toggleClass("dx-state-active",e)}_isVisible(){return(0,S.Z)(this.container()).is(":visible")}_fireSelectedIndexChanged(e,t){this._selectedIndexChanged({value:e,previousValue:t,event:void 0})}_visibilityChanged(e){super._visibilityChanged(e),this._visibilityChangedHandler(e)}_visibilityChangedHandler(e){e&&(this._visibilityTimer=setTimeout((()=>{this._renderSelectedValue(this.option("selectedIndex"))}))),this.toggleActiveState(!1)}toggleActiveState(e){this.$element().toggleClass("dx-dateviewroller-current",e)}_refreshSelectedIndex(){var e=this.option("selectedIndex"),t=this._fitIndex(e);t===e?this._renderActiveStateItem():this.option("selectedIndex",t)}_optionChanged(e){switch(e.name){case"selectedIndex":this._fireSelectedIndexChanged(e.value,e.previousValue),this._renderSelectedValue(e.value);break;case"items":this._renderItems(),this._refreshSelectedIndex();break;case"onClick":case"showOnClick":this._renderContainerClick();break;case"onSelectedIndexChanged":this._renderSelectedIndexChanged();break;default:super._optionChanged(e)}}_dispose(){clearTimeout(this._visibilityTimer),super._dispose()}}(0,a.Z)("dxDateViewRoller",fe);const ge=fe;var ve="date",ye="year",Ce="month",De="day",xe="hours",be=P.Z.inherit({_valueOption:function(){var e=this.option("value"),t=new Date(e);return!e||isNaN(t)?this._getDefaultDate():t},_getDefaultDate:function(){var e=new Date;return this.option("type")===ve?new Date(e.getFullYear(),e.getMonth(),e.getDate()):e},_getDefaultOptions:function(){return(0,l.l)(this.callBase(),{minDate:O.MIN_DATEVIEW_DEFAULT_DATE,maxDate:O.MAX_DATEVIEW_DEFAULT_DATE,type:ve,value:new Date,applyCompactClass:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(e){return"desktop"!==e.deviceType},options:{applyCompactClass:!0}}])},_render:function(){this.callBase(),this.$element().addClass("dx-dateview"),this._toggleFormatClasses(this.option("type")),this._toggleCompactClass()},_toggleFormatClasses:function(e,t){this.$element().addClass("dx-dateview-"+e),t&&this.$element().removeClass("dx-dateview-"+t)},_toggleCompactClass:function(){this.$element().toggleClass("dx-dateview-compact",this.option("applyCompactClass"))},_wrapper:function(){return this._$wrapper},_renderContentImpl:function(){this._$wrapper=(0,S.Z)("<div>").addClass("dx-dateview-wrapper"),this._renderRollers(),this._$wrapper.appendTo(this.$element())},_renderRollers:function(){this._$rollersContainer||(this._$rollersContainer=(0,S.Z)("<div>").addClass("dx-dateview-rollers")),this._$rollersContainer.empty(),this._createRollerConfigs(),this._rollers={};var e=this;(0,D.S6)(e._rollerConfigs,(function(t){var i=(0,S.Z)("<div>").appendTo(e._$rollersContainer).addClass("dx-dateviewroller-"+e._rollerConfigs[t].type);e._rollers[e._rollerConfigs[t].type]=e._createComponent(i,ge,{items:e._rollerConfigs[t].displayItems,selectedIndex:e._rollerConfigs[t].selectedIndex,showScrollbar:"never",scrollByContent:!0,onStart:function(i){var n=i.component;n._toggleActive(!0),e._setActiveRoller(e._rollerConfigs[t],n.option("selectedIndex"))},onEnd:function(e){e.component._toggleActive(!1)},onClick:function(i){var n=i.component;n._toggleActive(!0),e._setActiveRoller(e._rollerConfigs[t],n.option("selectedIndex")),e._setRollerState(e._rollerConfigs[t],n.option("selectedIndex")),n._toggleActive(!1)},onSelectedIndexChanged:function(i){var n=i.component;e._setRollerState(e._rollerConfigs[t],n.option("selectedIndex"))}})})),e._$rollersContainer.appendTo(e._wrapper())},_createRollerConfigs:function(e){var t=this;e=e||t.option("type"),t._rollerConfigs={},v.Z.getFormatParts(O.FORMATS_MAP[e]).forEach((function(e){t._createRollerConfig(e)}))},_createRollerConfig:function(e){for(var t=O.DATE_COMPONENTS_INFO[e],i=this._calculateRollerConfigValueRange(e),n=i.startValue,a=i.endValue,o=t.formatter,s=this._getCurrentDate(),r={type:e,setValue:t.setter,valueItems:[],displayItems:[],getIndex:function(e){return e[t.getter]()-n}},l=n;l<=a;l++)r.valueItems.push(l),r.displayItems.push(o(l,s));r.selectedIndex=r.getIndex(s),this._rollerConfigs[e]=r},_setActiveRoller:function(e){var t=e&&this._rollers[e.type];(0,D.S6)(this._rollers,(function(){this.toggleActiveState(this===t)}))},_updateRollersPosition:function(){var e=this;(0,D.S6)(this._rollers,(function(t){var i=e._rollerConfigs[t].getIndex(e._getCurrentDate());this.option("selectedIndex",i)}))},_setRollerState:function(e,t){if(t!==e.selectedIndex){var i=e.valueItems[t],n=e.setValue,a=new Date(this._getCurrentDate()),o=a.getDate(),s=this.option("minDate"),r=this.option("maxDate");e.type===Ce?o=Math.min(o,O.getMaxMonthDay(a.getFullYear(),i)):e.type===ye&&(o=Math.min(o,O.getMaxMonthDay(i,a.getMonth()))),a.setDate(o),a[n](i);var l=B.Z.normalizeDate(a,s,r);a=O.mergeDates(l,a,"time"),a=B.Z.normalizeDate(a,s,r),this.option("value",a),e.selectedIndex=t}e.type===ye&&this._refreshRollers(),e.type===Ce&&(this._refreshRoller(De),this._refreshRoller(xe))},_refreshRoller:function(e){var t=this._rollers[e];if(t){this._createRollerConfig(e);var i=this._rollerConfigs[e];e!==De&&i.displayItems.toString()===t.option("items").toString()||t.option({items:i.displayItems,selectedIndex:i.selectedIndex})}},_getCurrentDate:function(){var e=this._valueOption(),t=this.option("minDate"),i=this.option("maxDate");return B.Z.normalizeDate(e,t,i)},_calculateRollerConfigValueRange:function(e){var t=this._getCurrentDate(),i=this.option("minDate"),n=this.option("maxDate"),a=B.Z.sameYear(t,i),o=a&&t.getMonth()===i.getMonth(),s=B.Z.sameYear(t,n),r=s&&t.getMonth()===n.getMonth(),l=o&&t.getDate()===i.getDate(),u=r&&t.getDate()===n.getDate(),d=O.DATE_COMPONENTS_INFO[e],h=d.startValue,c=d.endValue;return e===ye&&(h=i.getFullYear(),c=n.getFullYear()),e===Ce&&(a&&(h=i.getMonth()),s&&(c=n.getMonth())),e===De&&(c=O.getMaxMonthDay(t.getFullYear(),t.getMonth()),a&&o&&(h=i.getDate()),s&&r&&(c=n.getDate())),e===xe&&(h=l?i.getHours():h,c=u?n.getHours():c),{startValue:h,endValue:c}},_refreshRollers:function(){this._refreshRoller(Ce),this._refreshRoller(De),this._refreshRoller(xe)},_optionChanged:function(e){switch(e.name){case"minDate":case"maxDate":case"type":this._renderRollers(),this._toggleFormatClasses(e.value,e.previousValue);break;case"visible":this.callBase(e),e.value&&this._renderRollers();break;case"value":this.option("value",this._valueOption()),this._refreshRollers(),this._updateRollersPosition();break;default:this.callBase(e)}},_clean:function(){this.callBase(),delete this._$rollersContainer}});(0,a.Z)("dxDateView",be);const we=be;var Ie=(0,C.Jj)(),Be=ce.inherit({NAME:"DateView",getDefaultOptions:function(){return(0,l.l)(this.callBase(),{openOnFieldClick:!0,applyButtonText:Z.Z.format("OK"),"dropDownOptions.showTitle":!0})},getDisplayFormat:function(e){return e||O.FORMATS_MAP[this.dateBox.option("type")]},popupConfig:function(e){return{toolbarItems:this.dateBox._popupToolbarItemsConfig(),onInitialized:e.onInitialized,defaultOptionsRules:[{device:{platform:"android"},options:{width:333,height:331}},{device:function(e){var t=e.platform;return"generic"===t||"ios"===t},options:{width:"auto",height:"auto"}},{device:function(e){var t=e.platform,i=e.phone;return"generic"===t&&i},options:{width:333,maxWidth:"100%",maxHeight:"100%",height:"auto",position:{collision:"flipfit flip"}}},{device:{platform:"ios",phone:!0},options:{width:"100%",position:{my:"bottom",at:"bottom",of:Ie}}}]}},_renderWidget:function(){if((0,b.inputType)(this.dateBox.option("mode"))&&this.dateBox._isNativeType()||this.dateBox.option("readOnly"))this._widget&&(this._widget.$element().remove(),this._widget=null);else{var e=this._getPopup();if(this._widget)this._widget.option(this._getWidgetOptions());else{var t=(0,S.Z)("<div>").appendTo(e.$content());this._widget=this._createWidget(t)}this._widget.$element().appendTo(this._getWidgetContainer())}},_getWidgetName:function(){return we},renderOpenedState:function(){this.callBase(),this._widget&&this._widget.option("value",this._widget._getCurrentDate())},_getWidgetOptions:function(){return{value:this.dateBoxValue()||new Date,type:this.dateBox.option("type"),minDate:this.dateBox.dateOption("min")||new Date(1900,0,1),maxDate:this.dateBox.dateOption("max")||new Date(Date.now()+50*O.ONE_YEAR),onDisposing:function(){this._widget=null}.bind(this)}}});const Se=Be;var Ve=i(37045),Te=ce.inherit({NAME:"Native",popupConfig:function(e){return(0,l.l)({},e,{width:"auto"})},getParsedText:function(e){return e?"datetime"===this.dateBox.option("type")?new Date(e.replace(/-/g,"/").replace("T"," ").split(".")[0]):O.fromStandardDateFormat(e):null},renderPopupContent:c.noop,_getWidgetName:c.noop,_getWidgetOptions:c.noop,_getDateBoxType:function(){var e=this.dateBox.option("type");return-1===(0,Ve.d3)(e,O.SUPPORTED_FORMATS)?e="date":"datetime"!==e||(0,b.inputType)(e)||(e="datetime-local"),e},customizeButtons:function(){var e=this.dateBox.getButton("dropDown");w.Z.real().android&&e&&e.on("click",function(){this.dateBox._input().get(0).click()}.bind(this))},getDefaultOptions:function(){return{mode:this._getDateBoxType()}},getDisplayFormat:function(e){var t=this._getDateBoxType();return e||O.FORMATS_MAP[t]},renderInputMinMax:function(e){e.attr({min:V.Z.serializeDate(this.dateBox.dateOption("min"),"yyyy-MM-dd"),max:V.Z.serializeDate(this.dateBox.dateOption("max"),"yyyy-MM-dd")})}});const Me=Te;var ke=i(74341),Oe=i(4760),Fe=i(76819),Ze=function(e,t,i){Ee(e,t,i)},Ee=function(e,t,i){e.css("transform","rotate("+t+"deg) translate(0,"+i+"px)")},Ae=P.Z.inherit({_getDefaultOptions:function(){return(0,l.l)(this.callBase(),{value:new Date(Date.now()),use24HourFormat:!0,_showClock:!0,_arrowOffset:5,stylingMode:void 0})},_getValue:function(){return this.option("value")||new Date},_init:function(){this.callBase(),this.$element().addClass("dx-timeview")},_render:function(){this.callBase(),this._renderBox(),this._updateTime()},_renderBox:function(){var e=(0,S.Z)("<div>").appendTo(this.$element()),t=[];this.option("_showClock")&&t.push({ratio:1,shrink:0,baseSize:"auto",template:this._renderClock.bind(this)}),t.push({ratio:0,shrink:0,baseSize:"auto",template:this._renderField.bind(this)}),this._createComponent(e,Fe.Z,{height:"100%",width:"100%",direction:"col",items:t})},_renderClock:function(e,t,i){this._$hourArrow=(0,S.Z)("<div>").addClass("dx-timeview-hourarrow"),this._$minuteArrow=(0,S.Z)("<div>").addClass("dx-timeview-minutearrow");var n=(0,S.Z)(i);n.addClass("dx-timeview-clock").append(this._$hourArrow).append(this._$minuteArrow),this.setAria("role","presentation",n)},_updateClock:function(){var e=this._getValue(),t=e.getHours()/12*360+e.getMinutes()/60*30,i=e.getMinutes()/60*360;Ze(this._$hourArrow,t,this.option("_arrowOffset")),Ze(this._$minuteArrow,i,this.option("_arrowOffset"))},_getBoxItems:function(e){var t=[{ratio:0,shrink:0,baseSize:"auto",template:()=>this._hourBox.$element()},{ratio:0,shrink:0,baseSize:"auto",template:(0,S.Z)("<div>").addClass("dx-timeview-time-separator").text(v.Z.getTimeSeparator())},{ratio:0,shrink:0,baseSize:"auto",template:()=>this._minuteBox.$element()}];return e&&t.push({ratio:0,shrink:0,baseSize:"auto",template:()=>this._format12.$element()}),t},_renderField:function(){var e=!this.option("use24HourFormat");return this._createHourBox(e),this._createMinuteBox(),e&&this._createFormat12Box(),this._createComponent((0,S.Z)("<div>").addClass("dx-timeview-field"),Fe.Z,{direction:"row",align:"center",crossAlign:"center",items:this._getBoxItems(e)}).$element()},_createHourBox:function(e){(this._hourBox=this._createComponent((0,S.Z)("<div>"),ke.default,(0,l.l)({min:-1,max:e?13:24,value:this._getValue().getHours(),onValueChanged:this._onHourBoxValueChanged.bind(this),onKeyboardHandled:e=>this._keyboardHandler(e)},this._getNumberBoxConfig()))).setAria("label","hours")},_isPM:function(){return!this.option("use24HourFormat")&&1===this._format12.option("value")},_onHourBoxValueChanged:function(e){var{value:t,component:i}=e,n=this._getValue(),a=new Date(n),o=this._convertMaxHourToMin(t);i.option("value",o),this._isPM()&&(o+=12),a.setHours(o),O.normalizeTime(a),this.option("value",a)},_convertMaxHourToMin:function(e){var t=this.option("use24HourFormat")?24:12;return(t+e)%t},_createMinuteBox:function(){(this._minuteBox=this._createComponent((0,S.Z)("<div>"),ke.default,(0,l.l)({min:-1,max:60,value:this._getValue().getMinutes(),onKeyboardHandled:e=>this._keyboardHandler(e),onValueChanged:e=>{var{value:t,component:i}=e,n=(60+t)%60;i.option("value",n);var a=new Date(this._getValue());a.setMinutes(n),O.normalizeTime(a),this.option("value",a)}},this._getNumberBoxConfig()))).setAria("label","minutes")},_createFormat12Box:function(){var e=v.Z.getPeriodNames();(this._format12=this._createComponent((0,S.Z)("<div>").addClass("dx-timeview-format12"),Oe.default,{items:[{value:-1,text:e[0]},{value:1,text:e[1]}],valueExpr:"value",displayExpr:"text",onKeyboardHandled:e=>this._keyboardHandler(e),onValueChanged:e=>{var{value:t}=e,i=this._getValue().getHours(),n=new Date(this._getValue()),a=(i+12*t)%24;n.setHours(a),this.option("value",n)},value:this._getValue().getHours()>=12?1:-1,stylingMode:this.option("stylingMode")})).setAria("label","type")},_refreshFormat12:function(){if(!this.option("use24HourFormat")){var e=this._getValue().getHours()>=12?1:-1;this._silentEditorValueUpdate(this._format12,e)}},_silentEditorValueUpdate:function(e,t){e&&(e._suppressValueChangeAction(),e.option("value",t),e._resumeValueChangeAction())},_getNumberBoxConfig:function(){return{showSpinButtons:!0,displayValueFormatter:function(e){return(e<10?"0":"")+e},stylingMode:this.option("stylingMode")}},_normalizeHours:function(e){return this.option("use24HourFormat")?e:e%12||12},_updateField:function(){var e=this._normalizeHours(this._getValue().getHours());this._silentEditorValueUpdate(this._hourBox,e),this._silentEditorValueUpdate(this._minuteBox,this._getValue().getMinutes()),this._refreshFormat12()},_updateTime:function(){this.option("_showClock")&&this._updateClock(),this._updateField()},_visibilityChanged:function(e){e&&this._updateTime()},_optionChanged:function(e){switch(e.name){case"value":this._updateTime(),this.callBase(e);break;case"_arrowOffset":break;case"use24HourFormat":case"_showClock":case"stylingMode":this._invalidate();break;default:this.callBase(e)}}});(0,a.Z)("dxTimeView",Ae);const Re=Ae;var Pe=(0,C.Jj)(),$e="dx-datebox-datetime-time-side";const Le=pe.inherit({NAME:"CalendarWithTime",getDefaultOptions:function(){return(0,l.l)(this.callBase(),{applyValueMode:"useButtons",buttonsLocation:"bottom after","dropDownOptions.showTitle":!1})},_closeDropDownByEnter:function(){return B.Z.sameDate(this._getContouredValue(),this.widgetOption("value"))},getDisplayFormat:function(e){return e||"shortdateshorttime"},_is24HourFormat:function(){return v.Z.is24HourFormat(this.getDisplayFormat(this.dateBox.option("displayFormat")))},_getContouredValue:function(){var e=this.callBase();return this._updateDateTime(e)},_renderWidget:function(){this.callBase(),this._timeView=this.dateBox._createComponent((0,S.Z)("<div>"),Re,{value:this.dateBoxValue(),_showClock:!this._isShrinkView(),use24HourFormat:this._is24HourFormat(),onValueChanged:this._valueChangedHandler.bind(this),stylingMode:this.dateBox.option("stylingMode")}),this._timeView.registerKeyHandler("escape",this._escapeHandler.bind(this))},renderOpenedState:function(){this.callBase();var e=this._getPopup();e&&e.$wrapper().toggleClass("dx-datebox-adaptivity-mode",this._isSmallScreen()),clearTimeout(this._repaintTimer),this._repaintTimer=setTimeout(function(){this._getPopup()&&this._getPopup().repaint()}.bind(this),0)},isAdaptivityChanged:function(){var e=this._isShrinkView(),t=this._currentAdaptiveMode;return e!==t?(this._currentAdaptiveMode=e,void 0!==t):this.callBase()},_updateValue:function(e){var t=this.dateBoxValue();t||e||(t=new Date,O.normalizeTime(t)),this.callBase(),this._timeView&&(t&&this._timeView.option("value",t),this._timeView.option("use24HourFormat",this._is24HourFormat()))},_isSmallScreen:function(){return(0,E.dz)(Pe)<=573},_isShrinkView:function(){return!this.dateBox.option("showAnalogClock")||this.dateBox.option("adaptivityEnabled")&&this._isSmallScreen()},_getBoxItems:function(){var e=[{ratio:0,shrink:0,baseSize:"auto",name:"calendar"}];return this._isShrinkView()||e.push({ratio:0,shrink:0,baseSize:"auto",name:"time"}),e},renderPopupContent:function(){this.callBase(),this._currentAdaptiveMode=this._isShrinkView();var e=this._getPopup().$content();this._box=this.dateBox._createComponent((0,S.Z)("<div>").appendTo(e),Fe.Z,{direction:"row",crossAlign:"stretch",items:this._getBoxItems(),itemTemplate:function(e,t,i){var n=(0,S.Z)("<div>");switch(e.name){case"calendar":n.append(this._widget.$element()),this._isShrinkView()&&(this._timeView.$element().addClass($e),n.append(this._timeView.$element()));break;case"time":n.append(this._timeView.$element()),(0,S.Z)(i).addClass($e)}return n}.bind(this)}),this._attachTabHandler()},popupConfig:function(e){var t=this.callBase(e);return(0,l.l)(t,{width:"auto",onShowing:function(){if("fallback"===this._box.option("_layoutStrategy")){var e=this._getPopup().$content().find(".dx-timeview-clock").css("minWidth");this._timeView.$element().css("maxWidth",e)}}.bind(this)})},getFirstPopupElement:function(){return this._timeView._hourBox.$element().find("input")},_attachTabHandler:function(){var e=this.dateBox;this._timeView._hourBox.registerKeyHandler("tab",(function(t){t.shiftKey&&(t.preventDefault(),e.focus())}))},_preventFocusOnPopup:function(e){(0,S.Z)(e.target).hasClass("dx-texteditor-input")||(this.callBase.apply(this,arguments),this.dateBox._hasFocusClass()||this.dateBox.focus())},_updateDateTime:function(e){var t=this._timeView.option("value");return e.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e},getValue:function(){var e,t=null!==(e=this._widget.option("value"))&&void 0!==e?e:this._widget.getContouredDate();return t=t?new Date(t):new Date,this._updateDateTime(t)},dispose:function(){clearTimeout(this._removeMinWidthTimer),clearTimeout(this._repaintTimer),this.callBase()}});var Ne=i(28959),He=(i(33813),i(78954)),ze=(0,C.Jj)(),We={min:new Date(0,0,0,0,0),max:new Date(0,0,0,23,59)};const Ke=ce.inherit({NAME:"List",supportedKeys:function(){return{tab:function(){var{opened:e,applyValueMode:t}=this.option();e&&"instantly"===t&&this.close()},space:c.noop,home:c.noop,end:c.noop}},getDefaultOptions:function(){return(0,l.l)(this.callBase(),{applyValueMode:"instantly"})},getDisplayFormat:function(e){return e||"shorttime"},popupConfig:function(e){return e},getValue:function(){var e=this._widget.option("selectedIndex");if(-1===e)return this.dateBox.option("value");var t=this._widgetItems[e];return this._getDateByItemData(t)},useCurrentDateByDefault:function(){return!0},getDefaultDate:function(){return new Date(null)},popupShowingHandler:function(){this.dateBox._dimensionChanged()},_renderWidget:function(){this.callBase(),this._refreshItems()},_getWidgetName:function(){return Ne.Z},_getWidgetOptions:function(){return{itemTemplate:this._timeListItemTemplate.bind(this),onItemClick:this._listItemClickHandler.bind(this),tabIndex:-1,onFocusedItemChanged:this._refreshActiveDescendant.bind(this),selectionMode:"single"}},_refreshActiveDescendant:function(e){this.dateBox.setAria("activedescendant",""),this.dateBox.setAria("activedescendant",e.actionValue)},_refreshItems:function(){this._widgetItems=this._getTimeListItems(),this._widget.option("items",this._widgetItems)},renderOpenedState:function(){this._widget&&(this._widget.option("focusedElement",null),this._setSelectedItemsByValue(),this._widget.option("templatesRenderAsynchronously")?this._asyncScrollTimeout=setTimeout(this._scrollToSelectedItem.bind(this)):this._scrollToSelectedItem())},dispose:function(){this.callBase(),clearTimeout(this._asyncScrollTimeout)},_updateValue:function(){this._widget&&(this._refreshItems(),this._setSelectedItemsByValue(),this._scrollToSelectedItem())},_setSelectedItemsByValue:function(){var e=this.dateBoxValue(),t=this._getDateIndex(e);-1===t?this._widget.option("selectedItems",[]):this._widget.option("selectedIndex",t)},_scrollToSelectedItem:function(){this._widget.scrollToItem(this._widget.option("selectedIndex"))},_getDateIndex:function(e){for(var t=-1,i=0,n=this._widgetItems.length;i<n;i++)if(this._areDatesEqual(e,this._widgetItems[i])){t=i;break}return t},_areDatesEqual:function(e,t){return(0,s.J_)(e)&&(0,s.J_)(t)&&e.getHours()===t.getHours()&&e.getMinutes()===t.getMinutes()},_getTimeListItems:function(){var e=this.dateBox.dateOption("min")||this._getBoundaryDate("min"),t=this.dateBox.dateOption("max")||this._getBoundaryDate("max"),i=this.dateBox.dateOption("value")||null,n=t-e,a=e.getMinutes()%this.dateBox.option("interval");return n<0?[]:(n>O.ONE_DAY&&(n=O.ONE_DAY),i-e<O.ONE_DAY||((e=this._getBoundaryDate("min")).setMinutes(a),i&&Math.abs(i-t)<O.ONE_DAY&&(n=(60*t.getHours()+Math.abs(t.getMinutes()-a))*O.ONE_MINUTE)),this._getRangeItems(e,new Date(e),n))},_getRangeItems:function(e,t,i){for(var n=[],a=this.dateBox.option("interval");t-e<=i;)n.push(new Date(t)),t.setMinutes(t.getMinutes()+a);return n},_getBoundaryDate:function(e){var t=We[e],i=new Date((0,c.ensureDefined)(this.dateBox.dateOption("value"),0));return new Date(i.getFullYear(),i.getMonth(),i.getDate(),t.getHours(),t.getMinutes())},_timeListItemTemplate:function(e){var t=this.dateBox.option("displayFormat");return v.Z.format(e,this.getDisplayFormat(t))},_listItemClickHandler:function(e){if("useButtons"!==this.dateBox.option("applyValueMode")){var t=this._getDateByItemData(e.itemData);this.dateBox.option("opened",!1),this.dateBoxValue(t,e.event)}},_getDateByItemData:function(e){var t=this.dateBox.option("value"),i=e.getHours(),n=e.getMinutes(),a=e.getSeconds(),o=e.getFullYear(),s=e.getMonth(),r=e.getDate();return t?((t=this.dateBox.option("dateSerializationFormat")?V.Z.deserializeDate(t):new Date(t)).setHours(i),t.setMinutes(n),t.setSeconds(a),t.setFullYear(o),t.setMonth(s),t.setDate(r)):t=new Date(o,s,r,i,n,0,0),t},getKeyboardListener:function(){return this._widget},_updatePopupHeight:function(){var e=(0,He.T)(this.dateBox.option("dropDownOptions.height"));if(void 0===e||"auto"===e){this.dateBox._setPopupOption("height","auto");var t=(0,E.zp)(this._widget.$element()),i=.45*(0,E.Cr)(ze);this.dateBox._setPopupOption("height",Math.min(t,i))}this.dateBox._timeList&&this.dateBox._timeList.updateDimensions()},getParsedText:function(e,t){var i=this.callBase(e,t);return i&&(i=O.mergeDates(i,new Date(null),"date")),i}});var Ye=(0,C.Jj)(),Ge={calendar:"calendar",rollers:"rollers",list:"list",native:"native"},qe={date:"date",datetime:"datetime",time:"time"},Ue={Calendar:pe,DateView:Se,Native:Me,CalendarWithTime:Le,List:Ke},je=F.Z.inherit({_supportedKeys:function(){return(0,l.l)(this.callBase(),this._strategy.supportedKeys())},_renderButtonContainers:function(){this.callBase.apply(this,arguments),this._strategy.customizeButtons()},_getDefaultOptions:function(){return(0,l.l)(this.callBase(),{type:"date",showAnalogClock:!0,value:null,dateSerializationFormat:void 0,min:void 0,max:void 0,displayFormat:null,interval:30,disabledDates:null,pickerType:Ge.calendar,invalidDateMessage:Z.Z.format("dxDateBox-validation-datetime"),dateOutOfRangeMessage:Z.Z.format("validation-range"),applyButtonText:Z.Z.format("OK"),adaptivityEnabled:!1,calendarOptions:{},useHiddenSubmitElement:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{"dropDownOptions.showTitle":!0}},{device:{platform:"android"},options:{buttonsLocation:"bottom after"}},{device:function(){var e=w.Z.real().platform;return"ios"===e||"android"===e},options:{pickerType:Ge.native}},{device:function(e){var t=w.Z.real(),i=t.platform,n=t.version;return"generic"===i&&"desktop"!==e.deviceType||"android"===i&&(0,x.q)(n,[4,4])<0},options:{pickerType:Ge.rollers}},{device:{platform:"generic",deviceType:"desktop"},options:{buttonsLocation:"bottom after"}}])},_initOptions:function(e){this._userOptions=(0,l.l)({},e),this.callBase(e),this._updatePickerOptions()},_updatePickerOptions:function(){var e=this.option("pickerType"),t=this.option("type");e!==Ge.list||t!==qe.datetime&&t!==qe.date||(e=Ge.calendar),t===qe.time&&e===Ge.calendar&&(e=Ge.list),this.option("showDropDownButton","generic"!==w.Z.real().platform||e!==Ge.native),this._pickerType=e},_init:function(){this._initStrategy(),this.option((0,l.l)({},this._strategy.getDefaultOptions(),this._userOptions)),delete this._userOptions,this.callBase()},_toLowerCaseFirstLetter:function(e){return e.charAt(0).toLowerCase()+e.substr(1)},_initStrategy:function(){var e=this._getStrategyName(this._getFormatType()),t=Ue[e];this._strategy&&this._strategy.NAME===e||(this._strategy=new t(this))},_getFormatType:function(){var e=this.option("type"),t=/h|m|s/g.test(e),i="";return/d|M|Y/g.test(e)&&(i+=qe.date),t&&(i+=qe.time),i},_getStrategyName:function(e){var t=this._pickerType;return t===Ge.rollers?"DateView":t===Ge.native?"Native":e===qe.date?"Calendar":e===qe.datetime?"CalendarWithTime":"List"},_initMarkup:function(){this.$element().addClass("dx-datebox"),this.callBase(),this._refreshFormatClass(),this._refreshPickerTypeClass(),this._strategy.renderInputMinMax(this._input())},_render:function(){this.callBase(),this._formatValidationIcon()},_renderDimensions:function(){this.callBase(),this.$element().toggleClass("dx-auto-width",!this.option("width")),this._dimensionChanged()},_dimensionChanged:function(){var e,t;this.callBase(arguments),this._popup&&(null===(e=(t=this._strategy)._updatePopupHeight)||void 0===e||e.call(t))},_refreshFormatClass:function(){var e=this.$element();(0,D.S6)(qe,(function(t,i){e.removeClass("dx-datebox-"+i)})),e.addClass("dx-datebox-"+this.option("type"))},_refreshPickerTypeClass:function(){var e=this.$element();(0,D.S6)(Ge,(function(t,i){e.removeClass("dx-datebox-"+i)})),e.addClass("dx-datebox-"+this._pickerType)},_formatValidationIcon:function(){if((0,C.Ym)()){var e=this._input().get(0),t=this.option("rtlEnabled"),i=this._getClearButtonWidth(),n=this._getLongestElementDimensions(),a=parseFloat(Ye.getComputedStyle(e).width)-i,o=n.width>a,s=e.style;this.$element().toggleClass("dx-show-invalid-badge",!o),o?(void 0===this._storedPadding&&(this._storedPadding=t?n.leftPadding:n.rightPadding),t?s.paddingLeft=0:s.paddingRight=0):t?s.paddingLeft=this._storedPadding+"px":s.paddingRight=this._storedPadding+"px"}},_getClearButtonWidth:function(){var e=0;if(this._isClearButtonVisible()&&""===this._input().val()){var t=this.$element().find(".dx-clear-button-area").get(0);e=parseFloat(Ye.getComputedStyle(t).width)}return e},_getLongestElementDimensions:function(){var e=this._strategy.getDisplayFormat(this.option("displayFormat")),t=v.Z.format(O.getLongestDate(e,v.Z.getMonthNames(),v.Z.getDayNames()),e),i=this._input(),n=i.get(0),a=(0,r.l5)(i,t),o=void 0!==this._storedPadding?this._storedPadding:0;a.appendTo(this.$element());var s=parseFloat(Ye.getComputedStyle(a.get(0)).width),l=parseFloat(Ye.getComputedStyle(n).paddingRight),u=parseFloat(Ye.getComputedStyle(n).paddingLeft),d=s+u+l+o;return a.remove(),{width:d,leftPadding:u,rightPadding:l}},_getKeyboardListeners(){return this.callBase().concat([this._strategy&&this._strategy.getKeyboardListener()])},_renderPopup:function(){this.callBase(),this._popup.$wrapper().addClass("dx-datebox-wrapper"),this._renderPopupWrapper()},_popupConfig:function(){var e=this.callBase();return(0,l.l)(this._strategy.popupConfig(e),{title:this._getPopupTitle(),dragEnabled:!1})},_renderPopupWrapper:function(){if(this._popup){var e=this.$element(),t=(0,l.l)({},qe,Ge);(0,D.S6)(t,function(t,i){e.removeClass("dx-datebox-wrapper-"+i)}.bind(this)),this._popup.$wrapper().addClass("dx-datebox-wrapper-"+this.option("type")).addClass("dx-datebox-wrapper-"+this._pickerType).addClass("dx-dropdowneditor-overlay")}},_renderPopupContent:function(){this.callBase(),this._strategy.renderPopupContent()},_getFirstPopupElement:function(){return this._strategy.getFirstPopupElement()||this.callBase()},_getLastPopupElement:function(){return this._strategy.getLastPopupElement()||this.callBase()},_popupShowingHandler:function(){this.callBase(),this._strategy.popupShowingHandler()},_popupShownHandler:function(){this.callBase(),this._strategy.renderOpenedState()},_popupHiddenHandler:function(){this.callBase(),this._strategy.renderOpenedState(),this._strategy.popupHiddenHandler()},_visibilityChanged:function(e){e&&this._formatValidationIcon()},_clearValueHandler:function(e){this.option("text",""),this.callBase(e)},_readOnlyPropValue:function(){if(this._pickerType===Ge.rollers)return!0;var e=w.Z.real().platform;return!this._isNativeType()||"ios"!==e&&"android"!==e?this.callBase():this.option("readOnly")},_isClearButtonVisible:function(){return this.callBase()&&!this._isNativeType()},_renderValue:function(){var e=this.dateOption("value");return this.option("text",this._getDisplayedText(e)),this._strategy.renderValue(),this.callBase()},_setSubmitValue:function(){var e=this.dateOption("value"),t=this.option("dateSerializationFormat"),i=O.SUBMIT_FORMATS_MAP[this.option("type")],n=t?V.Z.serializeDate(e,t):O.toStandardDateFormat(e,i);this._getSubmitElement().val(n)},_getDisplayedText:function(e){var t,i=this.option("mode");if("text"===i){var n=this._strategy.getDisplayFormat(this.option("displayFormat"));t=v.Z.format(e,n)}else{var a=this._getFormatByMode(i);t=a?v.Z.format(e,a):O.toStandardDateFormat(e,i)}return t},_getFormatByMode:function(e){return(0,b.inputType)(e)?null:O.FORMATS_MAP[e]},_valueChangeEventHandler:function(e){var{text:t,type:i,validationError:n}=this.option(),a=this.dateOption("value");if(t!==this._getDisplayedText(a)){var o=this._getParsedDate(t),s=null!=a?a:this._getDateByDefault(),r=O.mergeDates(s,o,i),l=o&&"time"===i?r:o;if(this._applyInternalValidation(l).isValid){var u=this._getDisplayedText(r);s&&r&&s.getTime()===r.getTime()&&u!==t?this._renderValue():this.dateValue(r,e)}}else n&&!n.editorSpecific||(this._applyInternalValidation(a),this._applyCustomValidation(a))},_getDateByDefault:function(){return this._strategy.useCurrentDateByDefault()&&this._strategy.getDefaultDate()},_getParsedDate:function(e){var t=this._strategy.getDisplayFormat(this.option("displayFormat")),i=this._strategy.getParsedText(e,t);return null!=i?i:void 0},_applyInternalValidation(e){var t=!!this.option("text")&&null!==e,i=!!e&&(0,s.J_)(e)&&!isNaN(e.getTime()),n=i&&B.Z.dateInRange(e,this.dateOption("min"),this.dateOption("max"),this.option("type")),a=!t&&!e||n,o="";return i?n||(o=this.option("dateOutOfRangeMessage")):o=this.option("invalidDateMessage"),this.option({isValid:a,validationError:a?null:{editorSpecific:!0,message:o}}),{isValid:a,isDate:i}},_applyCustomValidation:function(e){this.validationRequest.fire({editor:this,value:this._serializeDate(e)})},_isValueChanged:function(e){var t=this.dateOption("value");return(t&&t.getTime())!==(e&&e.getTime())},_isTextChanged:function(e){return this.option("text")!==(e&&this._getDisplayedText(e)||"")},_renderProps:function(){this.callBase(),this._input().attr("autocomplete","off")},_renderOpenedState:function(){this._isNativeType()||this.callBase(),this._strategy.isAdaptivityChanged()&&this._refreshStrategy()},_getPopupTitle:function(){var e=this.option("placeholder");if(e)return e;var t=this.option("type");return t===qe.time?Z.Z.format("dxDateBox-simulatedDataPickerTitleTime"):t===qe.date||t===qe.datetime?Z.Z.format("dxDateBox-simulatedDataPickerTitleDate"):""},_refreshStrategy:function(){this._strategy.dispose(),this._initStrategy(),this.option(this._strategy.getDefaultOptions()),this._refresh()},_applyButtonHandler:function(e){var t=this._strategy.getValue();this.dateValue(t,e.event),this.callBase()},_dispose:function(){var e;this.callBase(),null===(e=this._strategy)||void 0===e||e.dispose()},_isNativeType:function(){return this._pickerType===Ge.native},_updatePopupTitle:function(){var e;null===(e=this._popup)||void 0===e||e.option("title",this._getPopupTitle())},_optionChanged:function(e){switch(e.name){case"showClearButton":case"buttons":case"isValid":case"readOnly":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"pickerType":this._updatePickerOptions({pickerType:e.value}),this._refreshStrategy(),this._refreshPickerTypeClass(),this._invalidate();break;case"type":this._updatePickerOptions({format:e.value}),this._refreshStrategy(),this._refreshFormatClass(),this._renderPopupWrapper(),this._formatValidationIcon(),this._updateValue();break;case"placeholder":this.callBase.apply(this,arguments),this._updatePopupTitle();break;case"min":case"max":var t=this.option("isValid");this._applyInternalValidation(this.dateOption("value")),t||this._applyCustomValidation(this.dateOption("value")),this._invalidate();break;case"dateSerializationFormat":case"interval":case"disabledDates":case"calendarOptions":this._invalidate();break;case"displayFormat":this.option("text",this._getDisplayedText(this.dateOption("value"))),this._renderInputValue();break;case"text":this._strategy.textChangedHandler(e.value),this.callBase.apply(this,arguments);break;case"showDropDownButton":this._formatValidationIcon(),this.callBase.apply(this,arguments);break;case"invalidDateMessage":case"dateOutOfRangeMessage":case"adaptivityEnabled":case"showAnalogClock":break;default:this.callBase.apply(this,arguments)}},_getSerializationFormat:function(){var e=this.option("value");return this.option("dateSerializationFormat")&&(0,I.Z)().forceIsoDateParsing?this.option("dateSerializationFormat"):(0,s.kE)(e)?"number":(0,s.HD)(e)?V.Z.getDateSerializationFormat(e):void 0},_updateValue:function(e){this.callBase(),this._applyInternalValidation(null!=e?e:this.dateOption("value"))},dateValue:function(e,t){var i=this._isValueChanged(e);return i&&t&&this._saveValueChangeEvent(t),i||(this._isTextChanged(e)?this._updateValue(e):""===this.option("text")&&this._applyCustomValidation(e)),this.dateOption("value",e)},dateOption:function(e,t){if(1===arguments.length)return V.Z.deserializeDate(this.option(e));this.option(e,this._serializeDate(t))},_serializeDate:function(e){var t=this._getSerializationFormat();return V.Z.serializeDate(e,t)},_clearValue:function(){var e=this.option("value");this.callBase(),null===e&&this._applyCustomValidation(null)},reset:function(){var e=this.option("value");this.callBase(),null===e&&this._applyInternalValidation(null)}});const Qe=je;var Je=i(81121),Xe=i(31517),et="dateBoxMask",tt=-1;const it=Qe.inherit({_supportedKeys(e){var t=this.callBase(e),i=e=>{var i=t[(0,o.EV)(e)];return i&&i.apply(this,[e])},n=(e,t)=>this._shouldUseOriginalHandler(e)?i.apply(this,[e]):t.apply(this,[e]);return(0,l.l)({},t,{del:e=>n(e,(e=>{this._revertPart(1),this._isAllSelected()||e.preventDefault()})),backspace:e=>n(e,(e=>{this._revertPart(tt),this._isAllSelected()||e.preventDefault()})),home:e=>n(e,(e=>{this._selectFirstPart(),e.preventDefault()})),end:e=>n(e,(e=>{this._selectLastPart(),e.preventDefault()})),escape:e=>n(e,(e=>{this._revertChanges(e)})),enter:e=>n(e,(e=>{this._enterHandler(e)})),leftArrow:e=>n(e,(e=>{this._selectNextPart(tt),e.preventDefault()})),rightArrow:e=>n(e,(e=>{this._selectNextPart(1),e.preventDefault()})),upArrow:e=>n(e,(e=>{this._upDownArrowHandler(1),e.preventDefault()})),downArrow:e=>n(e,(e=>{this._upDownArrowHandler(tt),e.preventDefault()}))})},_shouldUseOriginalHandler(e){var t=this.option("opened")&&e&&-1===["backspace","del"].indexOf((0,o.EV)(e));return!this._useMaskBehavior()||t||e&&e.altKey},_upDownArrowHandler(e){this._setNewDateIfEmpty();var t=this._getActivePartValue(this._initialMaskValue),i=this._getActivePartValue()-t;this._loadMaskValue(this._initialMaskValue),this._partIncrease(i+e,!0)},_getDefaultOptions(){return(0,l.l)(this.callBase(),{useMaskBehavior:!1,emptyDateValue:new Date(2e3,0,1,0,0,0)})},_isSingleCharKey(e){var{originalEvent:t,alt:i}=e,n=t.data||t.key;return"string"==typeof n&&1===n.length&&!i&&!(0,o.j1)(t)},_isSingleDigitKey(e){var t,i=null===(t=e.originalEvent)||void 0===t?void 0:t.data;return 1===(null==i?void 0:i.length)&&parseInt(i,10)},_useBeforeInputEvent:function(){var e=w.Z.real();return e.android&&e.version[0]>4},_keyInputHandler(e,t){var i=this._input().val();this._processInputKey(t),e.preventDefault(),i!==this._input().val()&&d.Z.trigger(this._input(),"input")},_keyboardHandler(e){var t=e.originalEvent.key,i=this.callBase(e);return!this._useMaskBehavior()||this._useBeforeInputEvent()||(Xe.Z.chrome&&"Process"===e.key&&0===e.code.indexOf("Digit")?(t=e.code.replace("Digit",""),this._processInputKey(t),this._maskInputHandler=()=>{this._renderSelectedPart()}):this._isSingleCharKey(e)&&this._keyInputHandler(e.originalEvent,t)),i},_maskBeforeInputHandler(e){this._maskInputHandler=null;var{inputType:t}=e.originalEvent;"insertCompositionText"===t&&(this._maskInputHandler=()=>{this._renderSelectedPart()});var i="deleteContentBackward"===t;if(i||"deleteContentForward"===t){var n=i?tt:1;this._maskInputHandler=()=>{this._revertPart(),this._selectNextPart(n)}}if(this._useMaskBehavior()&&this._isSingleCharKey(e)){var a=e.originalEvent.data;return this._keyInputHandler(e,a),!0}},_keyPressHandler(e){var{originalEvent:t}=e;"insertCompositionText"===(null==t?void 0:t.inputType)&&this._isSingleDigitKey(e)&&(this._processInputKey(t.data),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()),this.callBase(e),this._maskInputHandler&&(this._maskInputHandler(),this._maskInputHandler=null)},_processInputKey(e){this._isAllSelected()&&(this._activePartIndex=0),this._setNewDateIfEmpty(),isNaN(parseInt(e))?this._searchString(e):this._searchNumber(e)},_isAllSelected(){var e=this._caret();return e.end-e.start===this.option("text").length},_getFormatPattern(){if(this._formatPattern)return this._formatPattern;var e=this._strategy.getDisplayFormat(this.option("displayFormat")),t=(0,s.HD)(e)&&!v.Z._getPatternByFormat(e);return this._formatPattern=t?e:(0,y.y)((function(t){return v.Z.format(t,e)})),this._formatPattern},_setNewDateIfEmpty(){if(!this._maskValue){var e="time"===this.option("type")?new Date(null):new Date;this._maskValue=e,this._initialMaskValue=e,this._renderDateParts()}},_partLimitsReached(e){var t=String(e).length,i=this._getActivePartProp("pattern").length,n=1===i?t:Math.min(i,t),a=this._searchValue.length===n,o=parseInt(this._searchValue+"0")>e;return a||o},_searchNumber(e){var{max:t}=this._getActivePartLimits(),i=String(t).length;this._searchValue=(this._searchValue+e).substr(-i),isNaN(this._searchValue)&&(this._searchValue=e),this._setActivePartValue(this._searchValue),this._partLimitsReached(t)&&this._selectNextPart(1)},_searchString(e){if(isNaN(parseInt(this._getActivePartProp("text")))){for(var t=this._getActivePartProp("limits")(this._maskValue),i=this._searchValue+e.toLowerCase(),n=t.max-t.min,a=0;a<=n;a++)if(this._loadMaskValue(this._initialMaskValue),this._partIncrease(a+1),0===this._getActivePartProp("text").toLowerCase().indexOf(i))return void(this._searchValue=i);this._setNewDateIfEmpty(),this._searchValue&&(this._clearSearchValue(),this._searchString(e))}},_clearSearchValue(){this._searchValue=""},_revertPart:function(e){if(!this._isAllSelected()){var t=this._getActivePartValue(this.option("emptyDateValue"));this._setActivePartValue(t),this._selectNextPart(e)}this._clearSearchValue()},_useMaskBehavior(){return this.option("useMaskBehavior")&&"text"===this.option("mode")},_prepareRegExpInfo(){this._regExpInfo=(0,h.oo)(this._getFormatPattern(),v.Z);var e=this._regExpInfo.regexp,t=e.source,i=e.flags,n=new RegExp(/(\{[0-9]+,?[0-9]*\})/),a=t.split(n).map((e=>n.test(e)?e:Je.Z.convertDigits(e,!1))).join("");this._regExpInfo.regexp=new RegExp(a,i)},_initMaskState(){this._activePartIndex=0,this._formatPattern=null,this._prepareRegExpInfo(),this._loadMaskValue()},_renderMask(){this.callBase(),this._detachMaskEvents(),this._clearMaskState(),this._useMaskBehavior()&&(this._attachMaskEvents(),this._initMaskState(),this._renderDateParts())},_renderDateParts(){if(this._useMaskBehavior()){var e=this.option("text")||this._getDisplayedText(this._maskValue);e&&(this._dateParts=((e,t)=>{for(var i=t.regexp.exec(e),n=0,a=0,o=[],s=function(e){a=(n=a)+i[e].length;var s,r=t.patterns[e-1].replace(/^'|'$/g,""),l=(s=r[0],m[s]||(()=>s));o.push({index:e-1,isStub:r===i[e],caret:{start:n,end:a},pattern:r,text:i[e],limits:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return g(r[0],...t)},setter:f[r[0]]||c.noop,getter:l})},r=1;r<i.length;r++)s(r);return o})(e,this._regExpInfo),this._input().is(":hidden")||this._selectNextPart())}},_detachMaskEvents(){d.Z.off(this._input(),".dateBoxMask")},_attachMaskEvents(){d.Z.on(this._input(),(0,o.V4)("dxclick",et),this._maskClickHandler.bind(this)),d.Z.on(this._input(),(0,o.V4)("paste",et),this._maskPasteHandler.bind(this)),d.Z.on(this._input(),(0,o.V4)("drop",et),(()=>{this._renderSelectedPart()})),d.Z.on(this._input(),(0,o.V4)("compositionend",et),this._maskCompositionEndHandler.bind(this)),this._useBeforeInputEvent()&&d.Z.on(this._input(),(0,o.V4)("beforeinput",et),this._maskBeforeInputHandler.bind(this))},_renderSelectedPart(){this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()},_selectLastPart(){this.option("text")&&(this._activePartIndex=this._dateParts.length,this._selectNextPart(tt))},_selectFirstPart(){this.option("text")&&(this._activePartIndex=-1,this._selectNextPart(1))},_onMouseWheel(e){this._useMaskBehavior()&&this._partIncrease(e.delta>0?1:tt,e)},_selectNextPart(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.option("text")&&!this._disposed){e&&(this._initialMaskValue=new Date(this._maskValue));var t=(0,u.n$)(this._activePartIndex+e,0,this._dateParts.length-1);if(this._dateParts[t].isStub){if(!(0===t&&e<0||t===this._dateParts.length-1&&e>0))return void this._selectNextPart(e>=0?e+1:e-1);t=this._activePartIndex}this._activePartIndex!==t&&this._clearSearchValue(),this._activePartIndex=t,this._caret(this._getActivePartProp("caret"))}},_getRealLimitsPattern(){if("d"===this._getActivePartProp("pattern")[0])return"dM"},_getActivePartLimits(e){return this._getActivePartProp("limits")(this._maskValue,e&&this._getRealLimitsPattern())},_getActivePartValue(e){e=e||this._maskValue;var t=this._getActivePartProp("getter");return(0,s.mf)(t)?t(e):e[t]()},_addLeadingZeroes(e){var t=this._searchValue.match(/^0+/),i=this._getActivePartLimits(),n=String(i.max).length;return((t&&t[0]||"")+String(e)).substr(-n)},_setActivePartValue(e,t){t=t||this._maskValue;var i=this._getActivePartProp("setter"),n=this._getActivePartLimits();e=(0,u.Z2)(e,n.min,n.max)?e:e%10,e=this._addLeadingZeroes((0,u.n$)(e,n.min,n.max)),(0,s.mf)(i)?i(t,e):t[i](e),this._renderDisplayText(this._getDisplayedText(t)),this._renderDateParts()},_getActivePartProp(e){if(this._dateParts&&this._dateParts[this._activePartIndex])return this._dateParts[this._activePartIndex][e]},_loadMaskValue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dateOption("value");this._maskValue=e&&new Date(e),this._initialMaskValue=e&&new Date(e)},_saveMaskValue(){var e=this._maskValue&&new Date(this._maskValue);e&&"date"===this.option("type")&&e.setHours(0,0,0,0),this._initialMaskValue=new Date(e),this.dateOption("value",e)},_revertChanges(){this._loadMaskValue(),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts()},_renderDisplayText(e){this.callBase(e),this._useMaskBehavior()&&this.option("text",e)},_partIncrease(e,t){this._setNewDateIfEmpty();var{max:i,min:n}=this._getActivePartLimits(t),a=i-n;1===a&&a++;var o=e+this._getActivePartValue();o>i?o=this._applyLimits(o,{limitBase:n,limitClosest:i,limitDelta:a}):o<n&&(o=this._applyLimits(o,{limitBase:i,limitClosest:n,limitDelta:a})),this._setActivePartValue(o)},_applyLimits(e,t){var{limitBase:i,limitClosest:n,limitDelta:a}=t,o=(e-n)%a;return o?i+o-1*(0,u.Xx)(o):n},_maskClickHandler(){this.option("text")&&(this._activePartIndex=((e,t)=>{for(var i=0;i<e.length;i++){var n=e[i].caret.end>=t;if(!e[i].isStub&&n)return i}return null})(this._dateParts,this._caret().start),this._isAllSelected()||((0,s.$K)(this._activePartIndex)?this._caret(this._getActivePartProp("caret")):this._selectLastPart()))},_maskCompositionEndHandler(e){this._input().val(this._getDisplayedText(this._maskValue)),this._selectNextPart(),this._maskInputHandler=()=>{this._renderSelectedPart()}},_maskPasteHandler(e){var t=this._replaceSelectedText(this.option("text"),this._caret(),(0,r.Zx)(e)),i=v.Z.parse(t,this._getFormatPattern());i&&this._isDateValid(i)&&(this._maskValue=i,this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts(),this._selectNextPart()),e.preventDefault()},_isDateValid:e=>(0,s.J_)(e)&&!isNaN(e),_isValueDirty(){var e=this.dateOption("value");return(this._maskValue&&this._maskValue.getTime())!==(e&&e.getTime())},_fireChangeEvent(){this._clearSearchValue(),this._isValueDirty()&&d.Z.trigger(this._input(),"change")},_enterHandler(e){this._fireChangeEvent(),this._selectNextPart(1),e.preventDefault()},_focusOutHandler(e){this._useMaskBehavior()&&!e.isDefaultPrevented()?(this._fireChangeEvent(),this.callBase(e),this._selectFirstPart(e)):this.callBase(e)},_valueChangeEventHandler(e){var t=this.option("text");this._useMaskBehavior()?(this._saveValueChangeEvent(e),t?null===this._maskValue&&this._loadMaskValue(t):this._maskValue=null,this._saveMaskValue()):this.callBase(e)},_optionChanged(e){switch(e.name){case"useMaskBehavior":this._renderMask();break;case"displayFormat":case"mode":this.callBase(e),this._renderMask();break;case"value":this._loadMaskValue(),this.callBase(e),this._renderDateParts();break;case"emptyDateValue":break;default:this.callBase(e)}},_clearMaskState(){this._clearSearchValue(),delete this._dateParts,delete this._activePartIndex,delete this._maskValue},reset(){this._clearMaskState(),this._activePartIndex=0,this.callBase()},_clean(){this.callBase(),this._detachMaskEvents(),this._clearMaskState()}});(0,a.Z)("dxDateBox",it)},97747:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Fe});var n=i(87462),a=i(55611),o=i(45340),s=i(64565),r=i(68760),l=i(72264),u=i(44432),d=i(50450),h=i(63419),c=i(37045),p=i(44099),_=i(33753),m=i(81965),f=i(44804),g=i(46178),v=i(93150),y=i(18274),C=i(45014);class D{constructor(){this._map={}}_findWidgetInstance(e){var t;return(0,h.S6)(this._map,(function(i,n){var{widgetInstance:a,item:o}=n;if(e(o))return t=a,!1})),t}_findFieldByCondition(e,t){var i;return(0,h.S6)(this._map,(function(n,a){if(e(a))return i="guid"===t?n:a[t],!1})),i}clear(){this._map={}}removeItemsByItems(e){(0,h.S6)(e.getItems(),(e=>this.removeItemByKey(e)))}removeItemByKey(e){delete this._map[e]}add(e){var t=e.guid||new r.Z;return this._map[t]=e,t}addItemsOrExtendFrom(e){e.each(((e,t)=>{this._map[e]?(t.widgetInstance&&(this._map[e].widgetInstance=t.widgetInstance),this._map[e].$itemContainer=t.$itemContainer):this.add({item:t.item,widgetInstance:t.widgetInstance,guid:e,$itemContainer:t.$itemContainer})}))}extendRunTimeItemInfoByKey(e,t){this._map[e]&&(this._map[e]=(0,p.l)(this._map[e],t))}findWidgetInstanceByItem(e){return this._findWidgetInstance((t=>t===e))}findGroupOrTabLayoutManagerByPath(e){return this._findFieldByCondition((t=>{var{path:i}=t;return i===e}),"layoutManager")}findKeyByPath(e){return this._findFieldByCondition((t=>{var{path:i}=t;return i===e}),"guid")}findWidgetInstanceByName(e){return this._findWidgetInstance((t=>e===t.name))}findWidgetInstanceByDataField(e){return this._findWidgetInstance((t=>e===((0,d.HD)(t)?t:t.dataField)))}findItemContainerByItem(e){for(var t in this._map)if(this._map[t].item===e)return this._map[t].$itemContainer;return null}findItemIndexByItem(e){return this._findFieldByCondition((t=>{var{item:i}=t;return i===e}),"itemIndex")}findPreparedItemByItem(e){return this._findFieldByCondition((t=>{var{item:i}=t;return i===e}),"preparedItem")}getItems(){return this._map}each(e){(0,h.S6)(this._map,(function(t,i){e(t,i)}))}removeItemsByPathStartWith(e){Object.keys(this._map).filter((t=>!!this._map[t].path&&this._map[t].path.indexOf(e,0)>-1)).forEach((e=>this.removeItemByKey(e)))}}var x=i(98089),b=i(42660),w=i(79303),I=i(53893),B=i(49784);class S{constructor(e){this._options=e,this._itemsRunTimeInfo=this._options.itemsRunTimeInfo}findInstance(){return this._itemsRunTimeInfo.findWidgetInstanceByItem(this._options.item)}findItemContainer(){return this._itemsRunTimeInfo.findItemContainerByItem(this._options.item)}findPreparedItem(){return this._itemsRunTimeInfo.findPreparedItemByItem(this._options.item)}tryExecute(){B.Z.abstract()}}var V=i(86403),T=(e,t)=>"".concat(t?"tabs":"items","[").concat(e,"]"),M=(e,t)=>(0,d.$K)(e)&&(0,d.$K)(t)?"".concat(e,".").concat(t):e||t,k=e=>e?e.replace(/\s/g,""):void 0,O=(e,t)=>"".concat(e,".").concat(t),F=e=>{var t=e.split(".");return t[t.length-1].replace(/\[\d+]/,"")},Z=e=>e.indexOf("tabs")>-1,E=(e,t,i)=>{var n=e.indexOf(t);if(n>-1)return T(n,i);for(var a=0;a<e.length;a++){var o=e[a],s=o.tabs||o.items;if(s){var r=E(s,t,o.tabs);if(r)return M(T(a,i),r)}}};class A extends S{tryExecute(){var{value:e}=this._options,t=this.findInstance();return!!t&&(t.option(e),!0)}}class R extends S{tryExecute(){var e=this.findInstance();if(e){var{optionName:t,item:i,value:n}=this._options,a=this._itemsRunTimeInfo.findItemIndexByItem(i);if(a>=0)return e.option(O("items[".concat(a,"]"),t),n),!0}return!1}}class P extends S{tryExecute(){var e=this.findPreparedItem();return!(null==e||!e._prepareGroupItemTemplate||!e._renderGroupContentTemplate||(e._prepareGroupItemTemplate(this._options.item.template),e._renderGroupContentTemplate(),0))}}class $ extends S{tryExecute(){var e=this.findInstance();if(e){var{value:t}=this._options;return e.option("dataSource",t),!0}return!1}}class L extends S{tryExecute(){var{item:e}=this._options,t=this.findInstance(),i=t&&(0,V.aT)(t.$element()[0],"dxValidator");if(i&&e){var n=e=>"required"===e.type,a=(i.option("validationRules")||[]).some(n),o=(e.validationRules||[]).some(n);if(!a&&!o||a&&o)return i.option("validationRules",e.validationRules),!0}return!1}}class N extends S{tryExecute(){var e=this.findItemContainer(),{previousValue:t,value:i}=this._options;return!!e&&(e.removeClass(t).addClass(i),!0)}}var H=i(30057),z=i(22866),W=i(78852),K=i(14324),Y=i(19071),G=i(27238),q=i(76819),U=i(57945),j=(0,y.Jj)(),Q="dx-responsivebox-screen-",J="dxBoxItemData",X=U.Z.inherit({_getDefaultOptions:function(){return(0,p.l)(this.callBase(),{rows:[],cols:[],screenByWidth:null,singleColumnScreen:"",height:"100%",width:"100%",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,onLayoutChanged:null,currentScreenFactor:void 0,_layoutStrategy:void 0})},_init:function(){this.option("screenByWidth")||this._options.silent("screenByWidth",y.$n),this.callBase(),this._initLayoutChangedAction()},_initLayoutChangedAction:function(){this._layoutChangedAction=this._createActionByOption("onLayoutChanged",{excludeValidators:["disabled","readonly"]})},_itemClass:function(){return"dx-box-item"},_itemDataKey:function(){return J},_initMarkup:function(){this.callBase(),this.$element().addClass("dx-responsivebox"),this._updateRootBox()},_updateRootBox:function(){clearTimeout(this._updateTimer),this._updateTimer=setTimeout(function(){this._$root&&o.Z.triggerHandler(this._$root,"dxupdate")}.bind(this))},_renderItems:function(){this._setScreenSize(),this._screenItems=this._itemsByScreen(),this._prepareGrid(),this._spreadItems(),this._layoutItems(),this._linkNodeToItem()},_itemOptionChanged:function(e){var t=this._findItemElementByItem(e);t.length&&(this._refreshItem(t,e),this._clearItemNodeTemplates(),this._update(!0))},_setScreenSize:function(){var e=this._getCurrentScreen();this._removeScreenSizeClass(),this.$element().addClass(Q+e),this.option("currentScreenFactor",e)},_removeScreenSizeClass:function(){var e=this.option("currentScreenFactor");e&&this.$element().removeClass(Q+e)},_prepareGrid:function(){var e=this._grid=[];this._prepareRowsAndCols(),(0,h.S6)(this._rows,function(){var t=[];e.push(t),(0,h.S6)(this._cols,function(){t.push(this._createEmptyCell())}.bind(this))}.bind(this))},getSingleColumnRows:function(){var e=this.option("rows"),t=this._screenItems.length;if(e.length){for(var i=this._filterByScreen(e),n=[],a=0;a<t;a++){var o=this._defaultSizeConfig();a<i.length&&(0,d.$K)(i[a].shrink)&&(o.shrink=i[a].shrink),n.push(o)}return n}return this._defaultSizeConfig(t)},_prepareRowsAndCols:function(){this._isSingleColumnScreen()?(this._prepareSingleColumnScreenItems(),this._rows=this.getSingleColumnRows(),this._cols=this._defaultSizeConfig(1)):(this._rows=this._sizesByScreen(this.option("rows")),this._cols=this._sizesByScreen(this.option("cols")))},_isSingleColumnScreen:function(){return this._screenRegExp().test(this.option("singleColumnScreen"))||!this.option("rows").length||!this.option("cols").length},_prepareSingleColumnScreenItems:function(){this._screenItems.sort((function(e,t){return e.location.row-t.location.row||e.location.col-t.location.col})),(0,h.S6)(this._screenItems,(function(e,t){(0,p.l)(t.location,{row:e,col:0,rowspan:1,colspan:1})}))},_sizesByScreen:function(e){return(0,h.UI)(this._filterByScreen(e),function(e){return(0,p.l)(this._defaultSizeConfig(),e)}.bind(this))},_createDefaultSizeConfig:function(){return{ratio:1,baseSize:0,minSize:0,maxSize:0}},_defaultSizeConfig:function(e){var t=this._createDefaultSizeConfig();if(!arguments.length)return t;for(var i=[],n=0;n<e;n++)i.push(t);return i},_filterByScreen:function(e){var t=this._screenRegExp();return(0,l.grep)(e,(function(e){return!e.screen||t.test(e.screen)}))},_screenRegExp:function(){var e=this._getCurrentScreen();return new RegExp("(^|\\s)"+e+"($|\\s)","i")},_getCurrentScreen:function(){var e=this._screenWidth();return this.option("screenByWidth")(e)},_screenWidth:function(){return(0,y.Ym)()?(0,H.dz)(j):1920},_createEmptyCell:function(){return{item:{},location:{colspan:1,rowspan:1}}},_spreadItems:function(){(0,h.S6)(this._screenItems,function(e,t){var i=t.location||{},n=i.col,a=i.row,o=this._grid[a],s=o&&o[n];this._occupyCells(s,t)}.bind(this))},_itemsByScreen:function(){return this.option("items").reduce(((e,t)=>{var i=t.location||{};return i=(0,d.PO)(i)?[i]:i,this._filterByScreen(i).forEach((i=>{e.push({item:t,location:(0,p.l)({rowspan:1,colspan:1},i)})})),e}),[])},_occupyCells:function(e,t){e&&!this._isItemCellOccupied(e,t)&&((0,p.l)(e,t),this._markSpanningCell(e))},_isItemCellOccupied:function(e,t){if(!(0,d.Qr)(e.item))return!0;var i=!1;return this._loopOverSpanning(t.location,(function(e){i=i||!(0,d.Qr)(e.item)})),i},_loopOverSpanning:function(e,t){var i=e.row+e.rowspan-1,n=e.col+e.colspan-1,a=Math.min(i,this._rows.length-1),o=Math.min(n,this._cols.length-1);e.rowspan-=i-a,e.colspan-=n-o;for(var s=e.row;s<=a;s++)for(var r=e.col;r<=o;r++)s===e.row&&r===e.col||t(this._grid[s][r])},_markSpanningCell:function(e){this._loopOverSpanning(e.location,(function(t){(0,p.l)(t,{item:e.item,spanningCell:e})}))},_linkNodeToItem:function(){(0,h.S6)(this._itemElements(),(function(e,t){var i=(0,a.Z)(t),n=i.data(J);n.box||(n.node=i.children())}))},_layoutItems:function(){var e=this._grid.length,t=e&&this._grid[0].length;if(e||t){var i=this._layoutBlock({direction:"col",row:{start:0,end:e-1},col:{start:0,end:t-1}}),n=this._prepareBoxConfig(i.box||{direction:"row",items:[(0,p.l)(i,{ratio:1})]});(0,p.l)(n,this._rootBoxConfig(n.items)),this._$root=(0,a.Z)("<div>").appendTo(this._itemContainer()),this._createComponent(this._$root,q.Z,n)}},_rootBoxConfig:function(e){var t=(0,h.S6)(e,function(e,t){this._needApplyAutoBaseSize(t)&&(0,p.l)(t,{baseSize:"auto"})}.bind(this));return(0,p.l)({width:"100%",height:"100%",items:t,itemTemplate:this._getTemplateByOption("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this._createActionByOption("onItemHold"),onItemClick:this._createActionByOption("onItemClick"),onItemContextMenu:this._createActionByOption("onItemContextMenu"),onItemRendered:this._createActionByOption("onItemRendered")},{_layoutStrategy:this.option("_layoutStrategy")})},_needApplyAutoBaseSize:function(e){return!(e.baseSize||e.minSize&&"auto"!==e.minSize||e.maxSize&&"auto"!==e.maxSize)},_prepareBoxConfig:function(e){return(0,p.l)(e||{},{crossAlign:"stretch",onItemStateChanged:this.option("onItemStateChanged")})},_layoutBlock:function(e){return this._isSingleItem(e)?this._itemByCell(e.row.start,e.col.start):this._layoutDirection(e)},_isSingleItem:function(e){var t=this._grid[e.row.start][e.col.start].location,i=e.row.end-e.row.start==t.rowspan-1,n=e.col.end-e.col.start==t.colspan-1;return i&&n},_itemByCell:function(e,t){var i=this._grid[e][t];return i.spanningCell?null:i.item},_layoutDirection:function(e){for(var t,i=[],n=e.direction,a=this._crossDirection(n);t=this._nextBlock(e);){if(this._isBlockIndivisible(e.prevBlockOptions,t))throw G.Z.Error("E1025");var o=this._layoutBlock({direction:a,row:t.row,col:t.col,prevBlockOptions:e});o&&((0,p.l)(o,this._blockSize(t,a)),i.push(o)),e[a].start=t[a].end+1}return{box:this._prepareBoxConfig({direction:n,items:i})}},_isBlockIndivisible:function(e,t){return e&&e.col.start===t.col.start&&e.col.end===t.col.end&&e.row.start===t.row.start&&e.row.end===t.row.end},_crossDirection:function(e){return"col"===e?"row":"col"},_nextBlock:function(e){var t=e.direction,i=this._crossDirection(t),n=e[t].start,a=e[t].end,o=e[i].start;if(o>e[i].end)return null;for(var s=1,r=o;r<o+s;r++){for(var l=1,u=n;u<=a;u++){var d=this._cellByDirection(t,u,r);l=Math.max(l,d.location[i+"span"])}var h=r+l,c=o+s;h>c&&(s+=h-c)}var p={};return p[t]={start:n,end:a},p[i]={start:o,end:o+s-1},p},_cellByDirection:function(e,t,i){return"col"===e?this._grid[i][t]:this._grid[t][i]},_blockSize:function(e,t){for(var i="row"===t?"auto":0,n="row"===t?this._rows:this._cols,a=(0,p.l)(this._createDefaultSizeConfig(),{ratio:0}),o=e[t].start;o<=e[t].end;o++){var s=n[o];a.ratio+=s.ratio,a.baseSize+=s.baseSize,a.minSize+=s.minSize,a.maxSize+=s.maxSize,(0,d.$K)(s.shrink)&&(a.shrink=s.shrink)}return a.minSize=a.minSize?a.minSize:i,a.maxSize=a.maxSize?a.maxSize:"auto",this._isSingleColumnScreen()&&(a.baseSize="auto"),a},_update:function(e){var t=this._$root;this._renderItems(),t&&(e?t.remove():(t.detach(),this._saveAssistantRoot(t))),this._layoutChangedAction(),this._updateRootBox()},_saveAssistantRoot:function(e){this._assistantRoots=this._assistantRoots||[],this._assistantRoots.push(e)},_dispose:function(){clearTimeout(this._updateTimer),this._clearItemNodeTemplates(),this._cleanUnusedRoots(),this.callBase.apply(this,arguments)},_cleanUnusedRoots:function(){this._assistantRoots&&(0,h.S6)(this._assistantRoots,(function(e,t){(0,a.Z)(t).remove()}))},_clearItemNodeTemplates:function(){(0,h.S6)(this.option("items"),(function(){delete this.node}))},_toggleVisibility:function(e){this.callBase(e),e&&this._updateRootBox()},_attachClickEvent:l.noop,_optionChanged:function(e){switch(e.name){case"rows":case"cols":case"screenByWidth":case"_layoutStrategy":case"singleColumnScreen":this._clearItemNodeTemplates(),this._invalidate();break;case"width":case"height":this.callBase(e),this._update();break;case"onLayoutChanged":this._initLayoutChangedAction();break;case"itemTemplate":this._clearItemNodeTemplates(),this.callBase(e);break;case"currentScreenFactor":break;default:this.callBase(e)}},_dimensionChanged:function(){this._getCurrentScreen()!==this.option("currentScreenFactor")&&this._update()},repaint:function(){this._update()}});(0,s.Z)("dxResponsiveBox",X);const ee=X;var te="dx-form-group",ie="dx-col-",ne="dx-field-item",ae="dx-layout-manager-one-col",oe="dx-field-item-label-content",se="dx-root-simple-item",re="dx-field-item-tab",le="group-col-count",ue="simple",de=(i(75895),i(74341),i(16699),i(35561),i(6425),i(16012)),he=i(38192),ce=i(73386),pe=i(23364),_e=i(63366),me=["dxTagBox","dxRangeSlider"],fe=["dxCalendar","dxCheckBox","dxHtmlEditor","dxRadioGroup","dxRangeSlider","dxSlider","dxSwitch"];function ge(e,t){var{showRequiredMark:i,requiredMark:n,showOptionalMark:a,optionalMark:o}=e;return{showRequiredMark:i&&t,requiredMark:n,showOptionalMark:a&&!t,optionalMark:o}}var ve=["$FIELD_ITEM_LABEL_CONTENT_CLASS"];function ye(e){var{text:t,id:i,location:n,alignment:o,labelID:s=null,markOptions:r={}}=e;return!(0,d.$K)(t)||t.length<=0?null:(0,a.Z)("<label>").addClass("dx-field-item-label dx-field-item-label-location-"+n).attr("for",i).attr("id",s).css("textAlign",o).append((0,a.Z)("<span>").addClass(oe).append((0,a.Z)("<span>").addClass("dx-field-item-label-text").text(t),function(e){var t=function(e){var{showRequiredMark:t,requiredMark:i,showOptionalMark:n,optionalMark:a}=e;return t||n?String.fromCharCode(160)+(t?i:a):""}(e);return""===t?null:(0,a.Z)("<span>").addClass(e.showRequiredMark?"dx-field-item-required-mark":"dx-field-item-optional-mark").text(t)}(r)))}function Ce(e,t,i){var n,a,o="".concat(t," > .").concat("dx-field-item-label",":not(.").concat("dx-field-item-label-location-","top) > .").concat(oe),s=e.find(o),r=s.length,l=0;for(a=0;a<r;a++)(n=De({$FIELD_ITEM_LABEL_CONTENT_CLASS:s[a],location:"left",markOptions:i}))>l&&(l=n);for(a=0;a<r;a++)s[a].style.width=l+"px"}function De(e){var{$FIELD_ITEM_LABEL_CONTENT_CLASS:t}=e,i=(0,_e.Z)(e,ve),n=(0,a.Z)("<div>").addClass("dx-widget").addClass("dx-layout-manager-hidden-label").appendTo("body");i.text=" ";var o=ye(i).appendTo(n).find(".dx-field-item-label-text")[0];o.innerHTML=function(e){var t,i,n=e.children.length,a="";for(i=0;i<n;i++)t=e.children[i],a+=(0,ce.xb)(t.innerText)?t.innerHTML:t.innerText;return a}(t);var s=o.offsetWidth;return n.remove(),s}function xe(e){var{$parent:t,rootElementCssClassList:i}=e;return(0,a.Z)("<div>").addClass("dx-field-empty-item").html("&nbsp;").addClass(i.join(" ")).appendTo(t)}var be="flex",we=g.Z.inherit({_getDefaultOptions:function(){return(0,p.l)(this.callBase(),{layoutData:{},readOnly:!1,colCount:1,colCountByScreen:void 0,labelLocation:"left",onFieldDataChanged:null,onEditorEnterKey:null,customizeItem:null,alignItemLabels:!0,minColWidth:200,showRequiredMark:!0,screenByWidth:null,showOptionalMark:!1,requiredMark:"*",labelMode:"outside",optionalMark:f.Z.format("dxForm-optionalMark"),requiredMessage:f.Z.getFormatter("dxForm-requiredMessage")})},_setOptionsByReference:function(){this.callBase(),(0,p.l)(this._optionsByReference,{layoutData:!0,validationGroup:!0})},_init:function(){var e=this.option("layoutData");this.callBase(),this._itemWatchers=[],this._itemsRunTimeInfo=new D,this._updateReferencedOptions(e),this._initDataAndItems(e)},_dispose:function(){this.callBase(),this._cleanItemWatchers()},_initDataAndItems:function(e){this._syncDataWithItems(),this._updateItems(e)},_syncDataWithItems:function(){var e=this.option("layoutData"),t=this.option("items");(0,d.$K)(t)&&t.forEach((t=>{var i;t.dataField&&void 0===this._getDataByField(t.dataField)&&(t.editorOptions&&(i=t.editorOptions.value),((0,d.$K)(i)||t.dataField in e)&&this._updateFieldValue(t.dataField,i))}))},_getDataByField:function(e){return e?this.option("layoutData."+e):null},_isCheckboxUndefinedStateEnabled:function(e){var{allowIndeterminateState:t,editorType:i,dataField:n}=e;if(!0===t&&"dxCheckBox"===i){var a=["layoutData",...n.split(".")],o=a.pop(),s=this.option(a.join("."));return s&&o in s}return!1},_updateFieldValue:function(e,t){var i=this.option("layoutData"),n=t;!z.Z.isWrapped(i[e])&&(0,d.$K)(e)?this.option("layoutData."+e,n):z.Z.isWritableWrapped(i[e])&&(n=(0,d.mf)(n)?n():n,i[e](n)),this._triggerOnFieldDataChanged({dataField:e,value:n})},_triggerOnFieldDataChanged:function(e){this._createActionByOption("onFieldDataChanged")(e)},_updateItems:function(e){var t=this,i=this.option("items"),n=(0,d.$K)(i),a=t.option("customizeItem"),o=n?i:this._generateItemsByData(e);if((0,d.$K)(o)){var s=[];(0,h.S6)(o,(function(e,i){t._isAcceptableItem(i)&&(i=t._processItem(i),a&&a(i),(0,d.Kn)(i)&&!1!==z.Z.unwrap(i.visible)&&s.push(i))})),t._itemWatchers.length&&n||t._updateItemWatchers(o),this._setItems(s),this._sortItems()}},_cleanItemWatchers:function(){this._itemWatchers.forEach((function(e){e()})),this._itemWatchers=[]},_updateItemWatchers:function(e){var t=this,i=t._getWatch();e.forEach((function(e){(0,d.Kn)(e)&&(0,d.$K)(e.visible)&&(0,d.mf)(i)&&t._itemWatchers.push(i((function(){return z.Z.unwrap(e.visible)}),(function(){t._updateItems(t.option("layoutData")),t.repaint()}),{skipImmediate:!0}))}))},_generateItemsByData:function(e){var t=[];return(0,d.$K)(e)&&(0,h.S6)(e,(function(e){t.push({dataField:e})})),t},_isAcceptableItem:function(e){var t=e.dataField||e,i=this._getDataByField(t);return!((0,d.mf)(i)&&!z.Z.isWrapped(i))},_processItem:function(e){if("string"==typeof e&&(e={dataField:e}),"object"!=typeof e||e.itemType||(e.itemType=ue),!(0,d.$K)(e.editorType)&&(0,d.$K)(e.dataField)){var t=this._getDataByField(e.dataField);e.editorType=(0,d.$K)(t)?this._getEditorTypeByDataType((0,d.dt)(t)):"dxTextBox"}var i;return"dxCheckBox"===e.editorType&&(e.allowIndeterminateState=null===(i=e.allowIndeterminateState)||void 0===i||i),e},_getEditorTypeByDataType:function(e){switch(e){case"number":return"dxNumberBox";case"date":return"dxDateBox";case"boolean":return"dxCheckBox";default:return"dxTextBox"}},_sortItems:function(){(0,c.Sq)(this._items,"visibleIndex"),this._sortIndexes()},_sortIndexes:function(){this._items.sort((function(e,t){var i=e.visibleIndex,n=t.visibleIndex;return i>n?1:i<n?-1:0}))},_initMarkup:function(){this._itemsRunTimeInfo.clear(),this.$element().addClass("dx-layout-manager"),this.callBase(),this._renderResponsiveBox()},_hasBrowserFlex:function(){return(0,Y.Hj)(be)===be},_renderResponsiveBox:function(){var e=[];if(this._items&&this._items.length){var t=this._getColCount(),i=(0,a.Z)("<div>").appendTo(this.$element());this._prepareItemsWithMerging(t);var n=this._generateLayoutItems();this._responsiveBox=this._createComponent(i,ee,this._getResponsiveBoxConfig(n,t,e)),(0,y.Ym)()||this._renderTemplates(e)}},_itemStateChangedHandler:function(e){this._refresh()},_renderTemplates:function(e){var t=this;(0,h.S6)(e,(function(e,i){switch(i.itemType){case"empty":xe(i);break;case"button":t._renderButtonItem(i);break;default:t._renderFieldItem(i)}}))},_getResponsiveBoxConfig:function(e,t,i){var n=this,o=n.option("colCountByScreen"),s=o&&o.xs;return{onItemStateChanged:this._itemStateChangedHandler.bind(this),_layoutStrategy:n._hasBrowserFlex()?be:"fallback",onLayoutChanged:function(){var e=n.option("onLayoutChanged"),t=n.isSingleColumnMode();e&&(n.$element().toggleClass(ae,t),e(t))},onContentReady:function(e){(0,y.Ym)()&&n._renderTemplates(i),n.option("onLayoutChanged")&&n.$element().toggleClass(ae,n.isSingleColumnMode(e.component))},itemTemplate:function(e,o,s){if(e.location){var r=(0,a.Z)(s),l=e.location.row*t,u=n._items[e.location.col+l];if(u){var h=[u.cssClass];r.toggleClass("dx-single-column-item-content",n.isSingleColumnMode(this)),0===e.location.row&&h.push("dx-first-row"),0===e.location.col&&h.push("dx-first-col"),u.itemType===ue&&n.option("isRoot")&&r.addClass(se);var c=e.location.col===t-1||e.location.col+e.location.colspan===t,p=n._getRowsCount(),_=e.location.row===p-1;c&&h.push("dx-last-col"),_&&h.push("dx-last-row"),"empty"!==u.itemType&&(h.push(ne),h.push(n.option("cssItemClass")),(0,d.$K)(u.col)&&h.push("dx-col-"+u.col)),i.push({itemType:u.itemType,item:u,$parent:r,rootElementCssClassList:h})}}},cols:n._generateRatio(t),rows:n._generateRatio(n._getRowsCount(),!0),dataSource:e,screenByWidth:n.option("screenByWidth"),singleColumnScreen:!s&&"xs"}},_getColCount:function(){var e=this.option("colCount"),t=this.option("colCountByScreen");if(t){var i=this.option("form").getTargetScreenFactor();i||(i=(0,y.Ym)()?(0,y.Wf)(this.option("screenByWidth")):"lg"),e=t[i]||e}if("auto"===e){if(this._cashedColCount)return this._cashedColCount;this._cashedColCount=e=this._getMaxColCount()}return e<1?1:e},_getMaxColCount:function(){if(!(0,y.Ym)())return 1;var e=this.option("minColWidth"),t=(0,H.dz)(this.$element()),i=this._items.length,n=Math.floor(t/e)||1;return i<n?i:n},isCachedColCountObsolete:function(){return this._cashedColCount&&this._getMaxColCount()!==this._cashedColCount},_prepareItemsWithMerging:function(e){var t,i,n,a,o=this._items.slice(0),s=[];for(a=0;a<o.length;a++)if(t=o[a],s.push(t),(this.option("alignItemLabels")||t.alignItemLabels||t.colSpan)&&(t.col=this._getColByIndex(s.length-1,e)),t.colSpan>1&&t.col+t.colSpan<=e){for(i=[],n=0;n<t.colSpan-1;n++)i.push({merged:!0});s=s.concat(i)}else delete t.colSpan;this._setItems(s)},_getColByIndex:function(e,t){return e%t},_setItems:function(e){this._items=e,this._cashedColCount=null},_generateLayoutItems:function(){var e,t,i=this._items,n=this._getColCount(),a=[];for(t=0;t<i.length;t++)if(!(e=i[t]).merged){var o={location:{row:parseInt(t/n),col:this._getColByIndex(t,n)}};(0,d.$K)(e.disabled)&&(o.disabled=e.disabled),(0,d.$K)(e.visible)&&(o.visible=e.visible),(0,d.$K)(e.colSpan)&&(o.location.colspan=e.colSpan),(0,d.$K)(e.rowSpan)&&(o.location.rowspan=e.rowSpan),a.push(o)}return a},_renderEmptyItem:function(e){xe({$container:e})},_renderButtonItem:function(e){var{item:t,$parent:i,rootElementCssClassList:n}=e,{$rootElement:o,buttonInstance:s}=function(e){var t,{item:i,$parent:n,rootElementCssClassList:o,validationGroup:s,createComponentCallback:r}=e,l=(0,a.Z)("<div>").appendTo(n).addClass(o.join(" ")).addClass("dx-field-button-item").css("textAlign",(t=i.horizontalAlignment,(0,d.$K)(t)?t:"right"));return n.css("justifyContent",function(e){switch(e){case"center":return"center";case"bottom":return"flex-end";default:return"flex-start"}}(i.verticalAlignment)),{$rootElement:l,buttonInstance:r((0,a.Z)("<div>").appendTo(l),"dxButton",(0,p.l)({validationGroup:s},i.buttonOptions))}}({item:t,$parent:i,rootElementCssClassList:n,validationGroup:this.option("validationGroup"),createComponentCallback:this._createComponent.bind(this)});this._itemsRunTimeInfo.add({item:t,widgetInstance:s,guid:t.guid,$itemContainer:o})},_renderFieldItem:function(e){var t,{item:i,$parent:n,rootElementCssClassList:s}=e,l=this._getDataByField(i.dataField),u=!1;if(void 0===l){var{allowIndeterminateState:_,editorType:f,dataField:g}=i;u=this._isCheckboxUndefinedStateEnabled({allowIndeterminateState:_,editorType:f,dataField:g})}var v=i.dataField||i.name,{$fieldEditorContainer:y,widgetInstance:C,$rootElement:D}=function(e){var{$parent:t,rootElementCssClassList:i,formOrLayoutManager:n,createComponentCallback:s,useFlexLayout:r,labelOptions:l,labelNeedBaselineAlign:u,labelLocation:d,needRenderLabel:h,formLabelLocation:c,item:p,editorOptions:_,isSimpleItem:f,isRequired:g,template:v,helpID:y,labelID:C,name:D,helpText:x,requiredMessageTemplate:b,validationGroup:w}=e,B=(0,a.Z)("<div>").addClass(i.join(" ")).appendTo(t);B.addClass(g?"dx-field-item-required":"dx-field-item-optional"),f&&r&&B.addClass("dx-flex-layout"),f&&u&&B.addClass("dx-field-item-label-align");var S=(0,a.Z)("<div>");S.data("dx-form-item",p),S.addClass("dx-field-item-content").addClass("dx-field-item-content-location-"+{right:"left",left:"right",top:"bottom"}[c]);var V,T=h?ye(l):null;if(T?(B.append(T),"top"!==d&&"left"!==d||B.append(S),"right"===d&&B.prepend(S),"top"===d?B.addClass("dx-label-v-align"):B.addClass("dx-label-h-align"),"dxCheckBox"!==p.editorType&&"dxSwitch"!==p.editorType||o.Z.on(T,de.u,(function(){o.Z.trigger(S.children(),de.u)}))):B.append(S),v)v.render({container:(0,m.u)(S),model:{dataField:p.dataField,editorType:p.editorType,editorOptions:_,component:n,name:p.name}});else{var M=(0,a.Z)("<div>").appendTo(S);try{(V=s(M,p.editorType,_)).setAria("describedby",y),C&&V.setAria("labelledby",C),V.setAria("required",g)}catch(e){G.Z.log("E1035",e.message)}}var k=S.children().first(),O=k.hasClass("dx-template-wrapper")?k.children().first():k,F=O&&O.data("dx-validation-target");if(F){var Z,E=p.label&&p.label.text,A=E?null:D,R=E?p.label.text:A&&(0,he.GK)(A);if(f)if(p.validationRules)Z=p.validationRules;else{var P=(0,ce.WU)(b,R||"");Z=p.isRequired?[{type:"required",message:P}]:null}if(Array.isArray(Z)&&Z.length&&s(O,pe.default,{validationRules:Z,validationGroup:w,dataGetter:function(){return{formItem:p}}}),(0,I.x2)()){var $=function(e){(0,a.Z)(e.element).parents(".dx-field-item-content-wrapper").toggleClass("dx-invalid",!1===e.component.option("isValid")&&(e.component._isFocused()||"always"===e.component.option("validationMessageMode")))};F.on("optionChanged",(e=>{"isValid"===e.name&&$(e)})),F.on("focusIn",$).on("focusOut",$).on("enterKey",$)}}return x&&f&&S.parent().append((0,a.Z)("<div>").addClass("dx-field-item-content-wrapper").append(S).append((0,a.Z)("<div>").addClass("dx-field-item-help-text").attr("id",y).text(x))),{$fieldEditorContainer:S,$rootElement:B,widgetInstance:V}}(function(e){var t,i,{$parent:n,rootElementCssClassList:a,formOrLayoutManager:o,createComponentCallback:s,useFlexLayout:l,item:u,template:_,name:m,formLabelLocation:f,requiredMessageTemplate:g,validationGroup:v,editorValue:y,canAssignUndefinedValueToEditor:C,editorValidationBoundary:D,editorStylingMode:x,showColonAfterLabel:b,managerLabelLocation:w,itemId:I,managerMarkOptions:B,labelMode:S}=e,V=(0,d.$K)(u.isRequired)?u.isRequired:((t=u.validationRules)&&t.length&&(0,h.S6)(t,(function(e,t){if("required"===t.type)return i=!0,!1})),!!i),T=u.itemType===ue,M=u.helpText?"dx-"+new r.Z:null,k=function(e){var{item:t,id:i,isRequired:n,managerMarkOptions:a,showColonAfterLabel:o,labelLocation:s,formLabelMode:l}=e,u=-1!==(0,c.d3)(t.editorType,fe),d=(0,p.l)({showColon:o,location:s,id:i,visible:"outside"===l||u&&"hidden"!==l,isRequired:n},t?t.label:{},{markOptions:ge(a,n)});return-1!==(0,c.d3)(t.editorType,["dxRadioGroup","dxCheckBox","dxLookup","dxSlider","dxRangeSlider","dxSwitch","dxHtmlEditor"])&&(d.labelID="dx-label-".concat(new r.Z)),!d.text&&t.dataField&&(d.text=(0,he.GK)(t.dataField)),d.text&&(d.textWithoutColon=d.text,d.text+=d.showColon?":":""),d}({item:u,id:I,isRequired:V,managerMarkOptions:B,showColonAfterLabel:b,labelLocation:w,formLabelMode:S}),O=k.visible&&k.text,{location:F,labelID:Z}=k,E="top"!==F&&(!!u.helpText&&!l||-1!==(0,c.d3)(u.editorType,["dxTextArea","dxRadioGroup","dxCalendar","dxHtmlEditor"])),A=function(e){var{editorType:t,defaultEditorName:i,editorValue:n,canAssignUndefinedValueToEditor:a,externalEditorOptions:o,editorInputId:s,editorValidationBoundary:r,editorStylingMode:l,formLabelMode:u,labelText:h,labelMark:c}=e,_={};(void 0!==n||a)&&(_.value=n),-1!==me.indexOf(t)&&(_.value=_.value||[]);var m=null==o?void 0:o.labelMode;(0,d.$K)(m)||(m="outside"===u?"hidden":u);var f=(null==o?void 0:o.stylingMode)||l,g=(0,p.l)(!0,_,o,{inputAttr:{id:s},validationBoundary:r,stylingMode:f,label:h,labelMode:m,labelMark:c});return o&&(g.dataSource&&(g.dataSource=o.dataSource),g.items&&(g.items=o.items)),i&&!g.name&&(g.name=i),g}({editorType:u.editorType,editorValue:y,defaultEditorName:u.dataField,canAssignUndefinedValueToEditor:C,externalEditorOptions:u.editorOptions,editorInputId:I,editorValidationBoundary:D,editorStylingMode:x,formLabelMode:S,labelText:k.textWithoutColon,labelMark:k.markOptions.showRequiredMark?String.fromCharCode(160)+k.markOptions.requiredMark:""});return{$parent:n,rootElementCssClassList:a,formOrLayoutManager:o,createComponentCallback:s,useFlexLayout:l,labelOptions:k,labelNeedBaselineAlign:E,labelLocation:F,needRenderLabel:O,item:u,isSimpleItem:T,isRequired:V,template:_,helpID:M,labelID:Z,name:m,helpText:!k.markOptions.showOptionalMark||k.visible||"hidden"===A.labelMode||(0,d.$K)(u.helpText)?u.helpText:k.markOptions.optionalMark,formLabelLocation:f,requiredMessageTemplate:g,validationGroup:v,editorOptions:A}}({$parent:n,rootElementCssClassList:s,item:i,name:v,editorValue:l,canAssignUndefinedValueToEditor:u,formOrLayoutManager:this._getFormOrThis(),createComponentCallback:this._createComponent.bind(this),useFlexLayout:this._hasBrowserFlex(),formLabelLocation:this.option("labelLocation"),requiredMessageTemplate:this.option("requiredMessage"),validationGroup:this.option("validationGroup"),editorValidationBoundary:this.option("validationBoundary"),editorStylingMode:this.option("form")&&this.option("form").option("stylingMode"),showColonAfterLabel:this.option("showColonAfterLabel"),managerLabelLocation:this.option("labelLocation"),template:i.template?this._getTemplate(i.template):null,itemId:this.option("form")&&this.option("form").getItemID(v),managerMarkOptions:this._getMarkOptions(),labelMode:this.option("labelMode")}));null===(t=this.option("onFieldItemRendered"))||void 0===t||t(),C&&i.dataField&&this._bindDataField(C,i.dataField,i.editorType,y),this._itemsRunTimeInfo.add({item:i,widgetInstance:C,guid:i.guid,$itemContainer:D})},_getMarkOptions:function(){return{showRequiredMark:this.option("showRequiredMark"),requiredMark:this.option("requiredMark"),showOptionalMark:this.option("showOptionalMark"),optionalMark:this.option("optionalMark")}},_getFormOrThis:function(){return this.option("form")||this},_bindDataField:function(e,t,i,n){var a=this._getFormOrThis();e.on("enterKey",(function(e){a._createActionByOption("onEditorEnterKey")((0,p.l)(e,{dataField:t}))})),this._createWatcher(e,n,t),this.linkEditorToDataField(e,t,i)},_createWatcher:function(e,t,i){var n=this,a=n._getWatch();if((0,d.mf)(a)){var s=a((function(){return n._getDataByField(i)}),(function(){var t=n._getDataByField(i);if("dxTagBox"===e.NAME){var a=e.option("value");if(t!==a&&function(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}(t,a))return}e.option("value",t)}),{deep:!0,skipImmediate:!0});o.Z.on(t,K.x,s)}},_getWatch:function(){if(!(0,d.$K)(this._watch)){var e=this.option("form");this._watch=e&&e.option("integrationOptions.watchMethod")}return this._watch},_createComponent:function(e,t,i){var n=this.option("readOnly"),a=this.callBase(e,t,i);return n&&a.option("readOnly",n),this.on("optionChanged",(function(e){"readOnly"!==e.name||(0,d.$K)(i.readOnly)||a.option(e.name,e.value)})),a},_generateRatio:function(e,t){var i,n,a=[];for(n=0;n<e;n++)i={ratio:1},t&&(i.baseSize="auto"),a.push(i);return a},_getRowsCount:function(){return Math.ceil(this._items.length/this._getColCount())},_updateReferencedOptions:function(e){var t=this.option("layoutData");(0,d.Kn)(t)&&Object.getOwnPropertyNames(t).forEach((e=>delete this._optionsByReference["layoutData."+e])),(0,d.Kn)(e)&&Object.getOwnPropertyNames(e).forEach((e=>this._optionsByReference["layoutData."+e]=!0))},_resetWidget(e){this._disableEditorValueChangedHandler=!0,e.reset(),this._disableEditorValueChangedHandler=!1,e.option("isValid",!0)},_optionChanged(e){if(0!==e.fullName.search("layoutData."))switch(e.name){case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":this._cashedRequiredConfig=null,this._invalidate();break;case"layoutData":this._updateReferencedOptions(e.value),this.option("items")?(0,d.Qr)(e.value)||this._itemsRunTimeInfo.each(((t,i)=>{if((0,d.$K)(i.item)){var n=i.item.dataField;if(n&&(0,d.$K)(i.widgetInstance)){var a=(0,W.vb)(n)(e.value),{allowIndeterminateState:o,editorType:s}=i.item;void 0!==a||this._isCheckboxUndefinedStateEnabled({allowIndeterminateState:o,editorType:s,dataField:n})?i.widgetInstance.option("value",a):this._resetWidget(i.widgetInstance)}}})):(this._initDataAndItems(e.value),this._invalidate());break;case"items":this._cleanItemWatchers(),this._initDataAndItems(e.value),this._invalidate();break;case"alignItemLabels":case"labelLocation":case"labelMode":case"requiredMessage":this._invalidate();break;case"customizeItem":this._updateItems(this.option("layoutData")),this._invalidate();break;case"colCount":this._resetColCount();break;case"minColWidth":"auto"===this.option("colCount")&&this._resetColCount();break;case"readOnly":case"onFieldDataChanged":break;case"width":this.callBase(e),"auto"===this.option("colCount")&&this._resetColCount();break;default:this.callBase(e)}},_resetColCount:function(){this._cashedColCount=null,this._invalidate()},linkEditorToDataField(e,t){this.on("optionChanged",(i=>{i.fullName==="layoutData.".concat(t)&&e._setOptionWithoutOptionChange("value",i.value)})),e.on("valueChanged",(e=>{var i=(0,d.Kn)(e.value)||Array.isArray(e.value);this._disableEditorValueChangedHandler||i&&e.value===e.previousValue||this._updateFieldValue(t,e.value)}))},_dimensionChanged:function(){"auto"===this.option("colCount")&&this.isCachedColCountObsolete()&&this._eventsStrategy.fireEvent("autoColCountChanged")},updateData:function(e,t){var i=this;(0,d.Kn)(e)?(0,h.S6)(e,(function(e,t){i._updateFieldValue(e,t)})):"string"==typeof e&&i._updateFieldValue(e,t)},getEditor:function(e){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(e)||this._itemsRunTimeInfo.findWidgetInstanceByName(e)},isSingleColumnMode:function(e){var t=this._responsiveBox||e;if(t)return t.option("currentScreenFactor")===t.option("singleColumnScreen")},getItemsRunTimeInfo:function(){return this._itemsRunTimeInfo}});(0,s.Z)("dxLayoutManager",we);var Ie=U.Z.inherit({_getDefaultOptions(){return(0,p.l)(this.callBase(),{focusStateEnabled:!1,noDataText:null})},_setOptionsByReference(){this.callBase(),(0,p.l)(this._optionsByReference,{validationGroup:!0})},_init(){this.callBase(),this._initGroupRegistration()},_initGroupRegistration(){var e=this.$element(),t=this.option("validationGroup")||C.Z.findGroup(e,this._modelByElement(e)),i=C.Z.addGroup(t);this._unsubscribeGroup(),this._groupWasInit=!0,this._validationGroup=t,this.groupSubscription=this._groupValidationHandler.bind(this),i.on("validated",this.groupSubscription)},_unsubscribeGroup(){var e=C.Z.getGroupConfig(this._validationGroup);e&&e.off("validated",this.groupSubscription)},_getOrderedItems(e,t){var i=[];return(0,h.S6)(e,(function(e,n){var a=(0,l.grep)(t,(function(e){if(e.validator===n)return!0}));a.length&&(i=i.concat(a))})),i},_groupValidationHandler(e){var t=this._getOrderedItems(e.validators,(0,h.UI)(e.brokenRules,(function(e){return{text:e.message,validator:e.validator,index:e.index}})));this.validators=e.validators,(0,h.S6)(this.validators,((e,t)=>{if(t._validationSummary!==this){var i=this._itemValidationHandler.bind(this);t.on("validated",i),t.on("disposing",(function(){t.off("validated",i),t._validationSummary=null,i=null})),t._validationSummary=this}})),this.option("items",t)},_itemValidationHandler(e){for(var{isValid:t,validator:i,brokenRules:n}=e,a=this.option("items"),o=!1,s=0,r=function(){var e=a[s];if(e.validator===i){var r=(0,l.grep)(n||[],(function(t){return t.index===e.index}))[0];if(t||!r)return a.splice(s,1),o=!0,"continue";r.message!==e.text&&(e.text=r.message,o=!0)}s++};s<a.length;)r();(0,h.S6)(n,(function(e,t){(0,l.grep)(a,(function(e){return e.validator===i&&e.index===t.index}))[0]||(a.push({text:t.message,validator:i,index:t.index}),o=!0)})),o&&(a=this._getOrderedItems(this.validators,a),this.option("items",a))},_initMarkup(){this.$element().addClass("dx-validationsummary"),this.callBase()},_optionChanged(e){"validationGroup"===e.name?this._initGroupRegistration():this.callBase(e)},_itemClass:()=>"dx-validationsummary-item",_itemDataKey:()=>"dx-validationsummary-item-data",_postprocessRenderItem(e){o.Z.on(e.itemElement,"click",(function(){e.itemData.validator&&e.itemData.validator.focus&&e.itemData.validator.focus()}))},_dispose(){this.callBase(),this._unsubscribeGroup()}});(0,s.Z)("dxValidationSummary",Ie);const Be=Ie;var Se=i(85317),Ve="dx-validationgroup";class Te extends Se.Z{_getDefaultOptions(){return super._getDefaultOptions()}_init(){super._init(),C.Z.addGroup(this)}_initMarkup(){var e=this.$element();e.addClass(Ve),e.find(".".concat("dx-validator")).each((function(e,t){pe.default.getInstance((0,a.Z)(t))._initGroupRegistration()})),e.find(".".concat("dx-validationsummary")).each((function(e,t){Be.getInstance((0,a.Z)(t))._initGroupRegistration()})),super._initMarkup()}validate(){return C.Z.validateGroup(this)}reset(){return C.Z.resetGroup(this)}_dispose(){C.Z.removeGroup(this),this.$element().removeClass(Ve),super._dispose()}_useTemplates(){return!1}}(0,s.Z)("dxValidationGroup",Te);var Me=i(12442),ke=["items","isRequired","validationRules","visible"],Oe=g.Z.inherit({_init:function(){this.callBase(),this._cachedColCountOptions=[],this._itemsRunTimeInfo=new D,this._groupsColCount=[],this._attachSyncSubscriptions()},_getDefaultOptions:function(){return(0,p.l)(this.callBase(),{formID:"dx-"+new r.Z,formData:{},colCount:1,screenByWidth:y.$n,colCountByScreen:void 0,labelLocation:"left",readOnly:!1,onFieldDataChanged:null,customizeItem:null,onEditorEnterKey:null,minColWidth:200,alignItemLabels:!0,alignItemLabelsInAllGroups:!0,alignRootItemLabels:!0,showColonAfterLabel:!0,showRequiredMark:!0,showOptionalMark:!1,requiredMark:"*",optionalMark:f.Z.format("dxForm-optionalMark"),requiredMessage:f.Z.getFormatter("dxForm-requiredMessage"),showValidationSummary:!1,items:void 0,scrollingEnabled:!1,validationGroup:void 0,stylingMode:(0,u.Z)().editorStylingMode,labelMode:"outside"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return(0,I.x2)()},options:{showColonAfterLabel:!1,labelLocation:"top"}}])},_setOptionsByReference:function(){this.callBase(),(0,p.l)(this._optionsByReference,{formData:!0,validationGroup:!0})},_getGroupColCount:function(e){return parseInt(e.attr(le))},_applyLabelsWidthByCol:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,a=i.inOneColumn?ne:ie+t,o=i.excludeTabbed?":not(.".concat(re,")"):"";Ce(e,".".concat(a).concat(o),n)},_applyLabelsWidth:function(e,t,i,n,a){n=i?1:n||this._getGroupColCount(e);var o,s={excludeTabbed:t,inOneColumn:i};for(o=0;o<n;o++)this._applyLabelsWidthByCol(e,o,s,a)},_getGroupElementsInColumn:function(e,t,i){var n=(0,d.$K)(i)?".dx-group-colcount-"+i:"",a=".dx-col-"+t+" > .dx-field-item-content > ."+te+n;return e.find(a)},_applyLabelsWidthWithGroups:function(e,t,i,n){if(!0===this.option("alignRootItemLabels"))for(var a=e.find(".".concat(se)),o=0;o<t;o++)this._applyLabelsWidthByCol(a,o,i,n);if(this.option("alignItemLabelsInAllGroups"))this._applyLabelsWidthWithNestedGroups(e,t,i,n);else{var s,r=this.$element().find(".dx-form-group");for(s=0;s<r.length;s++)this._applyLabelsWidth(r.eq(s),i,void 0,void 0,n)}},_applyLabelsWidthWithNestedGroups:function(e,t,i,n){var a,o,s,r,l={excludeTabbed:i};for(a=0;a<t;a++)for(r=this._getGroupElementsInColumn(e,a),this._applyLabelsWidthByCol(r,0,l,n),o=0;o<this._groupsColCount.length;o++){r=this._getGroupElementsInColumn(e,a,this._groupsColCount[o]);var u=this._getGroupColCount(r);for(s=1;s<u;s++)this._applyLabelsWidthByCol(r,s,l,n)}},_labelLocation:function(){return this.option("labelLocation")},_alignLabelsInColumn:function(e){var{layoutManager:t,inOneColumn:i,$container:n,excludeTabbed:a,items:o}=e;if((0,y.Ym)()&&"top"!==this._labelLocation()){var s=ge(t._getMarkOptions());i?this._applyLabelsWidth(n,a,!0,void 0,s):this._checkGrouping(o)?this._applyLabelsWidthWithGroups(n,t._getColCount(),a,s):this._applyLabelsWidth(n,a,!1,t._getColCount(),s)}},_prepareFormData:function(){(0,d.$K)(this.option("formData"))||this.option("formData",{})},_setStylingModeClass:function(){"underlined"===this.option("stylingMode")&&this.$element().addClass("dx-form-styling-mode-underlined")},_initMarkup:function(){C.Z.addGroup(this._getValidationGroup()),this._clearCachedInstances(),this._prepareFormData(),this.$element().addClass("dx-form"),this._setStylingModeClass(),this.callBase(),this.setAria("role","form",this.$element()),this.option("scrollingEnabled")&&this._renderScrollable(),this._renderLayout(),this._renderValidationSummary(),this._lastMarkupScreenFactor=this._targetScreenFactor||this._getCurrentScreenFactor()},_getCurrentScreenFactor:function(){return(0,y.Ym)()?(0,y.Wf)(this.option("screenByWidth")):"lg"},_clearCachedInstances:function(){this._itemsRunTimeInfo.clear(),this._cachedLayoutManagers=[]},_alignLabels:function(e,t){this._alignLabelsInColumn({$container:this.$element(),layoutManager:e,excludeTabbed:!0,items:this.option("items"),inOneColumn:t}),(0,_.U_)(this.$element().find(".".concat(Me.z)))},_clean:function(){this._clearValidationSummary(),this.callBase(),this._groupsColCount=[],this._cachedColCountOptions=[],this._lastMarkupScreenFactor=void 0},_renderScrollable:function(){var e=this.option("useNativeScrolling");this._scrollable=new b.Z(this.$element(),{useNative:!!e,useSimulatedScrollbar:!e,useKeyboard:!1,direction:"both",bounceEnabled:!1})},_getContent:function(){return this.option("scrollingEnabled")?(0,a.Z)(this._scrollable.content()):this.$element()},_clearValidationSummary:function(){var e;null===(e=this._$validationSummary)||void 0===e||e.remove(),this._$validationSummary=void 0,this._validationSummary=void 0},_renderValidationSummary:function(){this._clearValidationSummary(),this.option("showValidationSummary")&&(this._$validationSummary=(0,a.Z)("<div>").addClass("dx-form-validation-summary").appendTo(this._getContent()),this._validationSummary=this._$validationSummary.dxValidationSummary({validationGroup:this._getValidationGroup()}).dxValidationSummary("instance"))},_prepareItems(e,t,i,a){if(e){for(var o=[],s=0;s<e.length;s++){var r=e[s],l=M(i,T(s,a)),u={item:r,itemIndex:s,path:l},h=this._itemsRunTimeInfo.add(u);if((0,d.HD)(r)&&(r={dataField:r}),(0,d.Kn)(r)){var c=(0,n.Z)({},r);u.preparedItem=c,c.guid=h,this._tryPrepareGroupItem(c),this._tryPrepareTabbedItem(c,l),this._tryPrepareItemTemplate(c),t&&(c.cssItemClass=re),c.items&&(c.items=this._prepareItems(c.items,t,l)),o.push(c)}else o.push(r)}return o}},_tryPrepareGroupItem:function(e){"group"===e.itemType&&(e.alignItemLabels=(0,l.ensureDefined)(e.alignItemLabels,!0),e._prepareGroupItemTemplate=t=>{e.template&&(e.groupContentTemplate=this._getTemplate(t)),e.template=this._itemGroupTemplate.bind(this,e)},e._prepareGroupItemTemplate(e.template))},_tryPrepareTabbedItem:function(e,t){"tabbed"===e.itemType&&(e.template=this._itemTabbedTemplate.bind(this,e),e.tabs=this._prepareItems(e.tabs,!0,t,!0))},_tryPrepareItemTemplate:function(e){e.template&&(e.template=this._getTemplate(e.template))},_checkGrouping:function(e){if(e)for(var t=0;t<e.length;t++)if("group"===e[t].itemType)return!0},_renderLayout:function(){var e=this,t=e.option("items"),i=e._getContent();t=e._prepareItems(t),e._rootLayoutManager=e._renderLayoutManager(i,this._createLayoutManagerOptions(t,{isRoot:!0,colCount:e.option("colCount"),alignItemLabels:e.option("alignItemLabels"),screenByWidth:this.option("screenByWidth"),colCountByScreen:this.option("colCountByScreen"),onLayoutChanged:function(t){e._alignLabels.bind(e)(e._rootLayoutManager,t)},onContentReady:function(t){e._alignLabels(t.component,t.component.isSingleColumnMode())}}))},_tryGetItemsForTemplate:function(e){return e.items||[]},_itemTabbedTemplate:function(e,t,i){var n=(0,a.Z)("<div>").appendTo(i),o=(0,p.l)({},e.tabPanelOptions,{dataSource:e.tabs,onItemRendered:e=>(0,_.Uo)(e.itemElement),itemTemplate:(e,t,i)=>{var n=(0,a.Z)(i),o=(0,l.ensureDefined)(e.alignItemLabels,!0),s=this._renderLayoutManager(n,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(e),{colCount:e.colCount,alignItemLabels:o,screenByWidth:this.option("screenByWidth"),colCountByScreen:e.colCountByScreen,cssItemClass:e.cssItemClass,onLayoutChanged:t=>{this._alignLabelsInColumn({$container:n,layoutManager:s,items:e.items,inOneColumn:t})}}));this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(e.guid,{layoutManager:s}),o&&this._alignLabelsInColumn({$container:n,layoutManager:s,items:e.items,inOneColumn:s.isSingleColumnMode()})}}),s=(e,t)=>{Array.isArray(e)&&e.forEach((e=>this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(e.guid,{widgetInstance:t})))},r=this._createComponent(n,x.default,o);(0,a.Z)(i).parent().addClass("dx-field-item-has-tabs"),r.on("optionChanged",(e=>{"dataSource"===e.fullName&&s(e.value,e.component)})),s([{guid:e.guid},...e.tabs],r)},_itemGroupTemplate:function(e,t,i){var n,o,s=(0,a.Z)("<div>").toggleClass("dx-form-group-with-caption",(0,d.$K)(e.caption)&&e.caption.length).addClass(te).appendTo(i);(0,a.Z)(i).parent().addClass("dx-field-item-has-group"),e.caption&&(0,a.Z)("<span>").addClass("dx-form-group-caption").text(e.caption).appendTo(s);var r=(0,a.Z)("<div>").addClass("dx-form-group-content").appendTo(s);e.groupContentTemplate?(e._renderGroupContentTemplate=()=>{r.empty();var t={formData:this.option("formData"),component:this};e.groupContentTemplate.render({model:t,container:(0,m.u)(r)})},e._renderGroupContentTemplate()):(o=this._renderLayoutManager(r,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(e),{colCount:e.colCount,colCountByScreen:e.colCountByScreen,alignItemLabels:e.alignItemLabels,cssItemClass:e.cssItemClass})),this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(e.guid,{layoutManager:o}),n=o._getColCount(),-1===(0,c.d3)(n,this._groupsColCount)&&this._groupsColCount.push(n),s.addClass("dx-group-colcount-"+n),s.attr(le,n))},_createLayoutManagerOptions:function(e,t){return function(e){var{form:t,$formElement:i,formOptions:n,items:a,validationGroup:o,extendedLayoutManagerOptions:s,onFieldDataChanged:r,onContentReady:l,onDisposing:u,onFieldItemRendered:d}=e,h={form:t,items:a,$formElement:i,validationGroup:o,onFieldDataChanged:r,onContentReady:l,onDisposing:u,onFieldItemRendered:d,validationBoundary:n.scrollingEnabled?i:void 0,scrollingEnabled:n.scrollingEnabled,showRequiredMark:n.showRequiredMark,showOptionalMark:n.showOptionalMark,requiredMark:n.requiredMark,optionalMark:n.optionalMark,requiredMessage:n.requiredMessage,screenByWidth:n.screenByWidth,layoutData:n.formData,labelLocation:n.labelLocation,customizeItem:n.customizeItem,minColWidth:n.minColWidth,showColonAfterLabel:n.showColonAfterLabel,onEditorEnterKey:n.onEditorEnterKey,labelMode:n.labelMode};return(0,p.l)(h,{isRoot:s.isRoot,colCount:s.colCount,alignItemLabels:s.alignItemLabels,cssItemClass:s.cssItemClass,colCountByScreen:s.colCountByScreen,onLayoutChanged:s.onLayoutChanged,width:s.width})}({form:this,formOptions:this.option(),$formElement:this.$element(),items:e,validationGroup:this._getValidationGroup(),extendedLayoutManagerOptions:t,onFieldDataChanged:e=>{this._isDataUpdating||this._triggerOnFieldDataChanged(e)},onContentReady:e=>{this._itemsRunTimeInfo.addItemsOrExtendFrom(e.component._itemsRunTimeInfo),t.onContentReady&&t.onContentReady(e)},onDisposing:e=>{var{component:t}=e,i=t.getItemsRunTimeInfo();this._itemsRunTimeInfo.removeItemsByItems(i)},onFieldItemRendered:()=>{var e;null===(e=this._validationSummary)||void 0===e||e._initGroupRegistration()}})},_renderLayoutManager:function(e,t){var i={lg:t.colCount,md:t.colCount,sm:t.colCount,xs:1};this._cachedColCountOptions.push({colCountByScreen:(0,p.l)(i,t.colCountByScreen)});var n=(0,a.Z)("<div>");n.appendTo(e);var o=this._createComponent(n,"dxLayoutManager",t);return o.on("autoColCountChanged",(()=>{this._clearAutoColCountChangedTimeout(),this.autoColCountChangedTimeoutId=setTimeout((()=>!this._disposed&&this._refresh()),0)})),this._cachedLayoutManagers.push(o),o},_getValidationGroup:function(){return this.option("validationGroup")||this},_createComponent:function(e,t,i){return i=i||{},this._extendConfig(i,{readOnly:this.option("readOnly")}),this.callBase(e,t,i)},_attachSyncSubscriptions:function(){var e=this;e.on("optionChanged",(function(t){var i=t.fullName;"formData"===i&&((0,d.$K)(t.value)||e._options.silent("formData",t.value={}),e._triggerOnFieldDataChangedByDataSet(t.value)),e._cachedLayoutManagers.length&&(0,h.S6)(e._cachedLayoutManagers,(function(n,a){"formData"===i&&(e._isDataUpdating=!0,a.option("layoutData",t.value),e._isDataUpdating=!1),"readOnly"!==t.name&&"disabled"!==t.name||a.option(i,t.value)}))}))},_optionChanged:function(e){var t=e.fullName.split(".");t.length>1&&-1!==t[0].search("items")&&this._itemsOptionChangedHandler(e)||t.length>1&&-1!==t[0].search("formData")&&this._formDataOptionChangedHandler(e)||this._defaultOptionChangedHandler(e)},_defaultOptionChangedHandler:function(e){switch(e.name){case"formData":this.option("items")?(0,d.Qr)(e.value)&&this._resetValues():this._invalidate();break;case"onFieldDataChanged":case"alignRootItemLabels":case"readOnly":break;case"items":case"colCount":case"onEditorEnterKey":case"labelLocation":case"labelMode":case"alignItemLabels":case"showColonAfterLabel":case"customizeItem":case"alignItemLabelsInAllGroups":case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":case"requiredMessage":case"scrollingEnabled":case"formID":case"colCountByScreen":case"screenByWidth":case"stylingMode":this._invalidate();break;case"showValidationSummary":this._renderValidationSummary();break;case"minColWidth":"auto"===this.option("colCount")&&this._invalidate();break;case"width":this.callBase(e),this._rootLayoutManager.option(e.name,e.value),this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode());break;case"visible":this.callBase(e),e.value&&(0,_.Uo)(this.$element());break;case"validationGroup":C.Z.removeGroup(e.previousValue||this),this._invalidate();break;default:this.callBase(e)}},_itemsOptionChangedHandler:function(e){var t=e.fullName.split("."),i=e.value,n=this._getItemPath(t),a=this.option(n),o=e.fullName.replace(n+".",""),s=o.split(".")[0].replace(/\[\d+]/,""),r=this._tryCreateItemOptionAction(s,a,a[s],e.previousValue,n),l=this._tryExecuteItemOptionAction(r)||this._tryChangeLayoutManagerItemOption(e.fullName,i);if(!l&&a){this._changeItemOption(a,o,i);var u=this._generateItemsFromData(this.option("items"));this.option("items",u),l=!0}return l},_formDataOptionChangedHandler:function(e){var t=e.fullName.split("."),i=e.value,n=t.slice(1).join("."),a=this.getEditor(n);return a?a.option("value",i):this._triggerOnFieldDataChanged({dataField:n,value:i}),!0},_tryCreateItemOptionAction:function(e,t,i,n,a){return"tabs"===e&&(this._itemsRunTimeInfo.removeItemsByPathStartWith("".concat(a,".tabs")),i=this._prepareItems(i,!0,a,!0)),((e,t)=>{var i;switch(e){case"editorOptions":case"buttonOptions":return new A(t);case"validationRules":return new L(t);case"cssClass":return new N(t);case"badge":case"disabled":case"icon":case"tabTemplate":case"title":return new R((0,p.l)(t,{optionName:e}));case"tabs":return new $(t);case"template":return"group"===(null===(i=t.item)||void 0===i?void 0:i.itemType)?new P(t):new R((0,p.l)(t,{optionName:e}));default:return null}})(e,{item:t,value:i,previousValue:n,itemsRunTimeInfo:this._itemsRunTimeInfo})},_tryExecuteItemOptionAction:function(e){return e&&e.tryExecute()},_updateValidationGroupAndSummaryIfNeeded:function(e){var t,i=F(e);ke.indexOf(i)>-1&&(C.Z.addGroup(this._getValidationGroup()),this.option("showValidationSummary")&&(null===(t=this._validationSummary)||void 0===t||t._initGroupRegistration()))},_setLayoutManagerItemOption(e,t,i,n){if(this._updateLockCount>0){!e._updateLockCount&&e.beginUpdate();var a=this._itemsRunTimeInfo.findKeyByPath(n);this.postponedOperations.add(a,(()=>(!e._disposed&&e.endUpdate(),(new w.BH).resolve())))}var o=e=>{if(e.component.off("contentReady",o),Z(n)){var t=(e=>{for(var t=e.split("."),i=[...t],n=t.length-1;n>=0;n--){if(Z(t[n]))return i.join(".");i.splice(n,1)}return""})(n),i=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(t);i&&this._alignLabelsInColumn({items:i.option("items"),layoutManager:i,$container:i.$element(),inOneColumn:i.isSingleColumnMode()})}else this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode())};e.on("contentReady",o),e.option(t,i),this._updateValidationGroupAndSummaryIfNeeded(t)},_tryChangeLayoutManagerItemOption(e,t){var i=e.split("."),n=F(e);if("items"===n&&i.length>1){var a=this._getItemPath(i),o=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(a);if(o){this._itemsRunTimeInfo.removeItemsByItems(o.getItemsRunTimeInfo());var s=this._prepareItems(t,!1,a);return this._setLayoutManagerItemOption(o,n,s,a),!0}}else if(i.length>2){var r=i.length-2,l=this._getItemPath(i.slice(0,r)),u=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(l);if(u){var d=O(i[r],n);if("editorType"===n&&u.option(d)!==t)return!1;if("visible"===n){var h=this.option(O(l,"items"));if(h&&h.length){var c=u.option("items");h.forEach(((e,t)=>{c[t].visibleIndex=e.visibleIndex}))}}return this._setLayoutManagerItemOption(u,d,t,l),!0}}return!1},_tryChangeLayoutManagerItemOptions(e,t){var i;return this.beginUpdate(),(0,h.S6)(t,((t,n)=>{if(!(i=this._tryChangeLayoutManagerItemOption(O(e,t),n)))return!1})),this.endUpdate(),i},_getItemPath:function(e){var t,i=e[0];for(t=1;t<e.length&&-1!==e[t].search(/items\[\d+]|tabs\[\d+]/);t++)i+="."+e[t];return i},_triggerOnFieldDataChanged:function(e){this._createActionByOption("onFieldDataChanged")(e)},_triggerOnFieldDataChangedByDataSet:function(e){var t=this;e&&(0,d.Kn)(e)&&(0,h.S6)(e,(function(e,i){t._triggerOnFieldDataChanged({dataField:e,value:i})}))},_updateFieldValue:function(e,t){if((0,d.$K)(this.option("formData"))){var i=this.getEditor(e);this.option("formData."+e,t),i&&i.option("value")!==t&&i.option("value",t)}},_generateItemsFromData:function(e){var t=this.option("formData"),i=[];return!e&&(0,d.$K)(t)&&(0,h.S6)(t,(function(e){i.push({dataField:e})})),e&&(0,h.S6)(e,(function(e,t){(0,d.Kn)(t)?i.push(t):i.push({dataField:t})})),i},_getItemByField:function(e,t){var i,n=this,a=(0,d.Kn)(e)?e:n._getFieldParts(e),o=a.fieldName,s=a.fieldPath;return t.length&&(0,h.S6)(t,(function(e,t){var a=t.itemType;if(s.length){var r=s.slice();t=n._getItemByFieldPath(r,o,t)}else if("group"===a&&!t.caption&&!t.name||"tabbed"===a&&!t.name){var l=n._getSubItemField(a);t.items=n._generateItemsFromData(t.items),t=n._getItemByField({fieldName:o,fieldPath:s},t[l])}if(((e,t)=>!!e&&(e.dataField===t||e.name===t||k(e.title)===t||"group"===e.itemType&&k(e.caption)===t))(t,o))return i=t,!1})),i},_getFieldParts:function(e){for(var t=e,i=t.indexOf("."),n=[];-1!==i;)n.push(t.substr(0,i)),i=(t=t.substr(i+1)).indexOf(".");return{fieldName:t,fieldPath:n.reverse()}},_getItemByFieldPath:function(e,t,i){var n,a=i.itemType,o=this._getSubItemField(a),s="group"===a||"tabbed"===a||i.title;do{if(!s)break;var r=i.name||i.caption||i.title,l=(0,d.$K)(r),u=k(r),h=void 0;if(i[o]=this._generateItemsFromData(i[o]),l&&(h=e.pop()),!e.length&&(n=this._getItemByField(t,i[o])))break;(!l||l&&u===h)&&e.length&&(n=this._searchItemInEverySubItem(e,t,i[o]))}while(e.length&&!(0,d.$K)(n));return n},_getSubItemField:function(e){return"tabbed"===e?"tabs":"items"},_searchItemInEverySubItem:function(e,t,i){var n,a=this;return(0,h.S6)(i,(function(i,o){if(n=a._getItemByFieldPath(e.slice(),t,o))return!1})),n||(n=!1),n},_changeItemOption:function(e,t,i){(0,d.Kn)(e)&&(e[t]=i)},_dimensionChanged:function(){var e=this._getCurrentScreenFactor();this._lastMarkupScreenFactor!==e&&(this._isColCountChanged(this._lastMarkupScreenFactor,e)&&(this._targetScreenFactor=e,this._refresh(),this._targetScreenFactor=void 0),this._lastMarkupScreenFactor=e)},_isColCountChanged:function(e,t){var i=!1;return(0,h.S6)(this._cachedColCountOptions,(function(n,a){if(a.colCountByScreen[e]!==a.colCountByScreen[t])return i=!0,!1})),i},_refresh:function(){o.Z.trigger(this.$element().find(".dx-state-focused input, .dx-state-focused textarea"),"change"),this.callBase()},_resetValues:function(){this._itemsRunTimeInfo.each((function(e,t){(0,d.$K)(t.widgetInstance)&&v.Z.isEditor(t.widgetInstance)&&(t.widgetInstance.reset(),t.widgetInstance.option("isValid",!0))})),C.Z.resetGroup(this._getValidationGroup())},_updateData:function(e,t,i){var n=this,a=i?t:e;(0,d.Kn)(a)?(0,h.S6)(a,(function(t,a){n._updateData(i?e+"."+t:t,a,(0,d.Kn)(a))})):(0,d.HD)(e)&&n._updateFieldValue(e,t)},registerKeyHandler:function(e,t){this.callBase(e,t),this._itemsRunTimeInfo.each((function(i,n){(0,d.$K)(n.widgetInstance)&&n.widgetInstance.registerKeyHandler(e,t)}))},_focusTarget:function(){return this.$element().find(".dx-field-item-content [tabindex]").first()},_visibilityChanged:function(){},_clearAutoColCountChangedTimeout:function(){this.autoColCountChangedTimeoutId&&(clearTimeout(this.autoColCountChangedTimeoutId),this.autoColCountChangedTimeoutId=void 0)},_dispose:function(){this._clearAutoColCountChangedTimeout(),C.Z.removeGroup(this._getValidationGroup()),this.callBase()},resetValues:function(){this._resetValues()},updateData:function(e,t){this._updateData(e,t)},getEditor:function(e){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(e)||this._itemsRunTimeInfo.findWidgetInstanceByName(e)},getButton:function(e){return this._itemsRunTimeInfo.findWidgetInstanceByName(e)},updateDimensions:function(){var e=this,t=new w.BH;return e._scrollable?e._scrollable.update().done((function(){t.resolveWith(e)})):t.resolveWith(e),t.promise()},itemOption:function(e,t,i){var n=this._generateItemsFromData(this.option("items")),a=this._getItemByField(e,n),o=E(n,a);if(a)switch(arguments.length){case 1:return a;case 3:var s=this._tryCreateItemOptionAction(t,a,i,a[t],o);this._changeItemOption(a,t,i);var r=O(o,t);this._tryExecuteItemOptionAction(s)||this._tryChangeLayoutManagerItemOption(r,i)||this.option("items",n);break;default:var l;(0,d.Kn)(t)&&(this._tryChangeLayoutManagerItemOptions(o,t)||((0,h.S6)(t,((e,t)=>{var i=this._tryCreateItemOptionAction(e,a,t,a[e],o);this._changeItemOption(a,e,t),l||this._tryExecuteItemOptionAction(i)||(l=!0)})),l&&this.option("items",n)))}},validate:function(){return C.Z.validateGroup(this._getValidationGroup())},getItemID:function(e){return"dx_"+this.option("formID")+"_"+(e||new r.Z)},getTargetScreenFactor:function(){return this._targetScreenFactor}});(0,s.Z)("dxForm",Oe);const Fe=Oe},74341:(e,t,i)=>{i.d(t,{default:()=>K});var n=i(64565),a=i(45340),o=i(44099),s=i(50450),r=i(30390),l=i(94381),u=i(81121),d=i(72264),h=function(e){for(var t=0,i=0,n=0;n<e.length;++n)if("'"===e[n]&&t++,"."===e[n]&&(++i,t%2==0))return{occurrence:i,index:n};return{occurrence:1,index:-1}},c=function(e,t,i){for(var n=-1;i--&&n++<e.length;)n=e.indexOf(t,n);return n},p=function(e,t){return-1===t?[e]:[e.slice(0,t),e.slice(t+1)]},_=function(e,t){if("string"==typeof t){var i=t.split(";"),n=u.Z.getSign(e,t);i[1]=i[1]||"-"+i[0],t=(t=i[n<0?1:0]).replace(/'([^']*)'/g,(e=>e.split("").map((()=>" ")).join("").substr(2)));var a=/^[^#0.,]*/.exec(t)[0].length,o=/[^#0.,]*$/.exec(t)[0].length;return{start:a,end:e.length-o}}return{start:0,end:e.length}},m=function(e,t){var i=u.Z.getDecimalSeparator(),n=new RegExp("[^0-9"+(0,d.escapeRegExp)(i)+"]","g");return t.slice(0,e).replace(n,"").length},f=function(e){return e.split("").reverse().join("")},g=function(e,t){if(!e)return-1;for(var i=/[0-9]/g,n=1,a=null,o=i.exec(t);o;){if(a=o.index,n>=e)return a;n++,o=i.exec(t)}return null===a?t.length:a},v=function(e,t){return void 0===e.start&&(e={start:e,end:e}),{start:e.start+t,end:e.end+t}};function y(e,t,i){e=v(e,0);var n=_(t,i);return{start:(0,l.n$)(e.start,n.start,n.end),end:(0,l.n$)(e.end,n.start,n.end)}}var C=i(49683),D=i(55611),x=i(71389),b=i(37045),w=i(31517),I=i(63348),B=i(52858),S=i(73378),V=i(46178),T=i(97308),M=i(77457),k=i(72318),O=i(79303),F="dxNumberBox",Z=(0,B.V4)(T.Z.up,F),E=(0,B.V4)(T.Z.cancel,F);const A=V.Z.inherit({_getDefaultOptions:function(){return(0,o.l)(this.callBase(),{direction:"up",onChange:null,activeStateEnabled:!0,hoverStateEnabled:!0})},_initMarkup:function(){this.callBase();var e="dx-numberbox-spin-"+this.option("direction");this.$element().addClass("dx-numberbox-spin-button").addClass(e),this._spinIcon=(0,D.Z)("<div>").addClass(e+"-icon").appendTo(this.$element())},_render:function(){this.callBase();var e=(0,B.V4)(T.Z.down,this.NAME),t=this.$element();a.Z.off(t,e),a.Z.on(t,e,this._spinDownHandler.bind(this)),this._spinChangeHandler=this._createActionByOption("onChange")},_spinDownHandler:function(e){e.preventDefault(),this._clearTimer(),a.Z.on(this.$element(),k.Z.name,function(){this._feedBackDeferred=new O.BH,(0,M.dR)(this._feedBackDeferred),this._spinChangeHandler({event:e}),this._holdTimer=setInterval(this._spinChangeHandler,100,{event:e})}.bind(this));var t=x.Z.getDocument();a.Z.on(t,Z,this._clearTimer.bind(this)),a.Z.on(t,E,this._clearTimer.bind(this)),this._spinChangeHandler({event:e})},_dispose:function(){this._clearTimer(),this.callBase()},_clearTimer:function(){a.Z.off(this.$element(),k.Z.name);var e=x.Z.getDocument();a.Z.off(e,Z),a.Z.off(e,E),this._feedBackDeferred&&this._feedBackDeferred.resolve(),this._holdTimer&&clearInterval(this._holdTimer)},_optionChanged:function(e){switch(e.name){case"onChange":case"direction":this._invalidate();break;default:this.callBase(e)}}});class R extends S.Z{_attachEvents(e,t){var{editor:i}=this,n=(0,B.V4)(T.Z.down,i.NAME),o=t.children(),s=i._createAction((e=>i._spinButtonsPointerDownHandler(e)));a.Z.off(t,n),a.Z.on(t,n,(e=>s({event:e}))),A.getInstance(o.eq(0)).option("onChange",(e=>i._spinUpChangeHandler(e))),A.getInstance(o.eq(1)).option("onChange",(e=>i._spinDownChangeHandler(e)))}_create(){var{editor:e}=this,t=(0,D.Z)("<div>").addClass("dx-numberbox-spin-container"),i=(0,D.Z)("<div>").appendTo(t),n=(0,D.Z)("<div>").appendTo(t),a=this._getOptions();return this._addToContainer(t),e._createComponent(i,A,(0,o.l)({direction:"up"},a)),e._createComponent(n,A,(0,o.l)({direction:"down"},a)),this._legacyRender(e.$element(),this._isTouchFriendly(),a.visible),{instance:t,$element:t}}_getOptions(){var{editor:e}=this;return{visible:this._isVisible(),disabled:e.option("disabled")}}_isVisible(){var{editor:e}=this;return super._isVisible()&&e.option("showSpinButtons")}_isTouchFriendly(){var{editor:e}=this;return e.option("showSpinButtons")&&e.option("useLargeSpinButtons")}_legacyRender(e,t,i){e.toggleClass("dx-numberbox-spin-touch-friendly",t),e.toggleClass("dx-numberbox-spin",i)}update(){if(super.update()){var{editor:e,instance:t}=this,i=e.$element(),n=this._isVisible(),a=this._isTouchFriendly(),o=t.children(),s=A.getInstance(o.eq(0)),r=A.getInstance(o.eq(1)),l=this._getOptions();s.option(l),r.option(l),this._legacyRender(i,a,n)}}}var P=i(44804),$=Math,L=["tab","del","backspace","leftArrow","rightArrow","home","end","enter"],N=I.Z.inherit({_supportedKeys:function(){return(0,o.l)(this.callBase(),{upArrow:function(e){(0,B.j1)(e)||(e.preventDefault(),e.stopPropagation(),this._spinUpChangeHandler(e))},downArrow:function(e){(0,B.j1)(e)||(e.preventDefault(),e.stopPropagation(),this._spinDownChangeHandler(e))},enter:function(){}})},_getDefaultOptions:function(){return(0,o.l)(this.callBase(),{value:0,min:void 0,max:void 0,step:1,showSpinButtons:!1,useLargeSpinButtons:!0,mode:"text",invalidValueMessage:P.Z.format("dxNumberBox-invalidValueMessage"),buttons:void 0})},_useTemplates:function(){return!1},_getDefaultButtons:function(){return this.callBase().concat([{name:"spins",Ctor:R}])},_isSupportInputMode:function(){var e=parseFloat(w.Z.version);return w.Z.chrome&&e>=66||w.Z.safari&&e>=12},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return r.Z.real().generic&&!r.Z.isSimulator()},options:{useLargeSpinButtons:!1}},{device:function(){return"desktop"!==r.Z.real().deviceType&&!this._isSupportInputMode()}.bind(this),options:{mode:"number"}}])},_initMarkup:function(){this._renderSubmitElement(),this.$element().addClass("dx-numberbox"),this.callBase()},_getDefaultAttributes:function(){var e=this.callBase();return e.inputmode="decimal",e},_renderContentImpl:function(){this.option("isValid")&&this._validateValue(this.option("value")),this.setAria("role","spinbutton")},_renderSubmitElement:function(){this._$submitElement=(0,D.Z)("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(e){this._getSubmitElement().val((0,d.applyServerDecimalSeparator)(e))},_getSubmitElement:function(){return this._$submitElement},_keyPressHandler:function(e){this.callBase(e);var t=(0,B.qK)(e);if(!/[\d.,eE\-+]/.test(t)){var i=(0,B.EV)(e);if((0,B.j1)(e)||i&&(0,b.d3)(i,L)>=0)return;return e.preventDefault(),!1}this._keyPressed=!0},_onMouseWheel:function(e){e.delta>0?this._spinValueChange(1,e):this._spinValueChange(-1,e)},_renderValue:function(){var e=this._input().val(),t=this.option("value");e.length&&Number(e)===t||(this._forceValueRender(),this._toggleEmptinessEventHandler());var i=(0,s.$K)(t)?null:P.Z.format("dxNumberBox-noDataText");return this.setAria({valuenow:(0,d.ensureDefined)(t,""),valuetext:i}),this.option("text",this._input().val()),this._updateButtons(),(new O.BH).resolve()},_forceValueRender:function(){var e=this.option("value"),t=Number(e),i=isNaN(t)?"":this._applyDisplayValueFormatter(e);this._renderDisplayText(i)},_applyDisplayValueFormatter:function(e){return this.option("displayValueFormatter")(e)},_renderProps:function(){this._input().prop({min:this.option("min"),max:this.option("max"),step:this.option("step")}),this.setAria({valuemin:(0,d.ensureDefined)(this.option("min"),""),valuemax:(0,d.ensureDefined)(this.option("max"),"")})},_spinButtonsPointerDownHandler:function(){var e=this._input();this.option("useLargeSpinButtons")||x.Z.getActiveElement()===e[0]||a.Z.trigger(e,"focus")},_spinUpChangeHandler:function(e){this.option("readOnly")||this._spinValueChange(1,e.event||e)},_spinDownChangeHandler:function(e){this.option("readOnly")||this._spinValueChange(-1,e.event||e)},_spinValueChange:function(e,t){var i=parseFloat(this.option("step"));if(0!==i){var n=parseFloat(this._normalizeInputValue())||0;n=this._correctRounding(n,i*e);var a=this.option("min"),o=this.option("max");(0,s.$K)(a)&&(n=Math.max(a,n)),(0,s.$K)(o)&&(n=Math.min(o,n)),this._saveValueChangeEvent(t),this.option("value",n)}},_correctRounding:function(e,t){var i=/[,.](.*)/,n=i.test(e),a=i.test(t);if(n||a){var o=n?i.exec(e)[0].length:0,s=a?i.exec(t)[0].length:0,r=$.max(o,s);return this._round(e+t,r)}return e+t},_round:function(e,t){t=t||0;var i=Math.pow(10,t);return e*=i,Math.round(e)/i},_renderValueChangeEvent:function(){this.callBase();var e=(0,B.V4)("focusout","NumberBoxForceValueChange");a.Z.off(this.element(),e),a.Z.on(this.element(),e,this._forceRefreshInputValue.bind(this))},_forceRefreshInputValue:function(){if("number"!==this.option("mode")){var e=this._input(),t=this._applyDisplayValueFormatter(this.option("value"));e.val(null),e.val(t)}},_valueChangeEventHandler:function(e){var t=this._input(),i=this._normalizeText(),n=this._parseValue(i),a="."!==i&&"-"!==i;!this._isValueValid()||this._validateValue(n)?(a&&this.callBase(e,isNaN(n)?null:n),this._applyValueBoundaries(i,n),this.validationRequest.fire({value:n,editor:this})):t.val(this._applyDisplayValueFormatter(n))},_applyValueBoundaries:function(e,t){var i=this._isValueIncomplete(e),n=this._isValueInRange(e);i||n||null===t||Number(e)!==t&&this._input().val(this._applyDisplayValueFormatter(t))},_replaceCommaWithPoint:function(e){return e.replace(",",".")},_inputIsInvalid:function(){var e="number"===this.option("mode"),t=this._input().get(0).validity;return e&&t&&t.badInput},_renderDisplayText:function(e){this._inputIsInvalid()||this.callBase(e)},_isValueIncomplete:function(e){return/(^-$)|(^-?\d*\.$)|(\d+e-?$)/i.test(e)},_isValueInRange:function(e){return(0,l.Z2)(e,this.option("min"),this.option("max"))},_isNumber:function(e){return null!==this._parseValue(e)},_validateValue:function(e){var t=this._normalizeText(),i=this._isValueValid(),n=!0,a=this._isNumber(t);return isNaN(Number(e))&&(n=!1),!e&&i?n=!0:a||i||(n=!1),this.option({isValid:n,validationError:n?null:{editorSpecific:!0,message:this.option("invalidValueMessage")}}),n},_normalizeInputValue:function(){return this._parseValue(this._normalizeText())},_normalizeText:function(){var e=this._input().val().trim();return this._replaceCommaWithPoint(e)},_parseValue:function(e){var t=parseFloat(e);return isNaN(t)?null:(0,l.n$)(t,this.option("min"),this.option("max"))},_clearValue:function(){this._inputIsInvalid()&&(this._input().val(""),this._validateValue()),this.callBase()},reset:function(){null===this.option("value")?(this.option("text",""),this._renderValue()):this.option("value",null)},_optionChanged:function(e){switch(e.name){case"value":this._validateValue(e.value),this._setSubmitValue(e.value),this.callBase(e),this._resumeValueChangeAction();break;case"step":this._renderProps();break;case"min":case"max":this._renderProps(),this.option("value",this._parseValue(this.option("value")));break;case"showSpinButtons":case"useLargeSpinButtons":this._updateButtons(["spins"]);break;case"invalidValueMessage":break;default:this.callBase(e)}}}),H="dxNumberFormatter",z="minus";const W=N.inherit({_getDefaultOptions:function(){return(0,o.l)(this.callBase(),{useMaskBehavior:!0,format:null})},_isDeleteKey:function(e){return"del"===e},_supportedKeys:function(){return this._useMaskBehavior()?(0,o.l)(this.callBase(),{minus:this._revertSign.bind(this),del:this._removeHandler.bind(this),backspace:this._removeHandler.bind(this),leftArrow:this._arrowHandler.bind(this,-1),rightArrow:this._arrowHandler.bind(this,1),home:this._moveCaretToBoundaryEventHandler.bind(this,1),enter:this._updateFormattedValue.bind(this),end:this._moveCaretToBoundaryEventHandler.bind(this,-1)}):this.callBase()},_getTextSeparatorIndex:function(e){var t=u.Z.getDecimalSeparator(),i=h(this.option("format")).occurrence;return c(e,t,i)},_focusInHandler:function(e){this._preventNestedFocusEvent(e)||(this.clearCaretTimeout(),this._caretTimeout=setTimeout(function(){this._caretTimeout=void 0;var t=this._caret();if(t.start===t.end&&this._useMaskBehavior()){var i=this._getInputVal(),n=this._getTextSeparatorIndex(i);n>=0?this._caret({start:n,end:n}):this._moveCaretToBoundaryEventHandler(-1,e)}}.bind(this),0)),this.callBase(e)},_focusOutHandler:function(e){var t=!this._preventNestedFocusEvent(e);t&&(this._focusOutOccurs=!0,this._useMaskBehavior()&&this._updateFormattedValue()),this.callBase(e),t&&(this._focusOutOccurs=!1)},_hasValueBeenChanged(e){var t=this._getFormatPattern(),i=this.option("value");return(this._format(i,t)||"")!==e},_updateFormattedValue:function(){var e=this._getInputVal();this._hasValueBeenChanged(e)&&(this._updateParsedValue(),this._adjustParsedValue(),this._setTextByParsedValue(),this._parsedValue!==this.option("value")&&a.Z.trigger(this._input(),"change"))},_arrowHandler:function(e,t){if(this._useMaskBehavior()){var i=this._getInputVal(),n=this._getFormatPattern(),a=v(this._caret(),e);(function(e,t,i){var n=y(e=v(e,0),t,i);return e.start>=n.start&&e.end<=n.end})(a,i,n)||(a=1===e?a.end:a.start,t.preventDefault(),this._caret(y(a,i,n)))}},_moveCaretToBoundary:function(e){var t=_(this._getInputVal(),this._getFormatPattern()),i=v(1===e?t.start:t.end,0);this._caret(i)},_moveCaretToBoundaryEventHandler:function(e,t){!this._useMaskBehavior()||t&&t.shiftKey||(this._moveCaretToBoundary(e),t&&t.preventDefault())},_shouldMoveCaret:function(e,t){var i=u.Z.getDecimalSeparator(),n=e.charAt(t.end)===i;return(this._lastKey===i||"."===this._lastKey||","===this._lastKey)&&n},_getInputVal:function(){return u.Z.convertDigits(this._input().val(),!0)},_keyboardHandler:function(e){if(this.clearCaretTimeout(),this._lastKey=u.Z.convertDigits((0,B.qK)(e),!0),this._lastKeyName=(0,B.EV)(e),!this._shouldHandleKey(e.originalEvent))return this.callBase(e);var t=this._getInputVal(),i=this._caret(),n=this._lastKeyName===z?"":this._lastKey,a=this._tryParse(t,i,n);return this._shouldMoveCaret(t,i)&&(this._moveCaret(1),e.originalEvent.preventDefault()),void 0===a?this._lastKeyName!==z&&e.originalEvent.preventDefault():this._parsedValue=a,this.callBase(e)},_keyPressHandler:function(e){this._useMaskBehavior()||this.callBase(e)},_removeHandler:function(e){var t=this._caret(),i=this._getInputVal(),n=t.start,a=t.end;this._lastKey=(0,B.qK)(e),this._lastKeyName=(0,B.EV)(e);var o=this._isDeleteKey(this._lastKeyName),s=!o;if(n===a){if(!(s&&n>0||o&&n<i.length))return void e.preventDefault();o&&a++,s&&n--}var r=i.slice(n,a);if(this._isStub(r))return this._moveCaret(o?1:-1),(this._parsedValue<0||1/this._parsedValue==-1/0)&&(this._revertSign(e),this._setTextByParsedValue()),void e.preventDefault();var l=u.Z.getDecimalSeparator();if(r!==l){if(a-n<i.length&&this._replaceSelectedText(i,{start:n,end:a},"").search(/[0-9]/)<0&&this._isValueInRange(0))return void(this._parsedValue=this._parsedValue<0||1/this._parsedValue==-1/0?-0:0);var d=this._tryParse(i,{start:n,end:a},"");void 0===d?e.preventDefault():this._parsedValue=d}else{var h=i.indexOf(l);this._isNonStubAfter(h+1)&&(this._moveCaret(o?1:-1),e.preventDefault())}},_isPercentFormat:function(){return-1!==this._getFormatPattern().replace(/'[^']+'/g,"").indexOf("%")},_parse:function(e,t){var i=this.option("format"),n=(0,s.mf)(i.parser),a=n?i.parser:u.Z.parse,o=0;if(!n){var r=h(t).index,l=this._getTextSeparatorIndex(e),d=-1!==r?r:t.length,c=-1!==l?l:e.length;c>d&&-1===t.indexOf("#")&&(o=c-d)}return a(e=e.substr(o),t)},_format:function(e,t){var i=this.option("format"),n=(null==i?void 0:i.formatter)||i,a=(0,s.mf)(n)?n:u.Z.format;return null===e?"":a(e,t)},_getFormatPattern:function(){return this._currentFormat||this._updateFormat(),this._currentFormat},_updateFormat:function(){var e=this.option("format"),t=(0,s.mf)(null==e?void 0:e.parser),i=(0,s.HD)(e)&&(e.indexOf("0")>=0||e.indexOf("#")>=0);this._currentFormat=t||i?e:(0,C.y)((t=>{var i=this._format(t,e);return u.Z.convertDigits(i,!0)}))},_getFormatForSign:function(e){var t=this._getFormatPattern();if((0,s.HD)(t)){var i=t.split(";"),n=u.Z.getSign(e,t);return i[1]=i[1]||"-"+i[0],n<0?i[1]:i[0]}return u.Z.getSign(e)<0?"-":""},_removeStubs:function(e,t){var i=this._getFormatForSign(e),n=u.Z.getThousandsSeparator(),a=this._getStubs(i),o=e;if(a.length){var s=a[0],r=new RegExp("("+(0,d.escapeRegExp)(a[1]||"")+")$","g"),l=new RegExp("[-"+(0,d.escapeRegExp)(t?"":n)+"]","g");o=o.replace(s,"").replace(r,"").replace(l,"")}return o},_getStubs:function(e){var t=/[^']([#0.,]+)/g.exec(e),i=t&&t[0].trim();return e.split(i).map((function(e){return e.replace(/'/g,"")}))},_truncateToPrecision:function(e,t){if((0,s.$K)(e)){var i=e.toString(),n=i.indexOf(".");if(i&&n>-1){var a=parseFloat(i.substr(0,n+t+1));return isNaN(a)?e:a}}return e},_tryParse:function(e,t,i){var n=this._replaceSelectedText(e,t,i),a=this._getFormatPattern(),o=t.start!==t.end,s=this._getParsedValue(n,a),r=!a.parser&&this._getPrecisionLimits(n).max,d=s!==this._parsedValue,h=i===u.Z.getDecimalSeparator()&&0===r,c=!o&&!d&&"-"!==i&&!this._isValueIncomplete(n)&&this._isStub(i);if(!h&&!c&&(""===this._removeStubs(n)&&(s=Math.abs(0*this._parsedValue)),!isNaN(s))){var p,_,m=null===s?this._parsedValue:s;return s=r?this._truncateToPrecision(m,r):s,!a.parser&&this._isPercentFormat()?(_=r,(p=s)&&(0,l.zB)(p/100,_)):s}},_getParsedValue:function(e,t){var i=u.Z.getSign(e,(null==t?void 0:t.formatter)||t),n=this._removeStubs(e,!0),a=this._parse(n,t),o=a<0?-1:1;return(0,s.kE)(a)&&i!==o?i*a:a},_isValueIncomplete:function(e){if(!this._useMaskBehavior())return this.callBase(e);var t=this._caret(),i=u.Z.getDecimalSeparator(),n=this._getTextSeparatorIndex(e),a=n>=0&&n<t.start,o=this._removeStubs(e,!0).split(i);if(!a||2!==o.length)return!1;var s=o[1].length,r=!!this._getFormatPattern().parser,d=!r&&this._getPrecisionLimits(this._getFormatPattern(),e),h=!!r||(0,l.Z2)(s,d.min,d.max),c="0"===o[1].charAt(s-1);return h&&(c||!s)},_isValueInRange:function(e){var t=(0,d.ensureDefined)(this.option("min"),-1/0),i=(0,d.ensureDefined)(this.option("max"),1/0);return(0,l.Z2)(e,t,i)},_setInputText:function(e){var t=u.Z.convertDigits(e,!0),i=function(e,t,i,n){i=v(i,0);var a=u.Z.getDecimalSeparator(),o=function(e){return 1===e.length&&!!e.match(/^[,.][0-9]*$/g)}(e),s=h(n).occurrence,r=o?0:c(e,a,s),l=c(t,a,s),d=p(e,r),_=p(t,l);if(-1!==r&&i.start>r){var C=i.start-r-1,D=m(C,d[1]);return y(_[1]?l+1+g(D,_[1])+1:t.length,t,n)}var x=function(e){return e.replace(/[^0-9e]+$/,"")}(_[0]),b=d[0].length-i.start,w=m(b,f(d[0])),I=g(w,f(x));return y(x.length-(I+1),t,n)}(this._getInputVal(),t,this._caret(),this._getFormatPattern());this._input().val(e),this._toggleEmptinessEventHandler(),this._formattedValue=e,this._focusOutOccurs||this._caret(i)},_useMaskBehavior:function(){return!!this.option("format")&&this.option("useMaskBehavior")},_renderInputType:function(){var e="number"===this.option("mode"),t="desktop"===r.Z.real().deviceType;this._useMaskBehavior()&&e?this._setInputType(t||this._isSupportInputMode()?"text":"tel"):this.callBase()},_isChar:function(e){return(0,s.HD)(e)&&1===e.length},_moveCaret:function(e){if(e){var t=y(v(this._caret(),e),this._getInputVal(),this._getFormatPattern());this._caret(t)}},_shouldHandleKey:function(e){var t=(0,B.EV)(e),i=(0,B.j1)(e)||e.altKey||e.shiftKey||!this._isChar(t),n=t===z;return this._useMaskBehavior()&&!i&&!n},_renderInput:function(){this.callBase(),this._renderFormatter()},_renderFormatter:function(){this._clearCache(),this._detachFormatterEvents(),this._useMaskBehavior()&&this._attachFormatterEvents()},_detachFormatterEvents:function(){a.Z.off(this._input(),".dxNumberFormatter")},_isInputFromPaste:function(e){var t=e.originalEvent&&e.originalEvent.inputType;return(0,s.$K)(t)?"insertFromPaste"===t:this._isValuePasted},_attachFormatterEvents:function(){var e=this._input();a.Z.on(e,(0,B.V4)("input",H),function(e){this._formatValue(e),this._isValuePasted=!1}.bind(this)),a.Z.on(e,(0,B.V4)("dxclick",H),function(){this._caretTimeout||(this._caretTimeout=setTimeout(function(){this._caretTimeout=void 0,this._caret(y(this._caret(),this._getInputVal(),this._getFormatPattern()))}.bind(this),0))}.bind(this)),a.Z.on(e,"dxdblclick",function(){this.clearCaretTimeout()}.bind(this))},clearCaretTimeout:function(){clearTimeout(this._caretTimeout),this._caretTimeout=void 0},_forceRefreshInputValue:function(){if(!this._useMaskBehavior())return this.callBase()},_isNonStubAfter:function(e){var t=this._getInputVal().slice(e);return t&&!this._isStub(t,!0)},_isStub:function(e,t){var i=(0,d.escapeRegExp)(u.Z.getDecimalSeparator());return new RegExp("^[^0-9"+i+"]+$","g").test(e)&&(t||this._isChar(e))},_parseValue:function(e){return this._useMaskBehavior()?this._parsedValue:this.callBase(e)},_getPrecisionLimits:function(e){var t=this._getFormatForSign(e),i=h(t).index,n=(p(t,i)[1]||"").replace(/[^#0]/g,"");return{min:n.replace(/^(0*)#*/,"$1").length,max:n.length}},_revertSign:function(e){if(this._useMaskBehavior()){var t=this._caret();if(t.start!==t.end){if((0,B.EV)(e)===z)return void this._applyRevertedSign(e,t,!0);this._caret(y(0,this._getInputVal(),this._getFormatPattern()))}this._applyRevertedSign(e,t)}},_applyRevertedSign:function(e,t,i){var n=-1*(0,d.ensureDefined)(this._parsedValue,null);if(this._isValueInRange(n)&&(this._parsedValue=n,i)){var a=this._getFormatPattern(),o=this._getInputVal();this._setTextByParsedValue(),e.preventDefault();var s=this._getInputVal(),r=function(e,t,i){var n=_(e,i);return _(t,i).start-n.start}(o,s,a),l=y(t=v(t,r),s,a);this._caret(l)}},_removeMinusFromText:function(e,t){return this._lastKeyName===z&&"-"===e.charAt(t.start-1)?this._replaceSelectedText(e,{start:t.start-1,end:t.start},""):e},_setTextByParsedValue:function(){var e=this._getFormatPattern(),t=this._parseValue(),i=this._format(t,e)||"";this._setInputText(i)},_formatValue:function(e){var t=this._getInputVal(),i=this._caret(),n=this._removeMinusFromText(t,i),a=n!==t;if(t=n,!this._isInputFromPaste(e)&&this._isValueIncomplete(n))return this._formattedValue=t,void(a&&this._setTextByParsedValue());if(u.Z.convertDigits(this._formattedValue,!0)!==t){var o=this._tryParse(t,i,"");(0,s.$K)(o)&&(this._parsedValue=o)}this._setTextByParsedValue()},_renderDisplayText:function(){this._useMaskBehavior()?this._toggleEmptinessEventHandler():this.callBase.apply(this,arguments)},_renderValue:function(){return this._useMaskBehavior()&&(this._parsedValue=this.option("value"),this._setTextByParsedValue()),this.callBase()},_updateParsedValue:function(){var e=this._getInputVal();this._parsedValue=this._tryParse(e,this._caret())},_adjustParsedValue:function(){if(this._useMaskBehavior()){var e=this._removeStubs(this._getInputVal())?this._parseValue():null;(0,s.kE)(e)?this._parsedValue=(0,l.n$)(e,this.option("min"),this.option("max")):this._parsedValue=e}},_valueChangeEventHandler:function(e){if(!this._useMaskBehavior())return this.callBase(e);var t=this._caret();this._saveValueChangeEvent(e),this._lastKey=null,this._lastKeyName=null,this._updateParsedValue(),this._adjustParsedValue(),this.option("value",this._parsedValue),t&&this._caret(t)},_optionChanged:function(e){switch(e.name){case"format":case"useMaskBehavior":this._renderInputType(),this._updateFormat(),this._renderFormatter(),this._renderValue(),this._refreshValueChangeEvent(),this._refreshEvents();break;case"min":case"max":this._adjustParsedValue(),this.callBase(e);break;default:this.callBase(e)}},_clearCache:function(){delete this._formattedValue,delete this._lastKey,delete this._lastKeyName,delete this._parsedValue,delete this._focusOutOccurs,clearTimeout(this._caretTimeout),delete this._caretTimeout},_clean:function(){this._clearCache(),this.callBase()}});(0,n.Z)("dxNumberBox",W);const K=W}}]);